{
  "version": 3,
  "sources": ["../../docx-templates/lib/zip.js", "browser-external:stream", "browser-external:buffer", "../../safe-buffer/index.js", "../../string_decoder/lib/string_decoder.js", "../../sax/lib/sax.js", "../../docx-templates/lib/debug.js", "../../docx-templates/lib/xml.js", "../../docx-templates/lib/errors.js", "../../docx-templates/lib/reportUtils.js", "../../docx-templates/lib/preprocessTemplate.js", "browser-external:vm", "../../docx-templates/lib/jsSandbox.js", "../../docx-templates/lib/types.js", "../../docx-templates/lib/processTemplate.js", "../../docx-templates/lib/main.js", "../../docx-templates/lib/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.zipSave = exports.zipSetText = exports.zipGetText = exports.zipLoad = void 0;\nvar jszip_1 = __importDefault(require(\"jszip\"));\nvar zipLoad = function (inputFile) { return jszip_1.default.loadAsync(inputFile); };\nexports.zipLoad = zipLoad;\nvar zipGetText = function (zip, filename) {\n    var file_in_zip = zip.file(filename);\n    if (!file_in_zip)\n        return null;\n    return file_in_zip.async('text');\n};\nexports.zipGetText = zipGetText;\nvar zipSetText = function (zip, filename, data) {\n    return zip.file(filename, data, { binary: false });\n};\nexports.zipSetText = zipSetText;\nvar zipSave = function (zip) {\n    return zip.generateAsync({\n        type: 'uint8array',\n        compression: 'DEFLATE',\n        compressionOptions: { level: 1 },\n    });\n};\nexports.zipSave = zipSave;\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"stream\" has been externalized for browser compatibility. Cannot access \"stream.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"buffer\" has been externalized for browser compatibility. Cannot access \"buffer.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}", ";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n  if (!Stream) Stream = function () {}\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            if (parser.opt.unparsedEntities) {\n              var parsedEntity = parseEntity(parser)\n              parser.entity = ''\n              parser.state = returnState\n              parser.write(parsedEntity)\n            } else {\n              parser[buffer] += parseEntity(parser)\n              parser.entity = ''\n              parser.state = returnState\n            }\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default: /* istanbul ignore next */ {\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n        }\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setDebugLogSink = exports.logger = void 0;\nexports.logger = { debug: function () { } };\nfunction setDebugLogSink(f) {\n    exports.logger.debug = f;\n}\nexports.setDebugLogSink = setDebugLogSink;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildXml = exports.parseXml = void 0;\nvar sax_1 = __importDefault(require(\"sax\"));\nvar debug_1 = require(\"./debug\");\nvar parseXml = function (templateXml) {\n    var parser = sax_1.default.parser(true, {\n        // true for XML-like (false for HTML-like)\n        trim: false,\n        normalize: false,\n    });\n    var template;\n    var curNode = null;\n    var numXmlElements = 0;\n    return new Promise(function (resolve, reject) {\n        parser.onopentag = function (node) {\n            var newNode = {\n                _parent: curNode || undefined,\n                _children: [],\n                _fTextNode: false,\n                _tag: node.name,\n                _attrs: node.attributes,\n            };\n            if (curNode != null)\n                curNode._children.push(newNode);\n            else\n                template = newNode;\n            curNode = newNode;\n            numXmlElements += 1;\n        };\n        parser.onclosetag = function () {\n            curNode = curNode != null ? curNode._parent : null;\n        };\n        parser.ontext = function (text) {\n            if (curNode == null)\n                return;\n            curNode._children.push({\n                _parent: curNode,\n                _children: [],\n                _fTextNode: true,\n                _text: text,\n            });\n        };\n        parser.onend = function () {\n            debug_1.logger.debug(\"Number of XML elements: \".concat(numXmlElements));\n            resolve(template);\n        };\n        parser.onerror = function (err) {\n            reject(err);\n        };\n        parser.write(templateXml);\n        parser.end();\n    });\n};\nexports.parseXml = parseXml;\nfunction buildXml(node, options, indent) {\n    if (indent === void 0) { indent = ''; }\n    var xml = indent.length\n        ? ''\n        : '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>';\n    var xmlBuffers = [Buffer.from(xml, 'utf-8')];\n    if (node._fTextNode)\n        xmlBuffers.push(Buffer.from(sanitizeText(node._text, options)));\n    else {\n        var attrs_1 = '';\n        var nodeAttrs_1 = node._attrs;\n        Object.keys(nodeAttrs_1).forEach(function (key) {\n            attrs_1 += \" \".concat(key, \"=\\\"\").concat(sanitizeAttr(nodeAttrs_1[key]), \"\\\"\");\n        });\n        var fHasChildren = node._children.length > 0;\n        var suffix = fHasChildren ? '' : '/';\n        xmlBuffers.push(Buffer.from(\"\\n\".concat(indent, \"<\").concat(node._tag).concat(attrs_1).concat(suffix, \">\")));\n        var fLastChildIsNode_1 = false;\n        node._children.forEach(function (child) {\n            xmlBuffers.push(buildXml(child, options, \"\".concat(indent, \"  \")));\n            fLastChildIsNode_1 = !child._fTextNode;\n        });\n        if (fHasChildren) {\n            var indent2 = fLastChildIsNode_1 ? \"\\n\".concat(indent) : '';\n            xmlBuffers.push(Buffer.from(\"\".concat(indent2, \"</\").concat(node._tag, \">\")));\n        }\n    }\n    return Buffer.concat(xmlBuffers);\n}\nexports.buildXml = buildXml;\nvar sanitizeText = function (str, options) {\n    var out = '';\n    var segments = str.split(options.literalXmlDelimiter);\n    var fLiteral = false;\n    for (var i = 0; i < segments.length; i++) {\n        var processedSegment = segments[i];\n        if (!fLiteral) {\n            processedSegment = processedSegment.replace(/&/g, '&amp;'); // must be the first one\n            processedSegment = processedSegment.replace(/</g, '&lt;');\n            processedSegment = processedSegment.replace(/>/g, '&gt;');\n        }\n        out += processedSegment;\n        fLiteral = !fLiteral;\n    }\n    return out;\n};\nvar sanitizeAttr = function (attr) {\n    var out = typeof attr === 'string' ? attr : attr.value;\n    out = out.replace(/&/g, '&amp;'); // must be the first one\n    out = out.replace(/</g, '&lt;');\n    out = out.replace(/>/g, '&gt;');\n    out = out.replace(/'/g, '&apos;');\n    out = out.replace(/\"/g, '&quot;');\n    return out;\n};\n", "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnterminatedForLoopError = exports.IncompleteConditionalStatementError = exports.TemplateParseError = exports.InternalError = exports.ImageError = exports.CommandExecutionError = exports.InvalidCommandError = exports.CommandSyntaxError = exports.ObjectCommandResultError = exports.NullishCommandResultError = exports.isError = void 0;\nfunction isError(err) {\n    return (err instanceof Error ||\n        (typeof err === 'object' && !!err && 'name' in err && 'message' in err));\n}\nexports.isError = isError;\n/**\n * Thrown when `rejectNullish` is set to `true` and a command returns `null` or `undefined`.\n */\nvar NullishCommandResultError = /** @class */ (function (_super) {\n    __extends(NullishCommandResultError, _super);\n    function NullishCommandResultError(command) {\n        var _this = _super.call(this, \"Result of command \".concat(command, \" is null or undefined and rejectNullish is set\")) || this;\n        Object.setPrototypeOf(_this, NullishCommandResultError.prototype);\n        _this.command = command;\n        return _this;\n    }\n    return NullishCommandResultError;\n}(Error));\nexports.NullishCommandResultError = NullishCommandResultError;\n/**\n * Thrown when the result of an `INS` command is an `Object`. This ensures you don't accidentally put `'[object Object]'` in your report.\n */\nvar ObjectCommandResultError = /** @class */ (function (_super) {\n    __extends(ObjectCommandResultError, _super);\n    function ObjectCommandResultError(command, result) {\n        var _this = _super.call(this, \"Result of command '\".concat(command, \"' is an object\")) || this;\n        Object.setPrototypeOf(_this, ObjectCommandResultError.prototype);\n        _this.command = command;\n        _this.result = result;\n        return _this;\n    }\n    return ObjectCommandResultError;\n}(Error));\nexports.ObjectCommandResultError = ObjectCommandResultError;\nvar CommandSyntaxError = /** @class */ (function (_super) {\n    __extends(CommandSyntaxError, _super);\n    function CommandSyntaxError(command) {\n        var _this = _super.call(this, \"Invalid command syntax: \".concat(command)) || this;\n        Object.setPrototypeOf(_this, CommandSyntaxError.prototype);\n        _this.command = command;\n        return _this;\n    }\n    return CommandSyntaxError;\n}(Error));\nexports.CommandSyntaxError = CommandSyntaxError;\nvar InvalidCommandError = /** @class */ (function (_super) {\n    __extends(InvalidCommandError, _super);\n    function InvalidCommandError(msg, command) {\n        var _this = _super.call(this, \"\".concat(msg, \": \").concat(command)) || this;\n        Object.setPrototypeOf(_this, InvalidCommandError.prototype);\n        _this.command = command;\n        return _this;\n    }\n    return InvalidCommandError;\n}(Error));\nexports.InvalidCommandError = InvalidCommandError;\nvar CommandExecutionError = /** @class */ (function (_super) {\n    __extends(CommandExecutionError, _super);\n    function CommandExecutionError(err, command) {\n        var _this = _super.call(this, \"Error executing command '\".concat(command, \"': \").concat(err.name, \": \").concat(err.message)) || this;\n        Object.setPrototypeOf(_this, CommandExecutionError.prototype);\n        _this.command = command;\n        _this.err = err;\n        return _this;\n    }\n    return CommandExecutionError;\n}(Error));\nexports.CommandExecutionError = CommandExecutionError;\nvar ImageError = /** @class */ (function (_super) {\n    __extends(ImageError, _super);\n    function ImageError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return ImageError;\n}(CommandExecutionError));\nexports.ImageError = ImageError;\nvar InternalError = /** @class */ (function (_super) {\n    __extends(InternalError, _super);\n    function InternalError(msg) {\n        return _super.call(this, \"INTERNAL ERROR: \".concat(msg)) || this;\n    }\n    return InternalError;\n}(Error));\nexports.InternalError = InternalError;\nvar TemplateParseError = /** @class */ (function (_super) {\n    __extends(TemplateParseError, _super);\n    function TemplateParseError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return TemplateParseError;\n}(Error));\nexports.TemplateParseError = TemplateParseError;\nvar IncompleteConditionalStatementError = /** @class */ (function (_super) {\n    __extends(IncompleteConditionalStatementError, _super);\n    function IncompleteConditionalStatementError() {\n        return _super.call(this, 'Incomplete IF/END-IF statement. Make sure each IF-statement has a corresponding END-IF command.') || this;\n    }\n    return IncompleteConditionalStatementError;\n}(Error));\nexports.IncompleteConditionalStatementError = IncompleteConditionalStatementError;\nvar UnterminatedForLoopError = /** @class */ (function (_super) {\n    __extends(UnterminatedForLoopError, _super);\n    function UnterminatedForLoopError(loop) {\n        return _super.call(this, \"Unterminated FOR-loop ('FOR \".concat(loop.varName, \"'). Make sure each FOR loop has a corresponding END-FOR command.\")) || this;\n    }\n    return UnterminatedForLoopError;\n}(Error));\nexports.UnterminatedForLoopError = UnterminatedForLoopError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logLoop = exports.isLoopExploring = exports.getCurLoop = exports.addChild = exports.newTextNode = exports.newNonTextNode = exports.insertTextSiblingAfter = exports.getNextSibling = exports.cloneNodeWithoutChildren = void 0;\nvar errors_1 = require(\"./errors\");\nvar debug_1 = require(\"./debug\");\n// ==========================================\n// Nodes and trees\n// ==========================================\nvar cloneNodeWithoutChildren = function (node) {\n    if (node._fTextNode) {\n        return {\n            _children: [],\n            _fTextNode: true,\n            _text: node._text,\n        };\n    }\n    return {\n        _children: [],\n        _fTextNode: false,\n        _tag: node._tag,\n        _attrs: node._attrs,\n    };\n};\nexports.cloneNodeWithoutChildren = cloneNodeWithoutChildren;\nvar getNextSibling = function (node) {\n    var parent = node._parent;\n    if (parent == null)\n        return null;\n    var siblings = parent._children;\n    var idx = siblings.indexOf(node);\n    if (idx < 0 || idx >= siblings.length - 1)\n        return null;\n    return siblings[idx + 1];\n};\nexports.getNextSibling = getNextSibling;\nvar insertTextSiblingAfter = function (textNode) {\n    var tNode = textNode._parent;\n    if (!(tNode && !tNode._fTextNode && tNode._tag === 'w:t')) {\n        throw new errors_1.TemplateParseError('Template syntax error: text node not within w:t');\n    }\n    var tNodeParent = tNode._parent;\n    if (tNodeParent == null)\n        throw new errors_1.TemplateParseError('Template syntax error: w:t node has no parent');\n    var idx = tNodeParent._children.indexOf(tNode);\n    if (idx < 0)\n        throw new errors_1.TemplateParseError('Template syntax error');\n    var newTNode = cloneNodeWithoutChildren(tNode);\n    newTNode._parent = tNodeParent;\n    var newTextNode = {\n        _parent: newTNode,\n        _children: [],\n        _fTextNode: true,\n        _text: '',\n    };\n    newTNode._children = [newTextNode];\n    tNodeParent._children.splice(idx + 1, 0, newTNode);\n    return newTextNode;\n};\nexports.insertTextSiblingAfter = insertTextSiblingAfter;\nvar newNonTextNode = function (tag, attrs, children) {\n    if (attrs === void 0) { attrs = {}; }\n    if (children === void 0) { children = []; }\n    var node = {\n        _fTextNode: false,\n        _tag: tag,\n        _attrs: attrs,\n        _children: children,\n    };\n    node._children.forEach(function (child) {\n        child._parent = node;\n    });\n    return node;\n};\nexports.newNonTextNode = newNonTextNode;\nvar newTextNode = function (text) {\n    var node = { _children: [], _fTextNode: true, _text: text };\n    return node;\n};\nexports.newTextNode = newTextNode;\nvar addChild = function (parent, child) {\n    parent._children.push(child);\n    child._parent = parent;\n    return child;\n};\nexports.addChild = addChild;\n// ==========================================\n// Loops\n// ==========================================\nvar getCurLoop = function (ctx) {\n    if (!ctx.loops.length)\n        return null;\n    return ctx.loops[ctx.loops.length - 1];\n};\nexports.getCurLoop = getCurLoop;\nvar isLoopExploring = function (ctx) {\n    var curLoop = getCurLoop(ctx);\n    return curLoop != null && curLoop.idx < 0;\n};\nexports.isLoopExploring = isLoopExploring;\nvar logLoop = function (loops) {\n    if (!loops.length)\n        return;\n    var level = loops.length - 1;\n    var _a = loops[level], varName = _a.varName, idx = _a.idx, loopOver = _a.loopOver, isIf = _a.isIf;\n    var idxStr = idx >= 0 ? idx + 1 : 'EXPLORATION';\n    debug_1.logger.debug(\"\".concat(isIf ? 'IF' : 'FOR', \" loop \") +\n        \"on \".concat(level, \":\").concat(varName) +\n        \"\".concat(idxStr, \"/\").concat(loopOver.length));\n};\nexports.logLoop = logLoop;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reportUtils_1 = require(\"./reportUtils\");\n// In-place\n// In case of split commands (or even split delimiters), joins all the pieces\n// at the starting node\nvar preprocessTemplate = function (template, delimiter) {\n    var node = template;\n    var fCmd = false;\n    var openNode = null;\n    var idxDelimiter = 0;\n    var placeholderCmd = \"\".concat(delimiter[0], \"CMD_NODE\").concat(delimiter[1]);\n    while (node != null) {\n        // Add `xml:space` attr `preserve` to `w:t` tags\n        if (!node._fTextNode && node._tag === 'w:t') {\n            node._attrs['xml:space'] = 'preserve';\n        }\n        // Add a space if we reach a new `w:p` tag and there's an open node (hence, in a command)\n        if (!node._fTextNode && node._tag === 'w:p' && openNode) {\n            openNode._text += ' ';\n        }\n        // Process text nodes inside `w:t` tags\n        if (node._fTextNode &&\n            node._parent &&\n            !node._parent._fTextNode &&\n            node._parent._tag === 'w:t') {\n            if (openNode == null)\n                openNode = node;\n            var textIn = node._text;\n            node._text = '';\n            for (var i = 0; i < textIn.length; i++) {\n                var c = textIn[i];\n                // What's the current expected delimiter\n                var currentDelimiter = fCmd ? delimiter[1] : delimiter[0];\n                // Matches the expected delimiter character\n                if (c === currentDelimiter[idxDelimiter]) {\n                    idxDelimiter += 1;\n                    // Finished matching delimiter? Then toggle `fCmd`,\n                    // add a new `w:t` + text node (either before or after the delimiter),\n                    // depending on the case\n                    if (idxDelimiter === currentDelimiter.length) {\n                        fCmd = !fCmd;\n                        var fNodesMatch = node === openNode;\n                        if (fCmd && openNode._text.length) {\n                            openNode = (0, reportUtils_1.insertTextSiblingAfter)(openNode);\n                            if (fNodesMatch)\n                                node = openNode;\n                        }\n                        openNode._text += currentDelimiter;\n                        if (!fCmd && i < textIn.length - 1) {\n                            openNode = (0, reportUtils_1.insertTextSiblingAfter)(openNode);\n                            if (fNodesMatch)\n                                node = openNode;\n                        }\n                        idxDelimiter = 0;\n                        if (!fCmd)\n                            openNode = node; // may switch open node to the current one\n                    }\n                    // Doesn't match the delimiter, but we had some partial match\n                }\n                else if (idxDelimiter) {\n                    openNode._text += currentDelimiter.slice(0, idxDelimiter);\n                    idxDelimiter = 0;\n                    if (!fCmd)\n                        openNode = node;\n                    openNode._text += c;\n                    // General case\n                }\n                else {\n                    openNode._text += c;\n                }\n            }\n            // Close the text node if nothing's pending\n            if (!fCmd && !idxDelimiter)\n                openNode = null;\n            // If text was present but not any more, add a placeholder, so that this node\n            // will be purged during report generation\n            if (textIn.length && !node._text.length)\n                node._text = placeholderCmd;\n        }\n        // Find next node to process\n        if (node._children.length)\n            node = node._children[0];\n        else {\n            var fFound = false;\n            while (node._parent != null) {\n                var nodeParent = node._parent;\n                var nextSibling = (0, reportUtils_1.getNextSibling)(node);\n                if (nextSibling) {\n                    fFound = true;\n                    node = nextSibling;\n                    break;\n                }\n                node = nodeParent;\n            }\n            if (!fFound)\n                node = null;\n        }\n    }\n    return template;\n};\n// ==========================================\n// Public API\n// ==========================================\nexports.default = preprocessTemplate;\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"vm\" has been externalized for browser compatibility. Cannot access \"vm.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runUserJsAndGetRaw = void 0;\nvar vm_1 = __importDefault(require(\"vm\"));\nvar reportUtils_1 = require(\"./reportUtils\");\nvar errors_1 = require(\"./errors\");\nvar debug_1 = require(\"./debug\");\n// Runs a user snippet in a sandbox, and returns the result.\n// The snippet can return a Promise, which is then awaited.\n// The sandbox is kept for the execution of snippets later on\n// in the template. Sandboxing can also be disabled via\n// ctx.options.noSandbox.\nfunction runUserJsAndGetRaw(data, code, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        var sandbox, curLoop, context, result, temp, wrapper, script, err_1, e, nerr;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    sandbox = __assign(__assign(__assign(__assign({}, (ctx.jsSandbox || {})), { __code__: code, __result__: undefined }), data), ctx.options.additionalJsContext);\n                    curLoop = (0, reportUtils_1.getCurLoop)(ctx);\n                    if (curLoop)\n                        sandbox.$idx = curLoop.idx;\n                    Object.keys(ctx.vars).forEach(function (varName) {\n                        sandbox[\"$\".concat(varName)] = ctx.vars[varName];\n                    });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 8, , 12]);\n                    if (!ctx.options.runJs) return [3 /*break*/, 3];\n                    temp = ctx.options.runJs({ sandbox: sandbox, ctx: ctx });\n                    context = temp.modifiedSandbox;\n                    return [4 /*yield*/, temp.result];\n                case 2:\n                    result = _b.sent();\n                    return [3 /*break*/, 7];\n                case 3:\n                    if (!ctx.options.noSandbox) return [3 /*break*/, 5];\n                    context = sandbox;\n                    wrapper = new Function('with(this) { return eval(__code__); }');\n                    return [4 /*yield*/, wrapper.call(context)];\n                case 4:\n                    result = _b.sent();\n                    return [3 /*break*/, 7];\n                case 5:\n                    script = new vm_1.default.Script((_a = sandbox.__code__) !== null && _a !== void 0 ? _a : '');\n                    context = vm_1.default.createContext(sandbox);\n                    return [4 /*yield*/, script.runInContext(context)];\n                case 6:\n                    result = _b.sent();\n                    _b.label = 7;\n                case 7: return [3 /*break*/, 12];\n                case 8:\n                    err_1 = _b.sent();\n                    e = (0, errors_1.isError)(err_1) ? err_1 : new Error(\"\".concat(err_1));\n                    if (!(ctx.options.errorHandler != null)) return [3 /*break*/, 10];\n                    context = sandbox;\n                    return [4 /*yield*/, ctx.options.errorHandler(e, code)];\n                case 9:\n                    result = _b.sent();\n                    return [3 /*break*/, 11];\n                case 10: throw new errors_1.CommandExecutionError(e, code);\n                case 11: return [3 /*break*/, 12];\n                case 12:\n                    if (!(ctx.options.rejectNullish && result == null)) return [3 /*break*/, 15];\n                    nerr = new errors_1.NullishCommandResultError(code);\n                    if (!(ctx.options.errorHandler != null)) return [3 /*break*/, 14];\n                    return [4 /*yield*/, ctx.options.errorHandler(nerr, code)];\n                case 13:\n                    result = _b.sent();\n                    return [3 /*break*/, 15];\n                case 14: throw nerr;\n                case 15:\n                    // Save the sandbox for later use, omitting the __code__ and __result__ properties.\n                    ctx.jsSandbox = __assign(__assign({}, context), { __code__: undefined, __result__: undefined });\n                    debug_1.logger.debug('Command returned: ', result);\n                    return [2 /*return*/, result];\n            }\n        });\n    });\n}\nexports.runUserJsAndGetRaw = runUserJsAndGetRaw;\n", "\"use strict\";\n// ==========================================\n// Docx nodes\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BUILT_IN_COMMANDS = exports.ImageExtensions = void 0;\nexports.ImageExtensions = [\n    '.png',\n    '.gif',\n    '.jpg',\n    '.jpeg',\n    '.svg',\n];\nexports.BUILT_IN_COMMANDS = [\n    'QUERY',\n    'CMD_NODE',\n    'ALIAS',\n    'FOR',\n    'END-FOR',\n    'IF',\n    'END-IF',\n    'INS',\n    'EXEC',\n    'IMAGE',\n    'LINK',\n    'HTML',\n];\n", "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitCommand = exports.getCommand = exports.walkTemplate = exports.findHighestImgId = exports.produceJsReport = exports.extractQuery = exports.newContext = void 0;\nvar reportUtils_1 = require(\"./reportUtils\");\nvar jsSandbox_1 = require(\"./jsSandbox\");\nvar types_1 = require(\"./types\");\nvar errors_1 = require(\"./errors\");\nvar debug_1 = require(\"./debug\");\nfunction newContext(options, imageAndShapeIdIncrement) {\n    if (imageAndShapeIdIncrement === void 0) { imageAndShapeIdIncrement = 0; }\n    return {\n        gCntIf: 0,\n        gCntEndIf: 0,\n        level: 1,\n        fCmd: false,\n        cmd: '',\n        fSeekQuery: false,\n        buffers: {\n            'w:p': { text: '', cmds: '', fInsertedText: false },\n            'w:tr': { text: '', cmds: '', fInsertedText: false },\n            'w:tc': { text: '', cmds: '', fInsertedText: false },\n        },\n        imageAndShapeIdIncrement: imageAndShapeIdIncrement,\n        images: {},\n        linkId: 0,\n        links: {},\n        htmlId: 0,\n        htmls: {},\n        vars: {},\n        loops: [],\n        fJump: false,\n        shorthands: {},\n        options: options,\n        // To verfiy we don't have a nested if within the same p or tr tag\n        pIfCheckMap: new Map(),\n        trIfCheckMap: new Map(),\n    };\n}\nexports.newContext = newContext;\n// Go through the document until the query string is found (normally at the beginning)\nfunction extractQuery(template, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ctx, nodeIn, fFound, parent_1, nextSibling, parent_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    ctx = newContext(options);\n                    // ensure no command will be processed, except QUERY\n                    ctx.fSeekQuery = true;\n                    nodeIn = template;\n                    _a.label = 1;\n                case 1:\n                    if (!true) return [3 /*break*/, 4];\n                    // Move down\n                    if (nodeIn._children.length)\n                        nodeIn = nodeIn._children[0];\n                    else {\n                        fFound = false;\n                        while (nodeIn._parent != null) {\n                            parent_1 = nodeIn._parent;\n                            nextSibling = (0, reportUtils_1.getNextSibling)(nodeIn);\n                            if (nextSibling) {\n                                nodeIn = nextSibling;\n                                fFound = true;\n                                break;\n                            }\n                            nodeIn = parent_1;\n                        }\n                        if (!fFound)\n                            return [3 /*break*/, 4];\n                    }\n                    if (!nodeIn)\n                        return [3 /*break*/, 4];\n                    parent_2 = nodeIn._parent;\n                    if (!(nodeIn._fTextNode &&\n                        parent_2 &&\n                        !parent_2._fTextNode &&\n                        parent_2._tag === 'w:t')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, processText(null, nodeIn, ctx, processCmd)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    if (ctx.query != null)\n                        return [3 /*break*/, 4];\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/, ctx.query];\n            }\n        });\n    });\n}\nexports.extractQuery = extractQuery;\nfunction produceJsReport(data, template, ctx) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, walkTemplate(data, template, ctx, processCmd)];\n        });\n    });\n}\nexports.produceJsReport = produceJsReport;\nfunction findHighestImgId(mainDoc) {\n    var doc_ids = [];\n    var search = function (n) {\n        for (var _i = 0, _a = n._children; _i < _a.length; _i++) {\n            var c = _a[_i];\n            var tag = c._fTextNode ? null : c._tag;\n            if (tag == null)\n                continue;\n            if (tag === 'wp:docPr') {\n                if (c._fTextNode)\n                    continue;\n                var raw = c._attrs.id;\n                if (typeof raw !== 'string')\n                    continue;\n                var id = Number.parseInt(raw, 10);\n                if (Number.isSafeInteger(id))\n                    doc_ids.push(id);\n            }\n            if (c._children.length > 0)\n                search(c);\n        }\n    };\n    search(mainDoc);\n    if (doc_ids.length > 0)\n        return Math.max.apply(Math, doc_ids);\n    return 0;\n}\nexports.findHighestImgId = findHighestImgId;\nvar debugPrintNode = function (node) {\n    return JSON.stringify(node._fTextNode\n        ? {\n            _ifName: node._ifName,\n            _fTextNode: node._fTextNode,\n            _text: node === null || node === void 0 ? void 0 : node._text,\n        }\n        : {\n            _ifName: node._ifName,\n            _fTextNode: node._fTextNode,\n            _tag: node === null || node === void 0 ? void 0 : node._tag,\n            _attrs: node === null || node === void 0 ? void 0 : node._attrs,\n        });\n};\nvar findParentPorTrNode = function (node) {\n    var parentNode = node._parent;\n    var resultNode = null;\n    while (parentNode != null && resultNode == null) {\n        var parentNodeTag = parentNode._fTextNode ? null : parentNode._tag;\n        if (parentNodeTag === 'w:p') {\n            // check also for w:tr tag\n            var grandParentNode = parentNode._parent != null ? parentNode._parent._parent : null;\n            if (grandParentNode != null &&\n                !grandParentNode._fTextNode &&\n                grandParentNode._tag === 'w:tr') {\n                resultNode = grandParentNode;\n            }\n            else {\n                resultNode = parentNode;\n            }\n        }\n        parentNode = parentNode._parent;\n    }\n    return resultNode;\n};\nfunction walkTemplate(data, template, ctx, processor) {\n    return __awaiter(this, void 0, void 0, function () {\n        var out, nodeIn, nodeOut, move, deltaJump, errors, loopCount, maximumWalkingDepth, curLoop, nextSibling, parent_3, tag, fRemoveNode, buffers, nodeOutParent, imgNode, captionNodes, parent_4, linkNode, parent_5, htmlNode, parent_6, tag, newNode, newNodeTag, parent_7, result, err, innermost_loop, err;\n        var _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    out = (0, reportUtils_1.cloneNodeWithoutChildren)(template);\n                    nodeIn = template;\n                    nodeOut = out;\n                    deltaJump = 0;\n                    errors = [];\n                    loopCount = 0;\n                    maximumWalkingDepth = ((_b = ctx.options) === null || _b === void 0 ? void 0 : _b.maximumWalkingDepth) || 1000000;\n                    _c.label = 1;\n                case 1:\n                    if (!true) return [3 /*break*/, 5];\n                    curLoop = (0, reportUtils_1.getCurLoop)(ctx);\n                    nextSibling = null;\n                    // =============================================\n                    // Move input node pointer\n                    // =============================================\n                    if (ctx.fJump) {\n                        if (!curLoop)\n                            throw new errors_1.InternalError('jumping while curLoop is null');\n                        // TODO: comment debug statements back out, as creating the debug string creates overhead.\n                        debug_1.logger.debug(\"Jumping to level \".concat(curLoop.refNodeLevel, \"...\"), debugPrintNode(curLoop.refNode));\n                        deltaJump = ctx.level - curLoop.refNodeLevel;\n                        nodeIn = curLoop.refNode;\n                        ctx.level = curLoop.refNodeLevel;\n                        ctx.fJump = false;\n                        move = 'JUMP';\n                        // Down (only if he haven't just moved up)\n                    }\n                    else if (nodeIn._children.length && move !== 'UP') {\n                        nodeIn = nodeIn._children[0];\n                        ctx.level += 1;\n                        move = 'DOWN';\n                        // Sideways\n                    }\n                    else if ((nextSibling = (0, reportUtils_1.getNextSibling)(nodeIn))) {\n                        nodeIn = nextSibling;\n                        move = 'SIDE';\n                        // Up\n                    }\n                    else {\n                        parent_3 = nodeIn._parent;\n                        if (parent_3 == null) {\n                            debug_1.logger.debug(\"=== parent is null, breaking after \".concat(loopCount, \" loops...\"));\n                            return [3 /*break*/, 5];\n                        }\n                        else if (loopCount > maximumWalkingDepth) {\n                            // adding a emergency exit to avoid infit loops\n                            debug_1.logger.debug(\"=== parent is still not null after \".concat(loopCount, \" loops, something must be wrong ...\"), debugPrintNode(parent_3));\n                            throw new errors_1.InternalError('infinite loop or massive dataset detected. Please review and try again');\n                        }\n                        nodeIn = parent_3;\n                        ctx.level -= 1;\n                        move = 'UP';\n                    }\n                    debug_1.logger.debug(\"Next node [\".concat(move, \", level \").concat(ctx.level, \"]\"), debugPrintNode(nodeIn));\n                    // =============================================\n                    // Process input node\n                    // =============================================\n                    // Delete the last generated output node in several special cases\n                    // --------------------------------------------------------------\n                    if (move !== 'DOWN') {\n                        tag = nodeOut._fTextNode ? null : nodeOut._tag;\n                        fRemoveNode = false;\n                        // Delete last generated output node if we're skipping nodes due to an empty FOR loop\n                        if ((tag === 'w:p' ||\n                            tag === 'w:tbl' ||\n                            tag === 'w:tr' ||\n                            tag === 'w:tc') &&\n                            (0, reportUtils_1.isLoopExploring)(ctx)) {\n                            fRemoveNode = true;\n                            // Delete last generated output node if the user inserted a paragraph\n                            // (or table row) with just a command\n                        }\n                        else if (tag === 'w:p' || tag === 'w:tr' || tag === 'w:tc') {\n                            buffers = ctx.buffers[tag];\n                            fRemoveNode =\n                                buffers.text === '' && buffers.cmds !== '' && !buffers.fInsertedText;\n                            // If the last generated output node is a table row, and it is set to be deleted,\n                            // don't delete if it has exactly one nested row (i.e. within nested table)\n                            if (tag === 'w:tr' && fRemoveNode) {\n                                fRemoveNode =\n                                    nodeIn._children.filter(function (child) { return !child._fTextNode && child._tag === 'w:tr'; }).length !== 1;\n                            }\n                            // If the last generated output node is a table column, and it is set to be deleted,\n                            // don't delete if it has a table as a child\n                            if (tag === 'w:tc' && fRemoveNode) {\n                                fRemoveNode = !(nodeOut._children.filter(function (child) { return !child._fTextNode && child._tag === 'w:tbl'; }).length > 0);\n                            }\n                        }\n                        // Execute removal, if needed. The node will no longer be part of the output, but\n                        // the parent will be accessible from the child (so that we can still move up the tree)\n                        if (fRemoveNode && nodeOut._parent != null) {\n                            nodeOut._parent._children.pop();\n                        }\n                    }\n                    // Handle an UP movement\n                    // ---------------------\n                    if (move === 'UP') {\n                        // Loop exploring? Update the reference node for the current loop\n                        if ((0, reportUtils_1.isLoopExploring)(ctx) &&\n                            curLoop &&\n                            nodeIn === curLoop.refNode._parent) {\n                            curLoop.refNode = nodeIn;\n                            curLoop.refNodeLevel -= 1;\n                            debug_1.logger.debug(\"Updated loop '\".concat(curLoop.varName, \"' refNode: \") + debugPrintNode(nodeIn));\n                        }\n                        nodeOutParent = nodeOut._parent;\n                        if (nodeOutParent == null)\n                            throw new errors_1.InternalError('node parent is null');\n                        // Execute the move in the output tree\n                        nodeOut = nodeOutParent;\n                        // If an image was generated, replace the parent `w:t` node with\n                        // the image node\n                        if (ctx.pendingImageNode &&\n                            !nodeOut._fTextNode &&\n                            nodeOut._tag === 'w:t') {\n                            imgNode = ctx.pendingImageNode.image;\n                            captionNodes = ctx.pendingImageNode.caption;\n                            parent_4 = nodeOut._parent;\n                            if (parent_4) {\n                                imgNode._parent = parent_4;\n                                parent_4._children.pop();\n                                parent_4._children.push(imgNode);\n                                if (captionNodes) {\n                                    (_a = parent_4._children).push.apply(_a, captionNodes);\n                                }\n                                // Prevent containing paragraph or table row from being removed\n                                ctx.buffers['w:p'].fInsertedText = true;\n                                ctx.buffers['w:tr'].fInsertedText = true;\n                                ctx.buffers['w:tc'].fInsertedText = true;\n                            }\n                            delete ctx.pendingImageNode;\n                        }\n                        // If a link was generated, replace the parent `w:r` node with\n                        // the link node\n                        if (ctx.pendingLinkNode &&\n                            !nodeOut._fTextNode &&\n                            nodeOut._tag === 'w:r') {\n                            linkNode = ctx.pendingLinkNode;\n                            parent_5 = nodeOut._parent;\n                            if (parent_5) {\n                                linkNode._parent = parent_5;\n                                parent_5._children.pop();\n                                parent_5._children.push(linkNode);\n                                // Prevent containing paragraph or table row from being removed\n                                ctx.buffers['w:p'].fInsertedText = true;\n                                ctx.buffers['w:tr'].fInsertedText = true;\n                                ctx.buffers['w:tc'].fInsertedText = true;\n                            }\n                            delete ctx.pendingLinkNode;\n                        }\n                        // If a html page was generated, replace the parent `w:p` node with\n                        // the html node\n                        if (ctx.pendingHtmlNode &&\n                            !nodeOut._fTextNode &&\n                            nodeOut._tag === 'w:p') {\n                            htmlNode = ctx.pendingHtmlNode;\n                            parent_6 = nodeOut._parent;\n                            if (parent_6) {\n                                htmlNode._parent = parent_6;\n                                parent_6._children.pop();\n                                parent_6._children.push(htmlNode);\n                                // Prevent containing paragraph or table row from being removed\n                                ctx.buffers['w:p'].fInsertedText = true;\n                                ctx.buffers['w:tr'].fInsertedText = true;\n                                ctx.buffers['w:tc'].fInsertedText = true;\n                            }\n                            delete ctx.pendingHtmlNode;\n                        }\n                        // `w:tc` nodes shouldn't be left with no `w:p` or 'w:altChunk' children; if that's the\n                        // case, add an empty `w:p` inside\n                        if (!nodeOut._fTextNode &&\n                            nodeOut._tag === 'w:tc' &&\n                            !nodeOut._children.filter(function (o) { return !o._fTextNode && (o._tag === 'w:p' || o._tag === 'w:altChunk'); }).length) {\n                            nodeOut._children.push({\n                                _parent: nodeOut,\n                                _children: [],\n                                _fTextNode: false,\n                                _tag: 'w:p',\n                                _attrs: {},\n                            });\n                        }\n                        // Save latest `w:rPr` node that was visited (for LINK properties)\n                        if (!nodeOut._fTextNode && nodeOut._tag === 'w:rPr') {\n                            ctx.textRunPropsNode = nodeOut;\n                        }\n                        if (!nodeIn._fTextNode && nodeIn._tag === 'w:r') {\n                            delete ctx.textRunPropsNode;\n                        }\n                    }\n                    if (!(move === 'DOWN' || move === 'SIDE')) return [3 /*break*/, 4];\n                    // Move nodeOut to point to the new node's parent\n                    if (move === 'SIDE') {\n                        if (nodeOut._parent == null)\n                            throw new errors_1.InternalError('node parent is null');\n                        nodeOut = nodeOut._parent;\n                    }\n                    tag = nodeIn._fTextNode ? null : nodeIn._tag;\n                    if (tag === 'w:p' || tag === 'w:tr' || tag === 'w:tc') {\n                        ctx.buffers[tag] = { text: '', cmds: '', fInsertedText: false };\n                    }\n                    newNode = (0, reportUtils_1.cloneNodeWithoutChildren)(nodeIn);\n                    newNode._parent = nodeOut;\n                    nodeOut._children.push(newNode);\n                    newNodeTag = newNode._tag;\n                    if (!(0, reportUtils_1.isLoopExploring)(ctx) &&\n                        (newNodeTag === 'wp:docPr' || newNodeTag === 'v:shape')) {\n                        debug_1.logger.debug('detected a - ', debugPrintNode(newNode));\n                        updateID(newNode, ctx);\n                    }\n                    parent_7 = nodeIn._parent;\n                    if (!(nodeIn._fTextNode &&\n                        parent_7 &&\n                        !parent_7._fTextNode &&\n                        parent_7._tag === 'w:t')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, processText(data, nodeIn, ctx, processor)];\n                case 2:\n                    result = _c.sent();\n                    if (typeof result === 'string') {\n                        // TODO: improve typesafety of conversion Node to TextNode.\n                        newNode._text = result;\n                        debug_1.logger.debug(\"Inserted command result string into node. Updated node: \" +\n                            debugPrintNode(newNode));\n                    }\n                    else {\n                        errors.push.apply(errors, result);\n                    }\n                    _c.label = 3;\n                case 3:\n                    // Execute the move in the output tree\n                    nodeOut = newNode;\n                    _c.label = 4;\n                case 4:\n                    // JUMP to the target level of the tree.\n                    // -------------------------------------------\n                    if (move === 'JUMP') {\n                        while (deltaJump > 0) {\n                            if (nodeOut._parent == null)\n                                throw new errors_1.InternalError('node parent is null');\n                            nodeOut = nodeOut._parent;\n                            deltaJump -= 1;\n                        }\n                    }\n                    loopCount++;\n                    return [3 /*break*/, 1];\n                case 5:\n                    if (ctx.gCntIf !== ctx.gCntEndIf) {\n                        err = new errors_1.IncompleteConditionalStatementError();\n                        if (ctx.options.failFast) {\n                            throw err;\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                    if (ctx.loops.filter(function (l) { return !l.isIf; }).length > 0) {\n                        innermost_loop = ctx.loops[ctx.loops.length - 1];\n                        err = new errors_1.UnterminatedForLoopError(innermost_loop);\n                        if (ctx.options.failFast) {\n                            throw err;\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                    if (errors.length > 0)\n                        return [2 /*return*/, {\n                                status: 'errors',\n                                errors: errors,\n                            }];\n                    return [2 /*return*/, {\n                            status: 'success',\n                            report: out,\n                            images: ctx.images,\n                            links: ctx.links,\n                            htmls: ctx.htmls,\n                        }];\n            }\n        });\n    });\n}\nexports.walkTemplate = walkTemplate;\nvar processText = function (data, node, ctx, onCommand) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, cmdDelimiter, failFast, text, segments, outText, errors, idx, segment, cmdResultText;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                _a = ctx.options, cmdDelimiter = _a.cmdDelimiter, failFast = _a.failFast;\n                text = node._text;\n                if (text == null || text === '')\n                    return [2 /*return*/, ''];\n                segments = text\n                    .split(cmdDelimiter[0])\n                    .map(function (s) { return s.split(cmdDelimiter[1]); })\n                    .reduce(function (x, y) { return x.concat(y); });\n                outText = '';\n                errors = [];\n                idx = 0;\n                _b.label = 1;\n            case 1:\n                if (!(idx < segments.length)) return [3 /*break*/, 5];\n                // Include the separators in the `buffers` field (used for deleting paragraphs if appropriate)\n                if (idx > 0)\n                    appendTextToTagBuffers(cmdDelimiter[0], ctx, { fCmd: true });\n                segment = segments[idx];\n                // logger.debug(`Token: '${segment}' (${ctx.fCmd})`);\n                if (ctx.fCmd)\n                    ctx.cmd += segment;\n                else if (!(0, reportUtils_1.isLoopExploring)(ctx))\n                    outText += segment;\n                appendTextToTagBuffers(segment, ctx, { fCmd: ctx.fCmd });\n                if (!(idx < segments.length - 1)) return [3 /*break*/, 4];\n                if (!ctx.fCmd) return [3 /*break*/, 3];\n                return [4 /*yield*/, onCommand(data, node, ctx)];\n            case 2:\n                cmdResultText = _b.sent();\n                if (cmdResultText != null) {\n                    if (typeof cmdResultText === 'string') {\n                        outText += cmdResultText;\n                        appendTextToTagBuffers(cmdResultText, ctx, {\n                            fCmd: false,\n                            fInsertedText: true,\n                        });\n                    }\n                    else {\n                        if (failFast)\n                            throw cmdResultText;\n                        errors.push(cmdResultText);\n                    }\n                }\n                _b.label = 3;\n            case 3:\n                ctx.fCmd = !ctx.fCmd;\n                _b.label = 4;\n            case 4:\n                idx++;\n                return [3 /*break*/, 1];\n            case 5:\n                if (errors.length > 0)\n                    return [2 /*return*/, errors];\n                return [2 /*return*/, outText];\n        }\n    });\n}); };\n// ==========================================\n// Command processor\n// ==========================================\nvar processCmd = function (data, node, ctx) { return __awaiter(void 0, void 0, void 0, function () {\n    var cmd, _a, cmdName, cmdRest, aliasMatch, aliasName, fullCmd, result, nerr, str, literalXmlDelimiter, splitByLineBreak, LINE_BREAK, END_OF_TEXT, START_OF_TEXT, img, pars, html, err_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                cmd = getCommand(ctx.cmd, ctx.shorthands, ctx.options.fixSmartQuotes);\n                ctx.cmd = ''; // flush the context\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 28, , 29]);\n                _a = splitCommand(cmd), cmdName = _a.cmdName, cmdRest = _a.cmdRest;\n                if (cmdName !== 'CMD_NODE')\n                    debug_1.logger.debug(\"Processing cmd: \".concat(cmd));\n                // Seeking query?\n                if (ctx.fSeekQuery) {\n                    if (cmdName === 'QUERY')\n                        ctx.query = cmdRest;\n                    return [2 /*return*/];\n                }\n                if (!(cmdName === 'QUERY' || cmdName === 'CMD_NODE')) return [3 /*break*/, 2];\n                return [3 /*break*/, 27];\n            case 2:\n                if (!(cmdName === 'ALIAS')) return [3 /*break*/, 3];\n                aliasMatch = /^(\\S+)\\s+(.+)/.exec(cmdRest);\n                if (!aliasMatch)\n                    throw new errors_1.InvalidCommandError('Invalid ALIAS command', cmd);\n                aliasName = aliasMatch[1];\n                fullCmd = aliasMatch[2];\n                ctx.shorthands[aliasName] = fullCmd;\n                debug_1.logger.debug(\"Defined alias '\".concat(aliasName, \"' for: \").concat(fullCmd));\n                return [3 /*break*/, 27];\n            case 3:\n                if (!(cmdName === 'FOR' || cmdName === 'IF')) return [3 /*break*/, 5];\n                return [4 /*yield*/, processForIf(data, node, ctx, cmd, cmdName, cmdRest)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 27];\n            case 5:\n                if (!(cmdName === 'END-FOR' || cmdName === 'END-IF')) return [3 /*break*/, 6];\n                processEndForIf(node, ctx, cmd, cmdName, cmdRest);\n                return [3 /*break*/, 27];\n            case 6:\n                if (!(cmdName === 'INS')) return [3 /*break*/, 12];\n                if (!!(0, reportUtils_1.isLoopExploring)(ctx)) return [3 /*break*/, 11];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 7:\n                result = _b.sent();\n                if (result == null) {\n                    return [2 /*return*/, ''];\n                }\n                if (!(typeof result === 'object' && !Array.isArray(result))) return [3 /*break*/, 10];\n                nerr = new errors_1.ObjectCommandResultError(cmdRest, result);\n                if (!(ctx.options.errorHandler != null)) return [3 /*break*/, 9];\n                return [4 /*yield*/, ctx.options.errorHandler(nerr, cmdRest)];\n            case 8:\n                result = _b.sent();\n                return [3 /*break*/, 10];\n            case 9: throw nerr;\n            case 10:\n                str = String(result);\n                if (ctx.options.processLineBreaks) {\n                    literalXmlDelimiter = ctx.options.literalXmlDelimiter;\n                    if (ctx.options.processLineBreaksAsNewText) {\n                        splitByLineBreak = str.split('\\n');\n                        LINE_BREAK = \"\".concat(literalXmlDelimiter, \"<w:br/>\").concat(literalXmlDelimiter);\n                        END_OF_TEXT = \"\".concat(literalXmlDelimiter, \"</w:t>\").concat(literalXmlDelimiter);\n                        START_OF_TEXT = \"\".concat(literalXmlDelimiter, \"<w:t xml:space=\\\"preserve\\\">\").concat(literalXmlDelimiter);\n                        str = splitByLineBreak.join(\"\".concat(END_OF_TEXT).concat(LINE_BREAK).concat(START_OF_TEXT));\n                    }\n                    else {\n                        str = str.replace(/\\n/g, \"\".concat(literalXmlDelimiter, \"<w:br/>\").concat(literalXmlDelimiter));\n                    }\n                }\n                return [2 /*return*/, str];\n            case 11: return [3 /*break*/, 27];\n            case 12:\n                if (!(cmdName === 'EXEC')) return [3 /*break*/, 15];\n                if (!!(0, reportUtils_1.isLoopExploring)(ctx)) return [3 /*break*/, 14];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 13:\n                _b.sent();\n                _b.label = 14;\n            case 14: return [3 /*break*/, 27];\n            case 15:\n                if (!(cmdName === 'IMAGE')) return [3 /*break*/, 18];\n                if (!!(0, reportUtils_1.isLoopExploring)(ctx)) return [3 /*break*/, 17];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 16:\n                img = _b.sent();\n                if (img != null) {\n                    try {\n                        processImage(ctx, img);\n                    }\n                    catch (e) {\n                        if (!(0, errors_1.isError)(e))\n                            throw e;\n                        throw new errors_1.ImageError(e, cmd);\n                    }\n                }\n                _b.label = 17;\n            case 17: return [3 /*break*/, 27];\n            case 18:\n                if (!(cmdName === 'LINK')) return [3 /*break*/, 22];\n                if (!!(0, reportUtils_1.isLoopExploring)(ctx)) return [3 /*break*/, 21];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 19:\n                pars = _b.sent();\n                if (!(pars != null)) return [3 /*break*/, 21];\n                return [4 /*yield*/, processLink(ctx, pars)];\n            case 20:\n                _b.sent();\n                _b.label = 21;\n            case 21: return [3 /*break*/, 27];\n            case 22:\n                if (!(cmdName === 'HTML')) return [3 /*break*/, 26];\n                if (!!(0, reportUtils_1.isLoopExploring)(ctx)) return [3 /*break*/, 25];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 23:\n                html = _b.sent();\n                if (!(html != null)) return [3 /*break*/, 25];\n                return [4 /*yield*/, processHtml(ctx, html)];\n            case 24:\n                _b.sent();\n                _b.label = 25;\n            case 25: return [3 /*break*/, 27];\n            case 26: throw new errors_1.CommandSyntaxError(cmd);\n            case 27: return [2 /*return*/];\n            case 28:\n                err_1 = _b.sent();\n                if (!(0, errors_1.isError)(err_1))\n                    throw err_1;\n                if (ctx.options.errorHandler != null) {\n                    return [2 /*return*/, ctx.options.errorHandler(err_1)];\n                }\n                return [2 /*return*/, err_1];\n            case 29: return [2 /*return*/];\n        }\n    });\n}); };\nvar builtInRegexes = types_1.BUILT_IN_COMMANDS.map(function (word) { return new RegExp(\"^\".concat(word, \"\\\\b\")); });\nvar notBuiltIns = function (cmd) {\n    return !builtInRegexes.some(function (r) { return r.test(cmd.toUpperCase()); });\n};\nfunction getCommand(command, shorthands, fixSmartQuotes) {\n    // Get a cleaned version of the command\n    var cmd = command.trim();\n    if (cmd[0] === '*') {\n        var aliasName = cmd.slice(1).trim();\n        if (!shorthands[aliasName])\n            throw new errors_1.InvalidCommandError('Unknown alias', cmd);\n        cmd = shorthands[aliasName];\n        debug_1.logger.debug(\"Alias for: \".concat(cmd));\n    }\n    else if (cmd[0] === '=') {\n        cmd = \"INS \".concat(cmd.slice(1).trim());\n    }\n    else if (cmd[0] === '!') {\n        cmd = \"EXEC \".concat(cmd.slice(1).trim());\n    }\n    else if (notBuiltIns(cmd)) {\n        cmd = \"INS \".concat(cmd.trim());\n    }\n    //replace 'smart' quotes with straight quotes\n    if (fixSmartQuotes) {\n        cmd = cmd\n            .replace(/[\\u201C\\u201D\\u201E]/g, '\"')\n            .replace(/[\\u2018\\u2019\\u201A]/g, \"'\");\n    }\n    return cmd.trim();\n}\nexports.getCommand = getCommand;\nfunction splitCommand(cmd) {\n    // Extract command name\n    var cmdNameMatch = /^(\\S+)\\s*/.exec(cmd);\n    var cmdName;\n    var cmdRest = '';\n    if (cmdNameMatch != null) {\n        cmdName = cmdNameMatch[1].toUpperCase();\n        cmdRest = cmd.slice(cmdName.length).trim();\n    }\n    return { cmdName: cmdName, cmdRest: cmdRest };\n}\nexports.splitCommand = splitCommand;\n// ==========================================\n// Individual commands\n// ==========================================\nvar processForIf = function (data, node, ctx, cmd, cmdName, cmdRest) { return __awaiter(void 0, void 0, void 0, function () {\n    var isIf, forMatch, varName, curLoop, parentPorTrNode, parentPorTrNodeTag, parentLoopLevel, fParentIsExploring, loopOver, shouldRun;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                isIf = cmdName === 'IF';\n                forMatch = null;\n                varName = undefined;\n                if (isIf) {\n                    if (!node._ifName) {\n                        node._ifName = \"__if_\".concat(ctx.gCntIf);\n                        ctx.gCntIf += 1;\n                    }\n                    varName = node._ifName;\n                }\n                else {\n                    forMatch = /^(\\S+)\\s+IN\\s+(.+)/i.exec(cmdRest);\n                    if (!forMatch)\n                        throw new errors_1.InvalidCommandError('Invalid FOR command', cmd);\n                    varName = forMatch[1];\n                }\n                curLoop = (0, reportUtils_1.getCurLoop)(ctx);\n                if (!!(curLoop && curLoop.varName === varName)) return [3 /*break*/, 6];\n                // Check whether we already started a nested IF without and END-IF for this p or tr tag\n                if (isIf) {\n                    parentPorTrNode = findParentPorTrNode(node);\n                    parentPorTrNodeTag = parentPorTrNode != null\n                        ? parentPorTrNode._fTextNode\n                            ? null\n                            : parentPorTrNode._tag\n                        : null;\n                    if (parentPorTrNode != null) {\n                        if (parentPorTrNodeTag === 'w:p') {\n                            if (ctx.pIfCheckMap.has(parentPorTrNode) &&\n                                ctx.pIfCheckMap.get(parentPorTrNode) !== cmd)\n                                throw new errors_1.InvalidCommandError('Invalid IF command nested into another IF command on the same line', cmd);\n                            else\n                                ctx.pIfCheckMap.set(parentPorTrNode, cmd);\n                        }\n                        else if (parentPorTrNodeTag === 'w:tr') {\n                            if (ctx.trIfCheckMap.has(parentPorTrNode) &&\n                                ctx.trIfCheckMap.get(parentPorTrNode) !== cmd)\n                                throw new errors_1.InvalidCommandError('Invalid IF command nested into another IF command on the same table row', cmd);\n                            else\n                                ctx.trIfCheckMap.set(parentPorTrNode, cmd);\n                        }\n                    }\n                }\n                parentLoopLevel = ctx.loops.length - 1;\n                fParentIsExploring = parentLoopLevel >= 0 && ctx.loops[parentLoopLevel].idx === -1;\n                loopOver = void 0;\n                if (!fParentIsExploring) return [3 /*break*/, 1];\n                loopOver = [];\n                return [3 /*break*/, 5];\n            case 1:\n                if (!isIf) return [3 /*break*/, 3];\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, cmdRest, ctx)];\n            case 2:\n                shouldRun = !!(_a.sent());\n                loopOver = shouldRun ? [1] : [];\n                return [3 /*break*/, 5];\n            case 3:\n                if (!forMatch)\n                    throw new errors_1.InvalidCommandError('Invalid FOR command', cmd);\n                return [4 /*yield*/, (0, jsSandbox_1.runUserJsAndGetRaw)(data, forMatch[2], ctx)];\n            case 4:\n                loopOver = _a.sent();\n                if (!Array.isArray(loopOver))\n                    throw new errors_1.InvalidCommandError('Invalid FOR command (can only iterate over Array)', cmd);\n                _a.label = 5;\n            case 5:\n                ctx.loops.push({\n                    refNode: node,\n                    refNodeLevel: ctx.level,\n                    varName: varName,\n                    loopOver: loopOver,\n                    isIf: isIf,\n                    // run through the loop once first, without outputting anything\n                    // (if we don't do it like this, we could not run empty loops!)\n                    idx: -1,\n                });\n                _a.label = 6;\n            case 6:\n                (0, reportUtils_1.logLoop)(ctx.loops);\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar processEndForIf = function (node, ctx, cmd, cmdName, cmdRest) {\n    var isIf = cmdName === 'END-IF';\n    var curLoop = (0, reportUtils_1.getCurLoop)(ctx);\n    if (!curLoop)\n        throw new errors_1.InvalidCommandError(\"Unexpected \".concat(cmdName, \" outside of \").concat(isIf ? 'IF statement' : 'FOR loop', \" context\"), cmd);\n    // Reset the if check flag for the corresponding p or tr parent node\n    var parentPorTrNode = findParentPorTrNode(node);\n    var parentPorTrNodeTag = parentPorTrNode != null\n        ? parentPorTrNode._fTextNode\n            ? null\n            : parentPorTrNode._tag\n        : null;\n    if (parentPorTrNodeTag === 'w:p') {\n        ctx.pIfCheckMap.delete(parentPorTrNode);\n    }\n    else if (parentPorTrNodeTag === 'w:tr') {\n        ctx.trIfCheckMap.delete(parentPorTrNode);\n    }\n    // First time we visit an END-IF node, we assign it the arbitrary name\n    // generated when the IF was processed\n    if (isIf && !node._ifName) {\n        node._ifName = curLoop.varName;\n        ctx.gCntEndIf += 1;\n    }\n    // Check if this is the expected END-IF/END-FOR. If not:\n    // - If it's one of the nested varNames, throw\n    // - If it's not one of the nested varNames, ignore it; we find\n    //   cases in which an END-IF/FOR is found that belongs to a previous\n    //   part of the paragraph of the current loop.\n    var varName = isIf ? node._ifName : cmdRest;\n    if (curLoop.varName !== varName) {\n        if (ctx.loops.find(function (o) { return o.varName === varName; }) == null) {\n            debug_1.logger.debug(\"Ignoring \".concat(cmd, \" (\").concat(varName, \", but we're expecting \").concat(curLoop.varName, \")\"));\n            return;\n        }\n        throw new errors_1.InvalidCommandError('Invalid command', cmd);\n    }\n    // Get the next item in the loop\n    var nextIdx = curLoop.idx + 1;\n    var nextItem = curLoop.loopOver[nextIdx];\n    if (nextItem != null) {\n        // next iteration\n        ctx.vars[varName] = nextItem;\n        ctx.fJump = true;\n        curLoop.idx = nextIdx;\n    }\n    else {\n        // loop finished\n        ctx.loops.pop();\n    }\n};\nvar imageToContext = function (ctx, img) {\n    validateImage(img);\n    ctx.imageAndShapeIdIncrement += 1;\n    var id = String(ctx.imageAndShapeIdIncrement);\n    var relId = \"img\".concat(id);\n    ctx.images[relId] = img;\n    return relId;\n};\nfunction validateImage(img) {\n    if (!(img.data instanceof Uint8Array ||\n        img.data instanceof ArrayBuffer ||\n        typeof img.data === 'string')) {\n        throw new Error('image .data property needs to be provided as Uint8Array (e.g. Buffer), ArrayBuffer, or as a base64-encoded string');\n    }\n    if (!types_1.ImageExtensions.includes(img.extension)) {\n        throw new Error(\"An extension (one of \".concat(types_1.ImageExtensions, \") needs to be provided when providing an image or a thumbnail.\"));\n    }\n}\nfunction validateImagePars(pars) {\n    if (!Number.isFinite(pars.width))\n        throw new Error(\"invalid image width: \".concat(pars.width, \" (in cm)\"));\n    if (!Number.isFinite(pars.height))\n        throw new Error(\"invalid image height: \".concat(pars.height, \" (in cm)\"));\n    validateImage(pars);\n    if (pars.thumbnail)\n        validateImage(pars.thumbnail);\n}\nvar processImage = function (ctx, imagePars) {\n    var _a;\n    validateImagePars(imagePars);\n    var cx = (imagePars.width * 360e3).toFixed(0);\n    var cy = (imagePars.height * 360e3).toFixed(0);\n    var imgRelId = imageToContext(ctx, getImageData(imagePars));\n    var id = String(ctx.imageAndShapeIdIncrement);\n    var alt = imagePars.alt || 'desc';\n    var node = reportUtils_1.newNonTextNode;\n    var extNodes = [];\n    extNodes.push(node('a:ext', { uri: '{28A0092B-C50C-407E-A947-70E740481C1C}' }, [\n        node('a14:useLocalDpi', {\n            'xmlns:a14': 'http://schemas.microsoft.com/office/drawing/2010/main',\n            val: '0',\n        }),\n    ]));\n    // http://officeopenxml.com/drwSp-rotate.php\n    // Values are in 60,000ths of a degree, with positive angles moving clockwise or towards the positive y-axis.\n    var rot = imagePars.rotation\n        ? (imagePars.rotation * 60e3).toString()\n        : undefined;\n    if (ctx.images[imgRelId].extension === '.svg') {\n        // Default to an empty thumbnail, as it is not critical and just part of the docx standard's scaffolding.\n        // Without a thumbnail, the svg won't render (even in newer versions of Word that don't need the thumbnail).\n        var thumbnail = (_a = imagePars.thumbnail) !== null && _a !== void 0 ? _a : {\n            data: 'bm90aGluZwo=',\n            extension: '.png',\n        };\n        var thumbRelId = imageToContext(ctx, thumbnail);\n        extNodes.push(node('a:ext', { uri: '{96DAC541-7B7A-43D3-8B79-37D633B846F1}' }, [\n            node('asvg:svgBlip', {\n                'xmlns:asvg': 'http://schemas.microsoft.com/office/drawing/2016/SVG/main',\n                'r:embed': imgRelId,\n            }),\n        ]));\n        // For SVG the thumb is placed where the image normally goes.\n        imgRelId = thumbRelId;\n    }\n    var pic = node('pic:pic', { 'xmlns:pic': 'http://schemas.openxmlformats.org/drawingml/2006/picture' }, [\n        node('pic:nvPicPr', {}, [\n            node('pic:cNvPr', { id: '0', name: \"Picture \".concat(id), descr: alt }),\n            node('pic:cNvPicPr', {}, [\n                node('a:picLocks', { noChangeAspect: '1', noChangeArrowheads: '1' }),\n            ]),\n        ]),\n        node('pic:blipFill', {}, [\n            node('a:blip', { 'r:embed': imgRelId, cstate: 'print' }, [\n                node('a:extLst', {}, extNodes),\n            ]),\n            node('a:srcRect'),\n            node('a:stretch', {}, [node('a:fillRect')]),\n        ]),\n        node('pic:spPr', { bwMode: 'auto' }, [\n            node('a:xfrm', rot ? { rot: rot } : {}, [\n                node('a:off', { x: '0', y: '0' }),\n                node('a:ext', { cx: cx, cy: cy }),\n            ]),\n            node('a:prstGeom', { prst: 'rect' }, [node('a:avLst')]),\n            node('a:noFill'),\n            node('a:ln', {}, [node('a:noFill')]),\n        ]),\n    ]);\n    var drawing = node('w:drawing', {}, [\n        node('wp:inline', { distT: '0', distB: '0', distL: '0', distR: '0' }, [\n            node('wp:extent', { cx: cx, cy: cy }),\n            node('wp:docPr', { id: id, name: \"Picture \".concat(id), descr: alt }),\n            node('wp:cNvGraphicFramePr', {}, [\n                node('a:graphicFrameLocks', {\n                    'xmlns:a': 'http://schemas.openxmlformats.org/drawingml/2006/main',\n                    noChangeAspect: '1',\n                }),\n            ]),\n            node('a:graphic', { 'xmlns:a': 'http://schemas.openxmlformats.org/drawingml/2006/main' }, [\n                node('a:graphicData', { uri: 'http://schemas.openxmlformats.org/drawingml/2006/picture' }, [pic]),\n            ]),\n        ]),\n    ]);\n    ctx.pendingImageNode = { image: drawing };\n    if (imagePars.caption) {\n        ctx.pendingImageNode.caption = [\n            node('w:br'),\n            node('w:t', {}, [(0, reportUtils_1.newTextNode)(imagePars.caption)]),\n        ];\n    }\n};\nfunction getImageData(imagePars) {\n    var data = imagePars.data, extension = imagePars.extension;\n    if (!extension) {\n        throw new Error('If you return image `data`, make sure you return an extension as well!');\n    }\n    return { extension: extension, data: data };\n}\nvar processLink = function (ctx, linkPars) { return __awaiter(void 0, void 0, void 0, function () {\n    var url, _a, label, id, relId, node, textRunPropsNode, link;\n    return __generator(this, function (_b) {\n        url = linkPars.url, _a = linkPars.label, label = _a === void 0 ? url : _a;\n        ctx.linkId += 1;\n        id = String(ctx.linkId);\n        relId = \"link\".concat(id);\n        ctx.links[relId] = { url: url };\n        node = reportUtils_1.newNonTextNode;\n        textRunPropsNode = ctx.textRunPropsNode;\n        link = node('w:hyperlink', { 'r:id': relId, 'w:history': '1' }, [\n            node('w:r', {}, [\n                textRunPropsNode ||\n                    node('w:rPr', {}, [node('w:u', { 'w:val': 'single' })]),\n                node('w:t', {}, [(0, reportUtils_1.newTextNode)(label)]),\n            ]),\n        ]);\n        ctx.pendingLinkNode = link;\n        return [2 /*return*/];\n    });\n}); };\nvar processHtml = function (ctx, data) { return __awaiter(void 0, void 0, void 0, function () {\n    var id, relId, node, html;\n    return __generator(this, function (_a) {\n        ctx.htmlId += 1;\n        id = String(ctx.htmlId);\n        relId = \"html\".concat(id);\n        ctx.htmls[relId] = data;\n        node = reportUtils_1.newNonTextNode;\n        html = node('w:altChunk', { 'r:id': relId });\n        ctx.pendingHtmlNode = html;\n        return [2 /*return*/];\n    });\n}); };\n// ==========================================\n// Helpers\n// ==========================================\nvar BufferKeys = ['w:p', 'w:tr', 'w:tc'];\nvar appendTextToTagBuffers = function (text, ctx, options) {\n    if (ctx.fSeekQuery)\n        return;\n    var fCmd = options.fCmd, fInsertedText = options.fInsertedText;\n    var type = fCmd ? 'cmds' : 'text';\n    BufferKeys.forEach(function (key) {\n        var buf = ctx.buffers[key];\n        buf[type] += text;\n        if (fInsertedText)\n            buf.fInsertedText = true;\n    });\n};\nfunction updateID(newNode, ctx) {\n    ctx.imageAndShapeIdIncrement += 1;\n    var id = String(ctx.imageAndShapeIdIncrement);\n    newNode._attrs = __assign(__assign({}, newNode._attrs), { id: \"\".concat(id) });\n}\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMainDoc = exports.readContentTypes = exports.getMetadata = exports.listCommands = exports.parseTemplate = void 0;\nvar zip_1 = require(\"./zip\");\nvar xml_1 = require(\"./xml\");\nvar preprocessTemplate_1 = __importDefault(require(\"./preprocessTemplate\"));\nvar processTemplate_1 = require(\"./processTemplate\");\nvar reportUtils_1 = require(\"./reportUtils\");\nvar errors_1 = require(\"./errors\");\nvar debug_1 = require(\"./debug\");\nvar DEFAULT_CMD_DELIMITER = '+++';\nvar DEFAULT_LITERAL_XML_DELIMITER = '||';\nvar CONTENT_TYPES_PATH = '[Content_Types].xml';\nvar TEMPLATE_PATH = 'word';\nvar XML_FILE_REGEX = new RegExp(\"\".concat(TEMPLATE_PATH, \"\\\\/[^\\\\/]+\\\\.xml\"));\nfunction parseTemplate(template) {\n    return __awaiter(this, void 0, void 0, function () {\n        var zip, contentTypes, mainDocument, main_template_path, templateXml, tic, parseResult, jsTemplate, tac;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    debug_1.logger.debug('Unzipping...');\n                    return [4 /*yield*/, (0, zip_1.zipLoad)(template)];\n                case 1:\n                    zip = _a.sent();\n                    // Read the 'document.xml' file (the template) and parse it\n                    debug_1.logger.debug('finding main template file (e.g. document.xml)');\n                    return [4 /*yield*/, readContentTypes(zip)];\n                case 2:\n                    contentTypes = _a.sent();\n                    mainDocument = getMainDoc(contentTypes);\n                    main_template_path = \"\".concat(TEMPLATE_PATH, \"/\").concat(mainDocument);\n                    debug_1.logger.debug(\"Reading \".concat(main_template_path, \"...\"));\n                    return [4 /*yield*/, (0, zip_1.zipGetText)(zip, main_template_path)];\n                case 3:\n                    templateXml = _a.sent();\n                    if (templateXml == null)\n                        throw new errors_1.TemplateParseError(\"\".concat(mainDocument, \" could not be found\"));\n                    debug_1.logger.debug(\"\".concat(main_template_path, \" file length: \").concat(templateXml.length));\n                    debug_1.logger.debug(\"Parsing \".concat(main_template_path, \" XML...\"));\n                    tic = new Date().getTime();\n                    return [4 /*yield*/, (0, xml_1.parseXml)(templateXml)];\n                case 4:\n                    parseResult = _a.sent();\n                    jsTemplate = parseResult;\n                    tac = new Date().getTime();\n                    debug_1.logger.debug(\"\".concat(main_template_path, \" parsed in \").concat(tac - tic, \" ms\"));\n                    return [2 /*return*/, { jsTemplate: jsTemplate, mainDocument: mainDocument, zip: zip, contentTypes: contentTypes }];\n            }\n        });\n    });\n}\nexports.parseTemplate = parseTemplate;\nfunction prepSecondaryXMLs(zip, main_doc_path, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var secondary_xml_files, prepped_secondaries, _i, secondary_xml_files_1, f, raw, js0, js;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    secondary_xml_files = [];\n                    zip.forEach(function (filePath) { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            if (XML_FILE_REGEX.test(filePath) &&\n                                filePath !== \"\".concat(TEMPLATE_PATH, \"/\").concat(main_doc_path) &&\n                                filePath.indexOf(\"\".concat(TEMPLATE_PATH, \"/template\")) !== 0) {\n                                secondary_xml_files.push(filePath);\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); });\n                    // Sort to ensure deterministic processing.\n                    secondary_xml_files.sort();\n                    prepped_secondaries = [];\n                    _i = 0, secondary_xml_files_1 = secondary_xml_files;\n                    _a.label = 1;\n                case 1:\n                    if (!(_i < secondary_xml_files_1.length)) return [3 /*break*/, 5];\n                    f = secondary_xml_files_1[_i];\n                    debug_1.logger.debug(\"Reading \".concat(f, \"...\"));\n                    return [4 /*yield*/, (0, zip_1.zipGetText)(zip, f)];\n                case 2:\n                    raw = _a.sent();\n                    if (raw == null)\n                        throw new errors_1.TemplateParseError(\"\".concat(f, \" could not be read\"));\n                    debug_1.logger.debug(\"\".concat(f, \" file length: \").concat(raw.length));\n                    debug_1.logger.debug(\"Parsing \".concat(f, \" XML...\"));\n                    return [4 /*yield*/, (0, xml_1.parseXml)(raw)];\n                case 3:\n                    js0 = _a.sent();\n                    js = (0, preprocessTemplate_1.default)(js0, options.cmdDelimiter);\n                    prepped_secondaries.push([js, f]);\n                    _a.label = 4;\n                case 4:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 5: return [2 /*return*/, prepped_secondaries];\n            }\n        });\n    });\n}\nfunction createReport(options, _probe) {\n    return __awaiter(this, void 0, void 0, function () {\n        var template, data, queryVars, literalXmlDelimiter, createOptions, xmlOptions, _a, jsTemplate, mainDocument, zip, contentTypes, prepped_template, queryResult, query, prepped_secondaries, highest_img_id, ctx, result, report1, images1, links1, htmls1, reportXml, numImages, numHtmls, _i, prepped_secondaries_1, _b, js, filePath, result_1, report2, images2, links2, htmls2, xml, segments, documentComponent, ensureContentType, finalContentTypesXml, output;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    debug_1.logger.debug('Report options:', { attach: options });\n                    template = options.template, data = options.data, queryVars = options.queryVars;\n                    literalXmlDelimiter = options.literalXmlDelimiter || DEFAULT_LITERAL_XML_DELIMITER;\n                    createOptions = {\n                        cmdDelimiter: getCmdDelimiter(options.cmdDelimiter),\n                        literalXmlDelimiter: literalXmlDelimiter,\n                        processLineBreaks: options.processLineBreaks != null ? options.processLineBreaks : true,\n                        noSandbox: options.noSandbox || false,\n                        runJs: options.runJs,\n                        additionalJsContext: options.additionalJsContext || {},\n                        failFast: options.failFast == null ? true : options.failFast,\n                        rejectNullish: options.rejectNullish == null ? false : options.rejectNullish,\n                        errorHandler: typeof options.errorHandler === 'function' ? options.errorHandler : null,\n                        fixSmartQuotes: options.fixSmartQuotes == null ? false : options.fixSmartQuotes,\n                        processLineBreaksAsNewText: options.processLineBreaksAsNewText == null\n                            ? false\n                            : options.processLineBreaksAsNewText,\n                        maximumWalkingDepth: options.maximumWalkingDepth,\n                    };\n                    xmlOptions = { literalXmlDelimiter: literalXmlDelimiter };\n                    return [4 /*yield*/, parseTemplate(template)];\n                case 1:\n                    _a = _c.sent(), jsTemplate = _a.jsTemplate, mainDocument = _a.mainDocument, zip = _a.zip, contentTypes = _a.contentTypes;\n                    debug_1.logger.debug('Preprocessing template...');\n                    prepped_template = (0, preprocessTemplate_1.default)(jsTemplate, createOptions.cmdDelimiter);\n                    queryResult = null;\n                    if (!(typeof data === 'function')) return [3 /*break*/, 4];\n                    debug_1.logger.debug('Looking for the query in the template...');\n                    return [4 /*yield*/, (0, processTemplate_1.extractQuery)(prepped_template, createOptions)];\n                case 2:\n                    query = _c.sent();\n                    debug_1.logger.debug(\"Query: \".concat(query || 'no query found'));\n                    return [4 /*yield*/, data(query, queryVars)];\n                case 3:\n                    queryResult = _c.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    queryResult = data;\n                    _c.label = 5;\n                case 5: return [4 /*yield*/, prepSecondaryXMLs(zip, mainDocument, createOptions)];\n                case 6:\n                    prepped_secondaries = _c.sent();\n                    highest_img_id = Math.max.apply(Math, __spreadArray(__spreadArray([], prepped_secondaries.map(function (_a) {\n                        var s = _a[0], _ = _a[1];\n                        return (0, processTemplate_1.findHighestImgId)(s);\n                    }), false), [(0, processTemplate_1.findHighestImgId)(prepped_template)], false));\n                    // Process document.xml:\n                    // - Generate the report\n                    // - Build output XML and write it to disk\n                    // - Images\n                    debug_1.logger.debug('Generating report...');\n                    ctx = (0, processTemplate_1.newContext)(createOptions, highest_img_id);\n                    return [4 /*yield*/, (0, processTemplate_1.produceJsReport)(queryResult, prepped_template, ctx)];\n                case 7:\n                    result = _c.sent();\n                    if (result.status === 'errors') {\n                        throw result.errors;\n                    }\n                    report1 = result.report, images1 = result.images, links1 = result.links, htmls1 = result.htmls;\n                    if (_probe === 'JS')\n                        return [2 /*return*/, report1];\n                    debug_1.logger.debug('Converting report to XML...');\n                    reportXml = (0, xml_1.buildXml)(report1, xmlOptions);\n                    if (_probe === 'XML')\n                        return [2 /*return*/, reportXml.toString('utf-8')];\n                    debug_1.logger.debug('Writing report...');\n                    (0, zip_1.zipSetText)(zip, \"\".concat(TEMPLATE_PATH, \"/\").concat(mainDocument), reportXml);\n                    numImages = Object.keys(images1).length;\n                    numHtmls = Object.keys(htmls1).length;\n                    return [4 /*yield*/, processImages(images1, mainDocument, zip)];\n                case 8:\n                    _c.sent();\n                    return [4 /*yield*/, processLinks(links1, mainDocument, zip)];\n                case 9:\n                    _c.sent();\n                    return [4 /*yield*/, processHtmls(htmls1, mainDocument, zip)];\n                case 10:\n                    _c.sent();\n                    _i = 0, prepped_secondaries_1 = prepped_secondaries;\n                    _c.label = 11;\n                case 11:\n                    if (!(_i < prepped_secondaries_1.length)) return [3 /*break*/, 17];\n                    _b = prepped_secondaries_1[_i], js = _b[0], filePath = _b[1];\n                    // Grab the last used (highest) image id from the main document's context, but create\n                    // a fresh one for each secondary XML.\n                    ctx = (0, processTemplate_1.newContext)(createOptions, ctx.imageAndShapeIdIncrement);\n                    return [4 /*yield*/, (0, processTemplate_1.produceJsReport)(queryResult, js, ctx)];\n                case 12:\n                    result_1 = _c.sent();\n                    if (result_1.status === 'errors') {\n                        throw result_1.errors;\n                    }\n                    report2 = result_1.report, images2 = result_1.images, links2 = result_1.links, htmls2 = result_1.htmls;\n                    xml = (0, xml_1.buildXml)(report2, xmlOptions);\n                    (0, zip_1.zipSetText)(zip, filePath, xml);\n                    numImages += Object.keys(images2).length;\n                    numHtmls += Object.keys(htmls2).length;\n                    segments = filePath.split('/');\n                    documentComponent = segments[segments.length - 1];\n                    return [4 /*yield*/, processImages(images2, documentComponent, zip)];\n                case 13:\n                    _c.sent();\n                    return [4 /*yield*/, processLinks(links2, mainDocument, zip)];\n                case 14:\n                    _c.sent();\n                    return [4 /*yield*/, processHtmls(htmls2, mainDocument, zip)];\n                case 15:\n                    _c.sent();\n                    _c.label = 16;\n                case 16:\n                    _i++;\n                    return [3 /*break*/, 11];\n                case 17:\n                    // Process [Content_Types].xml\n                    if (numImages || numHtmls) {\n                        debug_1.logger.debug('Completing [Content_Types].xml...');\n                        debug_1.logger.debug('Content types', { attach: contentTypes });\n                        ensureContentType = function (extension, contentType) {\n                            var children = contentTypes._children;\n                            if (children.filter(function (o) {\n                                var _a;\n                                return !o._fTextNode &&\n                                    ((_a = o._attrs.Extension) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === (extension === null || extension === void 0 ? void 0 : extension.toLowerCase());\n                            }).length) {\n                                return;\n                            }\n                            (0, reportUtils_1.addChild)(contentTypes, (0, reportUtils_1.newNonTextNode)('Default', {\n                                Extension: extension,\n                                ContentType: contentType,\n                            }));\n                        };\n                        if (numImages) {\n                            debug_1.logger.debug('Completing [Content_Types].xml for IMAGES...');\n                            ensureContentType('png', 'image/png');\n                            ensureContentType('jpg', 'image/jpeg');\n                            ensureContentType('jpeg', 'image/jpeg');\n                            ensureContentType('gif', 'image/gif');\n                            ensureContentType('bmp', 'image/bmp');\n                            ensureContentType('svg', 'image/svg+xml');\n                        }\n                        if (numHtmls) {\n                            debug_1.logger.debug('Completing [Content_Types].xml for HTML...');\n                            ensureContentType('html', 'text/html');\n                        }\n                        finalContentTypesXml = (0, xml_1.buildXml)(contentTypes, xmlOptions);\n                        (0, zip_1.zipSetText)(zip, CONTENT_TYPES_PATH, finalContentTypesXml);\n                    }\n                    debug_1.logger.debug('Zipping...');\n                    return [4 /*yield*/, (0, zip_1.zipSave)(zip)];\n                case 18:\n                    output = _c.sent();\n                    return [2 /*return*/, output];\n            }\n        });\n    });\n}\n/**\n * Lists all the commands in a docx template.\n *\n * example:\n * ```js\n * const template_buffer = fs.readFileSync('template.docx');\n * const commands = await listCommands(template_buffer, ['{', '}']);\n * // `commands` will contain something like:\n * [\n *    { raw: 'INS some_variable', code: 'some_variable', type: 'INS' },\n *    { raw: 'IMAGE svgImgFile()', code: 'svgImgFile()', type: 'IMAGE' },\n * ]\n * ```\n *\n * @param template the docx template as a Buffer-like object\n * @param delimiter the command delimiter (defaults to ['+++', '+++'])\n */\nfunction listCommands(template, delimiter) {\n    return __awaiter(this, void 0, void 0, function () {\n        var opts, _a, jsTemplate, mainDocument, zip, secondaries, xmls, commands, _i, xmls_1, js, prepped, ctx;\n        var _this = this;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    opts = {\n                        cmdDelimiter: getCmdDelimiter(delimiter),\n                        // Otherwise unused but mandatory options\n                        literalXmlDelimiter: DEFAULT_LITERAL_XML_DELIMITER,\n                        processLineBreaks: true,\n                        noSandbox: false,\n                        additionalJsContext: {},\n                        failFast: false,\n                        rejectNullish: false,\n                        errorHandler: null,\n                        fixSmartQuotes: false,\n                        processLineBreaksAsNewText: false,\n                    };\n                    return [4 /*yield*/, parseTemplate(template)];\n                case 1:\n                    _a = _b.sent(), jsTemplate = _a.jsTemplate, mainDocument = _a.mainDocument, zip = _a.zip;\n                    return [4 /*yield*/, prepSecondaryXMLs(zip, mainDocument, opts)];\n                case 2:\n                    secondaries = _b.sent();\n                    xmls = __spreadArray([jsTemplate], secondaries.map(function (_a) {\n                        var js = _a[0], path = _a[1];\n                        return js;\n                    }), true);\n                    commands = [];\n                    _i = 0, xmls_1 = xmls;\n                    _b.label = 3;\n                case 3:\n                    if (!(_i < xmls_1.length)) return [3 /*break*/, 6];\n                    js = xmls_1[_i];\n                    prepped = (0, preprocessTemplate_1.default)(js, opts.cmdDelimiter);\n                    ctx = (0, processTemplate_1.newContext)(opts);\n                    return [4 /*yield*/, (0, processTemplate_1.walkTemplate)(undefined, prepped, ctx, function (data, node, ctx) { return __awaiter(_this, void 0, void 0, function () {\n                            var raw, _a, cmdName, code, type;\n                            return __generator(this, function (_b) {\n                                raw = (0, processTemplate_1.getCommand)(ctx.cmd, ctx.shorthands, ctx.options.fixSmartQuotes);\n                                ctx.cmd = ''; // flush the context\n                                _a = (0, processTemplate_1.splitCommand)(raw), cmdName = _a.cmdName, code = _a.cmdRest;\n                                type = cmdName;\n                                if (type != null && type !== 'CMD_NODE') {\n                                    commands.push({\n                                        raw: raw,\n                                        type: type,\n                                        code: code,\n                                    });\n                                }\n                                return [2 /*return*/, undefined];\n                            });\n                        }); })];\n                case 4:\n                    _b.sent();\n                    _b.label = 5;\n                case 5:\n                    _i++;\n                    return [3 /*break*/, 3];\n                case 6: return [2 /*return*/, commands];\n            }\n        });\n    });\n}\nexports.listCommands = listCommands;\n/**\n * Extract metadata from a document, such as the number of pages or words.\n * @param template the docx template as a Buffer-like object\n */\nfunction getMetadata(template) {\n    return __awaiter(this, void 0, void 0, function () {\n        // TODO: extract custom.xml as well?\n        function getText(t) {\n            if (t._children.length === 0)\n                return undefined;\n            var n = t._children[0];\n            if (n._fTextNode)\n                return n._text;\n            throw new Error(\"Not a text node\");\n        }\n        function findNodeText(m, tag) {\n            for (var _i = 0, _a = m._children; _i < _a.length; _i++) {\n                var t = _a[_i];\n                if (t._fTextNode)\n                    continue;\n                if (t._tag === tag)\n                    return getText(t);\n            }\n            return;\n        }\n        var app_xml_path, core_xml_path, zip, appXml, coreXml, numberize;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    app_xml_path = \"docProps/app.xml\";\n                    core_xml_path = \"docProps/core.xml\";\n                    return [4 /*yield*/, (0, zip_1.zipLoad)(template)];\n                case 1:\n                    zip = _a.sent();\n                    return [4 /*yield*/, parsePath(zip, app_xml_path)];\n                case 2:\n                    appXml = _a.sent();\n                    return [4 /*yield*/, parsePath(zip, core_xml_path)];\n                case 3:\n                    coreXml = _a.sent();\n                    numberize = function (a) {\n                        var c = Number(a);\n                        if (Number.isFinite(c))\n                            return c;\n                        return;\n                    };\n                    return [2 /*return*/, {\n                            pages: numberize(findNodeText(appXml, 'Pages')),\n                            words: numberize(findNodeText(appXml, 'Words')),\n                            characters: numberize(findNodeText(appXml, 'Characters')),\n                            lines: numberize(findNodeText(appXml, 'Lines')),\n                            paragraphs: numberize(findNodeText(appXml, 'Paragraphs')),\n                            company: findNodeText(appXml, 'Company'),\n                            template: findNodeText(appXml, 'Template'),\n                            // from CoreXML\n                            title: findNodeText(coreXml, 'dc:title'),\n                            subject: findNodeText(coreXml, 'dc:subject'),\n                            creator: findNodeText(coreXml, 'dc:creator'),\n                            description: findNodeText(coreXml, 'dc:description'),\n                            lastModifiedBy: findNodeText(coreXml, 'cp:lastModifiedBy'),\n                            revision: findNodeText(coreXml, 'cp:revision'),\n                            lastPrinted: findNodeText(coreXml, 'cp:lastPrinted'),\n                            created: findNodeText(coreXml, 'dcterms:created'),\n                            modified: findNodeText(coreXml, 'dcterms:modified'),\n                            category: findNodeText(coreXml, 'cp:category'),\n                        }];\n            }\n        });\n    });\n}\nexports.getMetadata = getMetadata;\nfunction parsePath(zip, xml_path) {\n    return __awaiter(this, void 0, void 0, function () {\n        var xmlFile, node;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, (0, zip_1.zipGetText)(zip, xml_path)];\n                case 1:\n                    xmlFile = _a.sent();\n                    if (xmlFile == null)\n                        throw new errors_1.TemplateParseError(\"\".concat(xml_path, \" could not be read\"));\n                    return [4 /*yield*/, (0, xml_1.parseXml)(xmlFile)];\n                case 2:\n                    node = _a.sent();\n                    if (node._fTextNode)\n                        throw new errors_1.TemplateParseError(\"\".concat(xml_path, \" is a text node when parsed\"));\n                    return [2 /*return*/, node];\n            }\n        });\n    });\n}\nfunction readContentTypes(zip) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, parsePath(zip, CONTENT_TYPES_PATH)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\nexports.readContentTypes = readContentTypes;\nfunction getMainDoc(contentTypes) {\n    var MAIN_DOC_MIMES = [\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml',\n        'application/vnd.ms-word.document.macroEnabled.main+xml',\n    ];\n    for (var _i = 0, _a = contentTypes._children; _i < _a.length; _i++) {\n        var t = _a[_i];\n        if (!t._fTextNode) {\n            if (t._attrs.ContentType != null &&\n                MAIN_DOC_MIMES.includes(t._attrs.ContentType)) {\n                var path = t._attrs.PartName;\n                if (path) {\n                    return path.replace('/word/', '');\n                }\n            }\n        }\n    }\n    throw new errors_1.TemplateParseError(\"Could not find main document (e.g. document.xml) in \".concat(CONTENT_TYPES_PATH));\n}\nexports.getMainDoc = getMainDoc;\nvar processImages = function (images, documentComponent, zip) { return __awaiter(void 0, void 0, void 0, function () {\n    var imageIds, relsPath, rels, _i, imageIds_1, imageId, _a, extension, imgData, imgName, imgPath, finalRelsXml;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                debug_1.logger.debug(\"Processing images for \".concat(documentComponent, \"...\"));\n                imageIds = Object.keys(images);\n                if (!imageIds.length)\n                    return [2 /*return*/];\n                debug_1.logger.debug('Completing document.xml.rels...');\n                relsPath = \"\".concat(TEMPLATE_PATH, \"/_rels/\").concat(documentComponent, \".rels\");\n                return [4 /*yield*/, getRelsFromZip(zip, relsPath)];\n            case 1:\n                rels = _b.sent();\n                for (_i = 0, imageIds_1 = imageIds; _i < imageIds_1.length; _i++) {\n                    imageId = imageIds_1[_i];\n                    _a = images[imageId], extension = _a.extension, imgData = _a.data;\n                    imgName = \"template_\".concat(documentComponent, \"_\").concat(imageId).concat(extension);\n                    debug_1.logger.debug(\"Writing image \".concat(imageId, \" (\").concat(imgName, \")...\"));\n                    imgPath = \"\".concat(TEMPLATE_PATH, \"/media/\").concat(imgName);\n                    if (typeof imgData === 'string') {\n                        zip.file(imgPath, imgData, { base64: true });\n                    }\n                    else {\n                        zip.file(imgPath, imgData, { binary: true });\n                    }\n                    (0, reportUtils_1.addChild)(rels, (0, reportUtils_1.newNonTextNode)('Relationship', {\n                        Id: imageId,\n                        Type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/image',\n                        Target: \"media/\".concat(imgName),\n                    }));\n                }\n                finalRelsXml = (0, xml_1.buildXml)(rels, {\n                    literalXmlDelimiter: DEFAULT_LITERAL_XML_DELIMITER,\n                });\n                (0, zip_1.zipSetText)(zip, relsPath, finalRelsXml);\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar processLinks = function (links, documentComponent, zip) { return __awaiter(void 0, void 0, void 0, function () {\n    var linkIds, relsPath, rels, _i, linkIds_1, linkId, url, finalRelsXml;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                debug_1.logger.debug(\"Processing links for \".concat(documentComponent, \"...\"));\n                linkIds = Object.keys(links);\n                if (!linkIds.length) return [3 /*break*/, 2];\n                debug_1.logger.debug('Completing document.xml.rels...');\n                relsPath = \"\".concat(TEMPLATE_PATH, \"/_rels/\").concat(documentComponent, \".rels\");\n                return [4 /*yield*/, getRelsFromZip(zip, relsPath)];\n            case 1:\n                rels = _a.sent();\n                for (_i = 0, linkIds_1 = linkIds; _i < linkIds_1.length; _i++) {\n                    linkId = linkIds_1[_i];\n                    url = links[linkId].url;\n                    (0, reportUtils_1.addChild)(rels, (0, reportUtils_1.newNonTextNode)('Relationship', {\n                        Id: linkId,\n                        Type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink',\n                        Target: url,\n                        TargetMode: 'External',\n                    }));\n                }\n                finalRelsXml = (0, xml_1.buildXml)(rels, {\n                    literalXmlDelimiter: DEFAULT_LITERAL_XML_DELIMITER,\n                });\n                (0, zip_1.zipSetText)(zip, relsPath, finalRelsXml);\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar processHtmls = function (htmls, documentComponent, zip) { return __awaiter(void 0, void 0, void 0, function () {\n    var htmlIds, htmlFiles, relsPath, rels, _i, htmlIds_1, htmlId, htmlData, htmlName, htmlPath, finalRelsXml;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                debug_1.logger.debug(\"Processing htmls for \".concat(documentComponent, \"...\"));\n                htmlIds = Object.keys(htmls);\n                if (!htmlIds.length) return [3 /*break*/, 2];\n                // Process rels\n                debug_1.logger.debug(\"Completing document.xml.rels...\");\n                htmlFiles = [];\n                relsPath = \"\".concat(TEMPLATE_PATH, \"/_rels/\").concat(documentComponent, \".rels\");\n                return [4 /*yield*/, getRelsFromZip(zip, relsPath)];\n            case 1:\n                rels = _a.sent();\n                for (_i = 0, htmlIds_1 = htmlIds; _i < htmlIds_1.length; _i++) {\n                    htmlId = htmlIds_1[_i];\n                    htmlData = htmls[htmlId];\n                    htmlName = \"template_\".concat(documentComponent.replace(/\\./g, '_'), \"_\").concat(htmlId, \".html\");\n                    debug_1.logger.debug(\"Writing html \".concat(htmlId, \" (\").concat(htmlName, \")...\"));\n                    htmlPath = \"\".concat(TEMPLATE_PATH, \"/\").concat(htmlName);\n                    htmlFiles.push(\"/\".concat(htmlPath));\n                    (0, zip_1.zipSetText)(zip, htmlPath, Buffer.from(htmlData));\n                    (0, reportUtils_1.addChild)(rels, (0, reportUtils_1.newNonTextNode)('Relationship', {\n                        Id: htmlId,\n                        Type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk',\n                        Target: \"\".concat(htmlName),\n                    }));\n                }\n                finalRelsXml = (0, xml_1.buildXml)(rels, {\n                    literalXmlDelimiter: DEFAULT_LITERAL_XML_DELIMITER,\n                });\n                (0, zip_1.zipSetText)(zip, relsPath, finalRelsXml);\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar getRelsFromZip = function (zip, relsPath) { return __awaiter(void 0, void 0, void 0, function () {\n    var relsXml;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, (0, zip_1.zipGetText)(zip, relsPath)];\n            case 1:\n                relsXml = _a.sent();\n                if (!relsXml) {\n                    relsXml = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?>\\n        <Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\">\\n        </Relationships>\";\n                }\n                return [2 /*return*/, (0, xml_1.parseXml)(relsXml)];\n        }\n    });\n}); };\nvar getCmdDelimiter = function (delimiter) {\n    if (!delimiter)\n        return [DEFAULT_CMD_DELIMITER, DEFAULT_CMD_DELIMITER];\n    if (typeof delimiter === 'string')\n        return [delimiter, delimiter];\n    return delimiter;\n};\nexports.default = createReport;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createReport = exports.getMetadata = exports.listCommands = void 0;\nvar main_1 = __importDefault(require(\"./main\"));\nexports.createReport = main_1.default;\nvar main_2 = require(\"./main\");\nObject.defineProperty(exports, \"listCommands\", { enumerable: true, get: function () { return main_2.listCommands; } });\nObject.defineProperty(exports, \"getMetadata\", { enumerable: true, get: function () { return main_2.getMetadata; } });\n__exportStar(require(\"./errors\"), exports);\nexports.default = main_1.default;\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AAAA;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,UAAU,QAAQ,aAAa,QAAQ,aAAa,QAAQ,UAAU;AAC9E,QAAI,UAAU,gBAAgB,mBAAgB;AAC9C,QAAI,UAAU,SAAU,WAAW;AAAE,aAAO,QAAQ,QAAQ,UAAU,SAAS;AAAA,IAAG;AAClF,YAAQ,UAAU;AAClB,QAAI,aAAa,SAAU,KAAK,UAAU;AACtC,UAAI,cAAc,IAAI,KAAK,QAAQ;AACnC,UAAI,CAAC;AACD,eAAO;AACX,aAAO,YAAY,MAAM,MAAM;AAAA,IACnC;AACA,YAAQ,aAAa;AACrB,QAAI,aAAa,SAAU,KAAK,UAAU,MAAM;AAC5C,aAAO,IAAI,KAAK,UAAU,MAAM,EAAE,QAAQ,MAAM,CAAC;AAAA,IACrD;AACA,YAAQ,aAAa;AACrB,QAAI,UAAU,SAAU,KAAK;AACzB,aAAO,IAAI,cAAc;AAAA,QACrB,MAAM;AAAA,QACN,aAAa;AAAA,QACb,oBAAoB,EAAE,OAAO,EAAE;AAAA,MACnC,CAAC;AAAA,IACL;AACA,YAAQ,UAAU;AAAA;AAAA;;;AC3BlB;AAAA;AAAA,WAAO,UAAU,OAAO,OAAO,IAAI,MAAM,CAAC,GAAG;AAAA,MAC3C,IAAI,GAAG,KAAK;AACV,YACE,QAAQ,gBACR,QAAQ,eACR,QAAQ,iBACR,QAAQ,UACR;AACA,kBAAQ,KAAK,0FAA0F,GAAG,mIAAmI;AAAA,QAC/O;AAAA,MACF;AAAA,IACF,CAAC,CAAC;AAAA;AAAA;;;ACXF;AAAA;AAAA,WAAO,UAAU,OAAO,OAAO,IAAI,MAAM,CAAC,GAAG;AAAA,MAC3C,IAAI,GAAG,KAAK;AACV,YACE,QAAQ,gBACR,QAAQ,eACR,QAAQ,iBACR,QAAQ,UACR;AACA,kBAAQ,KAAK,0FAA0F,GAAG,mIAAmI;AAAA,QAC/O;AAAA,MACF;AAAA,IACF,CAAC,CAAC;AAAA;AAAA;;;ACXF;AAAA;AACA,QAAI,SAAS;AACb,QAAIA,UAAS,OAAO;AAGpB,aAAS,UAAW,KAAK,KAAK;AAC5B,eAAS,OAAO,KAAK;AACnB,YAAI,GAAG,IAAI,IAAI,GAAG;AAAA,MACpB;AAAA,IACF;AACA,QAAIA,QAAO,QAAQA,QAAO,SAASA,QAAO,eAAeA,QAAO,iBAAiB;AAC/E,aAAO,UAAU;AAAA,IACnB,OAAO;AAEL,gBAAU,QAAQ,OAAO;AACzB,cAAQ,SAAS;AAAA,IACnB;AAEA,aAAS,WAAY,KAAK,kBAAkB,QAAQ;AAClD,aAAOA,QAAO,KAAK,kBAAkB,MAAM;AAAA,IAC7C;AAGA,cAAUA,SAAQ,UAAU;AAE5B,eAAW,OAAO,SAAU,KAAK,kBAAkB,QAAQ;AACzD,UAAI,OAAO,QAAQ,UAAU;AAC3B,cAAM,IAAI,UAAU,+BAA+B;AAAA,MACrD;AACA,aAAOA,QAAO,KAAK,kBAAkB,MAAM;AAAA,IAC7C;AAEA,eAAW,QAAQ,SAAU,MAAM,MAAM,UAAU;AACjD,UAAI,OAAO,SAAS,UAAU;AAC5B,cAAM,IAAI,UAAU,2BAA2B;AAAA,MACjD;AACA,UAAI,MAAMA,QAAO,IAAI;AACrB,UAAI,SAAS,QAAW;AACtB,YAAI,OAAO,aAAa,UAAU;AAChC,cAAI,KAAK,MAAM,QAAQ;AAAA,QACzB,OAAO;AACL,cAAI,KAAK,IAAI;AAAA,QACf;AAAA,MACF,OAAO;AACL,YAAI,KAAK,CAAC;AAAA,MACZ;AACA,aAAO;AAAA,IACT;AAEA,eAAW,cAAc,SAAU,MAAM;AACvC,UAAI,OAAO,SAAS,UAAU;AAC5B,cAAM,IAAI,UAAU,2BAA2B;AAAA,MACjD;AACA,aAAOA,QAAO,IAAI;AAAA,IACpB;AAEA,eAAW,kBAAkB,SAAU,MAAM;AAC3C,UAAI,OAAO,SAAS,UAAU;AAC5B,cAAM,IAAI,UAAU,2BAA2B;AAAA,MACjD;AACA,aAAO,OAAO,WAAW,IAAI;AAAA,IAC/B;AAAA;AAAA;;;AC7DA;AAAA;AAAA;AAyBA,QAAIC,UAAS,sBAAuB;AAGpC,QAAI,aAAaA,QAAO,cAAc,SAAU,UAAU;AACxD,iBAAW,KAAK;AAChB,cAAQ,YAAY,SAAS,YAAY,GAAG;AAAA,QAC1C,KAAK;AAAA,QAAM,KAAK;AAAA,QAAO,KAAK;AAAA,QAAQ,KAAK;AAAA,QAAQ,KAAK;AAAA,QAAS,KAAK;AAAA,QAAS,KAAK;AAAA,QAAO,KAAK;AAAA,QAAQ,KAAK;AAAA,QAAU,KAAK;AAAA,QAAW,KAAK;AACxI,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACF;AAEA,aAAS,mBAAmB,KAAK;AAC/B,UAAI,CAAC,IAAK,QAAO;AACjB,UAAI;AACJ,aAAO,MAAM;AACX,gBAAQ,KAAK;AAAA,UACX,KAAK;AAAA,UACL,KAAK;AACH,mBAAO;AAAA,UACT,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,mBAAO;AAAA,UACT,KAAK;AAAA,UACL,KAAK;AACH,mBAAO;AAAA,UACT,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,mBAAO;AAAA,UACT;AACE,gBAAI,QAAS;AACb,mBAAO,KAAK,KAAK,YAAY;AAC7B,sBAAU;AAAA,QACd;AAAA,MACF;AAAA,IACF;AAIA,aAAS,kBAAkB,KAAK;AAC9B,UAAI,OAAO,mBAAmB,GAAG;AACjC,UAAI,OAAO,SAAS,aAAaA,QAAO,eAAe,cAAc,CAAC,WAAW,GAAG,GAAI,OAAM,IAAI,MAAM,uBAAuB,GAAG;AAClI,aAAO,QAAQ;AAAA,IACjB;AAKA,YAAQ,gBAAgB;AACxB,aAAS,cAAc,UAAU;AAC/B,WAAK,WAAW,kBAAkB,QAAQ;AAC1C,UAAI;AACJ,cAAQ,KAAK,UAAU;AAAA,QACrB,KAAK;AACH,eAAK,OAAO;AACZ,eAAK,MAAM;AACX,eAAK;AACL;AAAA,QACF,KAAK;AACH,eAAK,WAAW;AAChB,eAAK;AACL;AAAA,QACF,KAAK;AACH,eAAK,OAAO;AACZ,eAAK,MAAM;AACX,eAAK;AACL;AAAA,QACF;AACE,eAAK,QAAQ;AACb,eAAK,MAAM;AACX;AAAA,MACJ;AACA,WAAK,WAAW;AAChB,WAAK,YAAY;AACjB,WAAK,WAAWA,QAAO,YAAY,EAAE;AAAA,IACvC;AAEA,kBAAc,UAAU,QAAQ,SAAU,KAAK;AAC7C,UAAI,IAAI,WAAW,EAAG,QAAO;AAC7B,UAAI;AACJ,UAAI;AACJ,UAAI,KAAK,UAAU;AACjB,YAAI,KAAK,SAAS,GAAG;AACrB,YAAI,MAAM,OAAW,QAAO;AAC5B,YAAI,KAAK;AACT,aAAK,WAAW;AAAA,MAClB,OAAO;AACL,YAAI;AAAA,MACN;AACA,UAAI,IAAI,IAAI,OAAQ,QAAO,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,KAAK,CAAC;AACvE,aAAO,KAAK;AAAA,IACd;AAEA,kBAAc,UAAU,MAAM;AAG9B,kBAAc,UAAU,OAAO;AAG/B,kBAAc,UAAU,WAAW,SAAU,KAAK;AAChD,UAAI,KAAK,YAAY,IAAI,QAAQ;AAC/B,YAAI,KAAK,KAAK,UAAU,KAAK,YAAY,KAAK,UAAU,GAAG,KAAK,QAAQ;AACxE,eAAO,KAAK,SAAS,SAAS,KAAK,UAAU,GAAG,KAAK,SAAS;AAAA,MAChE;AACA,UAAI,KAAK,KAAK,UAAU,KAAK,YAAY,KAAK,UAAU,GAAG,IAAI,MAAM;AACrE,WAAK,YAAY,IAAI;AAAA,IACvB;AAIA,aAAS,cAAc,MAAM;AAC3B,UAAI,QAAQ,IAAM,QAAO;AAAA,eAAW,QAAQ,MAAM,EAAM,QAAO;AAAA,eAAW,QAAQ,MAAM,GAAM,QAAO;AAAA,eAAW,QAAQ,MAAM,GAAM,QAAO;AAC3I,aAAO,QAAQ,MAAM,IAAO,KAAK;AAAA,IACnC;AAKA,aAAS,oBAAoB,MAAM,KAAK,GAAG;AACzC,UAAI,IAAI,IAAI,SAAS;AACrB,UAAI,IAAI,EAAG,QAAO;AAClB,UAAI,KAAK,cAAc,IAAI,CAAC,CAAC;AAC7B,UAAI,MAAM,GAAG;AACX,YAAI,KAAK,EAAG,MAAK,WAAW,KAAK;AACjC,eAAO;AAAA,MACT;AACA,UAAI,EAAE,IAAI,KAAK,OAAO,GAAI,QAAO;AACjC,WAAK,cAAc,IAAI,CAAC,CAAC;AACzB,UAAI,MAAM,GAAG;AACX,YAAI,KAAK,EAAG,MAAK,WAAW,KAAK;AACjC,eAAO;AAAA,MACT;AACA,UAAI,EAAE,IAAI,KAAK,OAAO,GAAI,QAAO;AACjC,WAAK,cAAc,IAAI,CAAC,CAAC;AACzB,UAAI,MAAM,GAAG;AACX,YAAI,KAAK,GAAG;AACV,cAAI,OAAO,EAAG,MAAK;AAAA,cAAO,MAAK,WAAW,KAAK;AAAA,QACjD;AACA,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT;AAUA,aAAS,oBAAoB,MAAM,KAAK,GAAG;AACzC,WAAK,IAAI,CAAC,IAAI,SAAU,KAAM;AAC5B,aAAK,WAAW;AAChB,eAAO;AAAA,MACT;AACA,UAAI,KAAK,WAAW,KAAK,IAAI,SAAS,GAAG;AACvC,aAAK,IAAI,CAAC,IAAI,SAAU,KAAM;AAC5B,eAAK,WAAW;AAChB,iBAAO;AAAA,QACT;AACA,YAAI,KAAK,WAAW,KAAK,IAAI,SAAS,GAAG;AACvC,eAAK,IAAI,CAAC,IAAI,SAAU,KAAM;AAC5B,iBAAK,WAAW;AAChB,mBAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAGA,aAAS,aAAa,KAAK;AACzB,UAAI,IAAI,KAAK,YAAY,KAAK;AAC9B,UAAI,IAAI,oBAAoB,MAAM,KAAK,CAAC;AACxC,UAAI,MAAM,OAAW,QAAO;AAC5B,UAAI,KAAK,YAAY,IAAI,QAAQ;AAC/B,YAAI,KAAK,KAAK,UAAU,GAAG,GAAG,KAAK,QAAQ;AAC3C,eAAO,KAAK,SAAS,SAAS,KAAK,UAAU,GAAG,KAAK,SAAS;AAAA,MAChE;AACA,UAAI,KAAK,KAAK,UAAU,GAAG,GAAG,IAAI,MAAM;AACxC,WAAK,YAAY,IAAI;AAAA,IACvB;AAKA,aAAS,SAAS,KAAK,GAAG;AACxB,UAAI,QAAQ,oBAAoB,MAAM,KAAK,CAAC;AAC5C,UAAI,CAAC,KAAK,SAAU,QAAO,IAAI,SAAS,QAAQ,CAAC;AACjD,WAAK,YAAY;AACjB,UAAI,MAAM,IAAI,UAAU,QAAQ,KAAK;AACrC,UAAI,KAAK,KAAK,UAAU,GAAG,GAAG;AAC9B,aAAO,IAAI,SAAS,QAAQ,GAAG,GAAG;AAAA,IACpC;AAIA,aAAS,QAAQ,KAAK;AACpB,UAAI,IAAI,OAAO,IAAI,SAAS,KAAK,MAAM,GAAG,IAAI;AAC9C,UAAI,KAAK,SAAU,QAAO,IAAI;AAC9B,aAAO;AAAA,IACT;AAMA,aAAS,UAAU,KAAK,GAAG;AACzB,WAAK,IAAI,SAAS,KAAK,MAAM,GAAG;AAC9B,YAAI,IAAI,IAAI,SAAS,WAAW,CAAC;AACjC,YAAI,GAAG;AACL,cAAI,IAAI,EAAE,WAAW,EAAE,SAAS,CAAC;AACjC,cAAI,KAAK,SAAU,KAAK,OAAQ;AAC9B,iBAAK,WAAW;AAChB,iBAAK,YAAY;AACjB,iBAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AACrC,iBAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AACrC,mBAAO,EAAE,MAAM,GAAG,EAAE;AAAA,UACtB;AAAA,QACF;AACA,eAAO;AAAA,MACT;AACA,WAAK,WAAW;AAChB,WAAK,YAAY;AACjB,WAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AACrC,aAAO,IAAI,SAAS,WAAW,GAAG,IAAI,SAAS,CAAC;AAAA,IAClD;AAIA,aAAS,SAAS,KAAK;AACrB,UAAI,IAAI,OAAO,IAAI,SAAS,KAAK,MAAM,GAAG,IAAI;AAC9C,UAAI,KAAK,UAAU;AACjB,YAAI,MAAM,KAAK,YAAY,KAAK;AAChC,eAAO,IAAI,KAAK,SAAS,SAAS,WAAW,GAAG,GAAG;AAAA,MACrD;AACA,aAAO;AAAA,IACT;AAEA,aAAS,WAAW,KAAK,GAAG;AAC1B,UAAI,KAAK,IAAI,SAAS,KAAK;AAC3B,UAAI,MAAM,EAAG,QAAO,IAAI,SAAS,UAAU,CAAC;AAC5C,WAAK,WAAW,IAAI;AACpB,WAAK,YAAY;AACjB,UAAI,MAAM,GAAG;AACX,aAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AAAA,MACvC,OAAO;AACL,aAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AACrC,aAAK,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC;AAAA,MACvC;AACA,aAAO,IAAI,SAAS,UAAU,GAAG,IAAI,SAAS,CAAC;AAAA,IACjD;AAEA,aAAS,UAAU,KAAK;AACtB,UAAI,IAAI,OAAO,IAAI,SAAS,KAAK,MAAM,GAAG,IAAI;AAC9C,UAAI,KAAK,SAAU,QAAO,IAAI,KAAK,SAAS,SAAS,UAAU,GAAG,IAAI,KAAK,QAAQ;AACnF,aAAO;AAAA,IACT;AAGA,aAAS,YAAY,KAAK;AACxB,aAAO,IAAI,SAAS,KAAK,QAAQ;AAAA,IACnC;AAEA,aAAS,UAAU,KAAK;AACtB,aAAO,OAAO,IAAI,SAAS,KAAK,MAAM,GAAG,IAAI;AAAA,IAC/C;AAAA;AAAA;;;ACvSA;AAAA;AAAC,KAAC,SAAU,KAAK;AACf,UAAI,SAAS,SAAU,QAAQ,KAAK;AAAE,eAAO,IAAI,UAAU,QAAQ,GAAG;AAAA,MAAE;AACxE,UAAI,YAAY;AAChB,UAAI,YAAY;AAChB,UAAI,eAAe;AAWnB,UAAI,oBAAoB,KAAK;AAE7B,UAAI,UAAU;AAAA,QACZ;AAAA,QAAW;AAAA,QAAY;AAAA,QAAY;AAAA,QAAW;AAAA,QAC9C;AAAA,QAAgB;AAAA,QAAgB;AAAA,QAAU;AAAA,QAC1C;AAAA,QAAe;AAAA,QAAS;AAAA,MAC1B;AAEA,UAAI,SAAS;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAEA,eAAS,UAAW,QAAQ,KAAK;AAC/B,YAAI,EAAE,gBAAgB,YAAY;AAChC,iBAAO,IAAI,UAAU,QAAQ,GAAG;AAAA,QAClC;AAEA,YAAI,SAAS;AACb,qBAAa,MAAM;AACnB,eAAO,IAAI,OAAO,IAAI;AACtB,eAAO,sBAAsB,IAAI;AACjC,eAAO,MAAM,OAAO,CAAC;AACrB,eAAO,IAAI,YAAY,OAAO,IAAI,aAAa,OAAO,IAAI;AAC1D,eAAO,YAAY,OAAO,IAAI,YAAY,gBAAgB;AAC1D,eAAO,OAAO,CAAC;AACf,eAAO,SAAS,OAAO,aAAa,OAAO,UAAU;AACrD,eAAO,MAAM,OAAO,QAAQ;AAC5B,eAAO,SAAS,CAAC,CAAC;AAClB,eAAO,WAAW,CAAC,EAAE,UAAU,OAAO,IAAI;AAC1C,eAAO,QAAQ,EAAE;AACjB,eAAO,iBAAiB,OAAO,IAAI;AACnC,eAAO,WAAW,OAAO,iBAAiB,OAAO,OAAO,IAAI,YAAY,IAAI,OAAO,OAAO,IAAI,QAAQ;AACtG,eAAO,aAAa,CAAC;AAKrB,YAAI,OAAO,IAAI,OAAO;AACpB,iBAAO,KAAK,OAAO,OAAO,MAAM;AAAA,QAClC;AAGA,eAAO,gBAAgB,OAAO,IAAI,aAAa;AAC/C,YAAI,OAAO,eAAe;AACxB,iBAAO,WAAW,OAAO,OAAO,OAAO,SAAS;AAAA,QAClD;AACA,aAAK,QAAQ,SAAS;AAAA,MACxB;AAEA,UAAI,CAAC,OAAO,QAAQ;AAClB,eAAO,SAAS,SAAU,GAAG;AAC3B,mBAAS,IAAK;AAAA,UAAC;AACf,YAAE,YAAY;AACd,cAAI,OAAO,IAAI,EAAE;AACjB,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,UAAI,CAAC,OAAO,MAAM;AAChB,eAAO,OAAO,SAAU,GAAG;AACzB,cAAI,IAAI,CAAC;AACT,mBAAS,KAAK,EAAG,KAAI,EAAE,eAAe,CAAC,EAAG,GAAE,KAAK,CAAC;AAClD,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,eAAS,kBAAmB,QAAQ;AAClC,YAAI,aAAa,KAAK,IAAI,IAAI,mBAAmB,EAAE;AACnD,YAAI,YAAY;AAChB,iBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,IAAI,GAAG,KAAK;AAC9C,cAAI,MAAM,OAAO,QAAQ,CAAC,CAAC,EAAE;AAC7B,cAAI,MAAM,YAAY;AAKpB,oBAAQ,QAAQ,CAAC,GAAG;AAAA,cAClB,KAAK;AACH,0BAAU,MAAM;AAChB;AAAA,cAEF,KAAK;AACH,yBAAS,QAAQ,WAAW,OAAO,KAAK;AACxC,uBAAO,QAAQ;AACf;AAAA,cAEF,KAAK;AACH,yBAAS,QAAQ,YAAY,OAAO,MAAM;AAC1C,uBAAO,SAAS;AAChB;AAAA,cAEF;AACE,sBAAM,QAAQ,iCAAiC,QAAQ,CAAC,CAAC;AAAA,YAC7D;AAAA,UACF;AACA,sBAAY,KAAK,IAAI,WAAW,GAAG;AAAA,QACrC;AAEA,YAAI,IAAI,IAAI,oBAAoB;AAChC,eAAO,sBAAsB,IAAI,OAAO;AAAA,MAC1C;AAEA,eAAS,aAAc,QAAQ;AAC7B,iBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,IAAI,GAAG,KAAK;AAC9C,iBAAO,QAAQ,CAAC,CAAC,IAAI;AAAA,QACvB;AAAA,MACF;AAEA,eAAS,aAAc,QAAQ;AAC7B,kBAAU,MAAM;AAChB,YAAI,OAAO,UAAU,IAAI;AACvB,mBAAS,QAAQ,WAAW,OAAO,KAAK;AACxC,iBAAO,QAAQ;AAAA,QACjB;AACA,YAAI,OAAO,WAAW,IAAI;AACxB,mBAAS,QAAQ,YAAY,OAAO,MAAM;AAC1C,iBAAO,SAAS;AAAA,QAClB;AAAA,MACF;AAEA,gBAAU,YAAY;AAAA,QACpB,KAAK,WAAY;AAAE,cAAI,IAAI;AAAA,QAAE;AAAA,QAC7B;AAAA,QACA,QAAQ,WAAY;AAAE,eAAK,QAAQ;AAAM,iBAAO;AAAA,QAAK;AAAA,QACrD,OAAO,WAAY;AAAE,iBAAO,KAAK,MAAM,IAAI;AAAA,QAAE;AAAA,QAC7C,OAAO,WAAY;AAAE,uBAAa,IAAI;AAAA,QAAE;AAAA,MAC1C;AAEA,UAAI;AACJ,UAAI;AACF,iBAAS,iBAAkB;AAAA,MAC7B,SAAS,IAAI;AACX,iBAAS,WAAY;AAAA,QAAC;AAAA,MACxB;AACA,UAAI,CAAC,OAAQ,UAAS,WAAY;AAAA,MAAC;AAEnC,UAAI,cAAc,IAAI,OAAO,OAAO,SAAU,IAAI;AAChD,eAAO,OAAO,WAAW,OAAO;AAAA,MAClC,CAAC;AAED,eAAS,aAAc,QAAQ,KAAK;AAClC,eAAO,IAAI,UAAU,QAAQ,GAAG;AAAA,MAClC;AAEA,eAAS,UAAW,QAAQ,KAAK;AAC/B,YAAI,EAAE,gBAAgB,YAAY;AAChC,iBAAO,IAAI,UAAU,QAAQ,GAAG;AAAA,QAClC;AAEA,eAAO,MAAM,IAAI;AAEjB,aAAK,UAAU,IAAI,UAAU,QAAQ,GAAG;AACxC,aAAK,WAAW;AAChB,aAAK,WAAW;AAEhB,YAAI,KAAK;AAET,aAAK,QAAQ,QAAQ,WAAY;AAC/B,aAAG,KAAK,KAAK;AAAA,QACf;AAEA,aAAK,QAAQ,UAAU,SAAU,IAAI;AACnC,aAAG,KAAK,SAAS,EAAE;AAInB,aAAG,QAAQ,QAAQ;AAAA,QACrB;AAEA,aAAK,WAAW;AAEhB,oBAAY,QAAQ,SAAU,IAAI;AAChC,iBAAO,eAAe,IAAI,OAAO,IAAI;AAAA,YACnC,KAAK,WAAY;AACf,qBAAO,GAAG,QAAQ,OAAO,EAAE;AAAA,YAC7B;AAAA,YACA,KAAK,SAAU,GAAG;AAChB,kBAAI,CAAC,GAAG;AACN,mBAAG,mBAAmB,EAAE;AACxB,mBAAG,QAAQ,OAAO,EAAE,IAAI;AACxB,uBAAO;AAAA,cACT;AACA,iBAAG,GAAG,IAAI,CAAC;AAAA,YACb;AAAA,YACA,YAAY;AAAA,YACZ,cAAc;AAAA,UAChB,CAAC;AAAA,QACH,CAAC;AAAA,MACH;AAEA,gBAAU,YAAY,OAAO,OAAO,OAAO,WAAW;AAAA,QACpD,aAAa;AAAA,UACX,OAAO;AAAA,QACT;AAAA,MACF,CAAC;AAED,gBAAU,UAAU,QAAQ,SAAU,MAAM;AAC1C,YAAI,OAAO,WAAW,cACpB,OAAO,OAAO,aAAa,cAC3B,OAAO,SAAS,IAAI,GAAG;AACvB,cAAI,CAAC,KAAK,UAAU;AAClB,gBAAI,KAAK,yBAA0B;AACnC,iBAAK,WAAW,IAAI,GAAG,MAAM;AAAA,UAC/B;AACA,iBAAO,KAAK,SAAS,MAAM,IAAI;AAAA,QACjC;AAEA,aAAK,QAAQ,MAAM,KAAK,SAAS,CAAC;AAClC,aAAK,KAAK,QAAQ,IAAI;AACtB,eAAO;AAAA,MACT;AAEA,gBAAU,UAAU,MAAM,SAAU,OAAO;AACzC,YAAI,SAAS,MAAM,QAAQ;AACzB,eAAK,MAAM,KAAK;AAAA,QAClB;AACA,aAAK,QAAQ,IAAI;AACjB,eAAO;AAAA,MACT;AAEA,gBAAU,UAAU,KAAK,SAAU,IAAI,SAAS;AAC9C,YAAI,KAAK;AACT,YAAI,CAAC,GAAG,QAAQ,OAAO,EAAE,KAAK,YAAY,QAAQ,EAAE,MAAM,IAAI;AAC5D,aAAG,QAAQ,OAAO,EAAE,IAAI,WAAY;AAClC,gBAAI,OAAO,UAAU,WAAW,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,MAAM,MAAM,MAAM,SAAS;AAChF,iBAAK,OAAO,GAAG,GAAG,EAAE;AACpB,eAAG,KAAK,MAAM,IAAI,IAAI;AAAA,UACxB;AAAA,QACF;AAEA,eAAO,OAAO,UAAU,GAAG,KAAK,IAAI,IAAI,OAAO;AAAA,MACjD;AAIA,UAAI,QAAQ;AACZ,UAAI,UAAU;AACd,UAAI,gBAAgB;AACpB,UAAI,kBAAkB;AACtB,UAAI,SAAS,EAAE,KAAK,eAAe,OAAO,gBAAgB;AAQ1D,UAAI,YAAY;AAEhB,UAAI,WAAW;AAEf,UAAI,cAAc;AAClB,UAAI,aAAa;AAEjB,eAAS,aAAc,GAAG;AACxB,eAAO,MAAM,OAAO,MAAM,QAAQ,MAAM,QAAQ,MAAM;AAAA,MACxD;AAEA,eAAS,QAAS,GAAG;AACnB,eAAO,MAAM,OAAO,MAAM;AAAA,MAC5B;AAEA,eAAS,YAAa,GAAG;AACvB,eAAO,MAAM,OAAO,aAAa,CAAC;AAAA,MACpC;AAEA,eAAS,QAAS,OAAO,GAAG;AAC1B,eAAO,MAAM,KAAK,CAAC;AAAA,MACrB;AAEA,eAAS,SAAU,OAAO,GAAG;AAC3B,eAAO,CAAC,QAAQ,OAAO,CAAC;AAAA,MAC1B;AAEA,UAAI,IAAI;AACR,UAAI,QAAQ;AAAA,QACV,OAAO;AAAA;AAAA,QACP,kBAAkB;AAAA;AAAA,QAClB,MAAM;AAAA;AAAA,QACN,aAAa;AAAA;AAAA,QACb,WAAW;AAAA;AAAA,QACX,WAAW;AAAA;AAAA,QACX,kBAAkB;AAAA;AAAA,QAClB,SAAS;AAAA;AAAA,QACT,gBAAgB;AAAA;AAAA,QAChB,aAAa;AAAA;AAAA,QACb,oBAAoB;AAAA;AAAA,QACpB,kBAAkB;AAAA;AAAA,QAClB,SAAS;AAAA;AAAA,QACT,gBAAgB;AAAA;AAAA,QAChB,eAAe;AAAA;AAAA,QACf,OAAO;AAAA;AAAA,QACP,cAAc;AAAA;AAAA,QACd,gBAAgB;AAAA;AAAA,QAChB,WAAW;AAAA;AAAA,QACX,gBAAgB;AAAA;AAAA,QAChB,kBAAkB;AAAA;AAAA,QAClB,UAAU;AAAA;AAAA,QACV,gBAAgB;AAAA;AAAA,QAChB,QAAQ;AAAA;AAAA,QACR,aAAa;AAAA;AAAA,QACb,uBAAuB;AAAA;AAAA,QACvB,cAAc;AAAA;AAAA,QACd,qBAAqB;AAAA;AAAA,QACrB,qBAAqB;AAAA;AAAA,QACrB,uBAAuB;AAAA;AAAA,QACvB,uBAAuB;AAAA;AAAA,QACvB,uBAAuB;AAAA;AAAA,QACvB,WAAW;AAAA;AAAA,QACX,qBAAqB;AAAA;AAAA,QACrB,QAAQ;AAAA;AAAA,QACR,eAAe;AAAA;AAAA,MACjB;AAEA,UAAI,eAAe;AAAA,QACjB,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAEA,UAAI,WAAW;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,QACN,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,OAAO;AAAA,QACP,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,WAAW;AAAA,QACX,MAAM;AAAA,QACN,OAAO;AAAA,QACP,SAAS;AAAA,QACT,OAAO;AAAA,QACP,WAAW;AAAA,QACX,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,WAAW;AAAA,QACX,MAAM;AAAA,QACN,OAAO;AAAA,QACP,UAAU;AAAA,QACV,SAAS;AAAA,QACT,OAAO;AAAA,QACP,WAAW;AAAA,QACX,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,OAAO;AAAA,QACP,OAAO;AAAA,QACP,MAAM;AAAA,QACN,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,MAAM;AAAA,QACN,SAAS;AAAA,QACT,MAAM;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,QACP,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,UAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU;AAAA,QACV,SAAS;AAAA,MACX;AAEA,aAAO,KAAK,IAAI,QAAQ,EAAE,QAAQ,SAAU,KAAK;AAC/C,YAAI,IAAI,IAAI,SAAS,GAAG;AACxB,YAAIC,KAAI,OAAO,MAAM,WAAW,OAAO,aAAa,CAAC,IAAI;AACzD,YAAI,SAAS,GAAG,IAAIA;AAAA,MACtB,CAAC;AAED,eAAS,KAAK,IAAI,OAAO;AACvB,YAAI,MAAM,IAAI,MAAM,CAAC,CAAC,IAAI;AAAA,MAC5B;AAGA,UAAI,IAAI;AAER,eAAS,KAAM,QAAQ,OAAO,MAAM;AAClC,eAAO,KAAK,KAAK,OAAO,KAAK,EAAE,IAAI;AAAA,MACrC;AAEA,eAAS,SAAU,QAAQ,UAAU,MAAM;AACzC,YAAI,OAAO,SAAU,WAAU,MAAM;AACrC,aAAK,QAAQ,UAAU,IAAI;AAAA,MAC7B;AAEA,eAAS,UAAW,QAAQ;AAC1B,eAAO,WAAW,SAAS,OAAO,KAAK,OAAO,QAAQ;AACtD,YAAI,OAAO,SAAU,MAAK,QAAQ,UAAU,OAAO,QAAQ;AAC3D,eAAO,WAAW;AAAA,MACpB;AAEA,eAAS,SAAU,KAAK,MAAM;AAC5B,YAAI,IAAI,KAAM,QAAO,KAAK,KAAK;AAC/B,YAAI,IAAI,UAAW,QAAO,KAAK,QAAQ,QAAQ,GAAG;AAClD,eAAO;AAAA,MACT;AAEA,eAAS,MAAO,QAAQ,IAAI;AAC1B,kBAAU,MAAM;AAChB,YAAI,OAAO,eAAe;AACxB,gBAAM,aAAa,OAAO,OACxB,eAAe,OAAO,SACtB,aAAa,OAAO;AAAA,QACxB;AACA,aAAK,IAAI,MAAM,EAAE;AACjB,eAAO,QAAQ;AACf,aAAK,QAAQ,WAAW,EAAE;AAC1B,eAAO;AAAA,MACT;AAEA,eAAS,IAAK,QAAQ;AACpB,YAAI,OAAO,WAAW,CAAC,OAAO,WAAY,YAAW,QAAQ,mBAAmB;AAChF,YAAK,OAAO,UAAU,EAAE,SACrB,OAAO,UAAU,EAAE,oBACnB,OAAO,UAAU,EAAE,MAAO;AAC3B,gBAAM,QAAQ,gBAAgB;AAAA,QAChC;AACA,kBAAU,MAAM;AAChB,eAAO,IAAI;AACX,eAAO,SAAS;AAChB,aAAK,QAAQ,OAAO;AACpB,kBAAU,KAAK,QAAQ,OAAO,QAAQ,OAAO,GAAG;AAChD,eAAO;AAAA,MACT;AAEA,eAAS,WAAY,QAAQ,SAAS;AACpC,YAAI,OAAO,WAAW,YAAY,EAAE,kBAAkB,YAAY;AAChE,gBAAM,IAAI,MAAM,wBAAwB;AAAA,QAC1C;AACA,YAAI,OAAO,QAAQ;AACjB,gBAAM,QAAQ,OAAO;AAAA,QACvB;AAAA,MACF;AAEA,eAAS,OAAQ,QAAQ;AACvB,YAAI,CAAC,OAAO,OAAQ,QAAO,UAAU,OAAO,QAAQ,OAAO,SAAS,EAAE;AACtE,YAAI,SAAS,OAAO,KAAK,OAAO,KAAK,SAAS,CAAC,KAAK;AACpD,YAAI,MAAM,OAAO,MAAM,EAAE,MAAM,OAAO,SAAS,YAAY,CAAC,EAAE;AAG9D,YAAI,OAAO,IAAI,OAAO;AACpB,cAAI,KAAK,OAAO;AAAA,QAClB;AACA,eAAO,WAAW,SAAS;AAC3B,iBAAS,QAAQ,kBAAkB,GAAG;AAAA,MACxC;AAEA,eAAS,MAAO,MAAM,WAAW;AAC/B,YAAI,IAAI,KAAK,QAAQ,GAAG;AACxB,YAAI,WAAW,IAAI,IAAI,CAAE,IAAI,IAAK,IAAI,KAAK,MAAM,GAAG;AACpD,YAAI,SAAS,SAAS,CAAC;AACvB,YAAI,QAAQ,SAAS,CAAC;AAGtB,YAAI,aAAa,SAAS,SAAS;AACjC,mBAAS;AACT,kBAAQ;AAAA,QACV;AAEA,eAAO,EAAE,QAAgB,MAAa;AAAA,MACxC;AAEA,eAAS,OAAQ,QAAQ;AACvB,YAAI,CAAC,OAAO,QAAQ;AAClB,iBAAO,aAAa,OAAO,WAAW,OAAO,SAAS,EAAE;AAAA,QAC1D;AAEA,YAAI,OAAO,WAAW,QAAQ,OAAO,UAAU,MAAM,MACnD,OAAO,IAAI,WAAW,eAAe,OAAO,UAAU,GAAG;AACzD,iBAAO,aAAa,OAAO,cAAc;AACzC;AAAA,QACF;AAEA,YAAI,OAAO,IAAI,OAAO;AACpB,cAAI,KAAK,MAAM,OAAO,YAAY,IAAI;AACtC,cAAI,SAAS,GAAG;AAChB,cAAI,QAAQ,GAAG;AAEf,cAAI,WAAW,SAAS;AAEtB,gBAAI,UAAU,SAAS,OAAO,gBAAgB,eAAe;AAC3D;AAAA,gBAAW;AAAA,gBACT,kCAAkC,gBAAgB,eACrC,OAAO;AAAA,cAAW;AAAA,YACnC,WAAW,UAAU,WAAW,OAAO,gBAAgB,iBAAiB;AACtE;AAAA,gBAAW;AAAA,gBACT,oCAAoC,kBAAkB,eACzC,OAAO;AAAA,cAAW;AAAA,YACnC,OAAO;AACL,kBAAI,MAAM,OAAO;AACjB,kBAAI,SAAS,OAAO,KAAK,OAAO,KAAK,SAAS,CAAC,KAAK;AACpD,kBAAI,IAAI,OAAO,OAAO,IAAI;AACxB,oBAAI,KAAK,OAAO,OAAO,OAAO,EAAE;AAAA,cAClC;AACA,kBAAI,GAAG,KAAK,IAAI,OAAO;AAAA,YACzB;AAAA,UACF;AAKA,iBAAO,WAAW,KAAK,CAAC,OAAO,YAAY,OAAO,WAAW,CAAC;AAAA,QAChE,OAAO;AAEL,iBAAO,IAAI,WAAW,OAAO,UAAU,IAAI,OAAO;AAClD,mBAAS,QAAQ,eAAe;AAAA,YAC9B,MAAM,OAAO;AAAA,YACb,OAAO,OAAO;AAAA,UAChB,CAAC;AAAA,QACH;AAEA,eAAO,aAAa,OAAO,cAAc;AAAA,MAC3C;AAEA,eAAS,QAAS,QAAQ,aAAa;AACrC,YAAI,OAAO,IAAI,OAAO;AAEpB,cAAI,MAAM,OAAO;AAGjB,cAAI,KAAK,MAAM,OAAO,OAAO;AAC7B,cAAI,SAAS,GAAG;AAChB,cAAI,QAAQ,GAAG;AACf,cAAI,MAAM,IAAI,GAAG,GAAG,MAAM,KAAK;AAE/B,cAAI,IAAI,UAAU,CAAC,IAAI,KAAK;AAC1B,uBAAW,QAAQ,+BACjB,KAAK,UAAU,OAAO,OAAO,CAAC;AAChC,gBAAI,MAAM,GAAG;AAAA,UACf;AAEA,cAAI,SAAS,OAAO,KAAK,OAAO,KAAK,SAAS,CAAC,KAAK;AACpD,cAAI,IAAI,MAAM,OAAO,OAAO,IAAI,IAAI;AAClC,mBAAO,KAAK,IAAI,EAAE,EAAE,QAAQ,SAAU,GAAG;AACvC,uBAAS,QAAQ,mBAAmB;AAAA,gBAClC,QAAQ;AAAA,gBACR,KAAK,IAAI,GAAG,CAAC;AAAA,cACf,CAAC;AAAA,YACH,CAAC;AAAA,UACH;AAKA,mBAAS,IAAI,GAAG,IAAI,OAAO,WAAW,QAAQ,IAAI,GAAG,KAAK;AACxD,gBAAI,KAAK,OAAO,WAAW,CAAC;AAC5B,gBAAI,OAAO,GAAG,CAAC;AACf,gBAAI,QAAQ,GAAG,CAAC;AAChB,gBAAI,WAAW,MAAM,MAAM,IAAI;AAC/B,gBAAI,SAAS,SAAS;AACtB,gBAAI,QAAQ,SAAS;AACrB,gBAAI,MAAM,WAAW,KAAK,KAAM,IAAI,GAAG,MAAM,KAAK;AAClD,gBAAI,IAAI;AAAA,cACN;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,YACF;AAIA,gBAAI,UAAU,WAAW,WAAW,CAAC,KAAK;AACxC,yBAAW,QAAQ,+BACjB,KAAK,UAAU,MAAM,CAAC;AACxB,gBAAE,MAAM;AAAA,YACV;AACA,mBAAO,IAAI,WAAW,IAAI,IAAI;AAC9B,qBAAS,QAAQ,eAAe,CAAC;AAAA,UACnC;AACA,iBAAO,WAAW,SAAS;AAAA,QAC7B;AAEA,eAAO,IAAI,gBAAgB,CAAC,CAAC;AAG7B,eAAO,UAAU;AACjB,eAAO,KAAK,KAAK,OAAO,GAAG;AAC3B,iBAAS,QAAQ,aAAa,OAAO,GAAG;AACxC,YAAI,CAAC,aAAa;AAEhB,cAAI,CAAC,OAAO,YAAY,OAAO,QAAQ,YAAY,MAAM,UAAU;AACjE,mBAAO,QAAQ,EAAE;AAAA,UACnB,OAAO;AACL,mBAAO,QAAQ,EAAE;AAAA,UACnB;AACA,iBAAO,MAAM;AACb,iBAAO,UAAU;AAAA,QACnB;AACA,eAAO,aAAa,OAAO,cAAc;AACzC,eAAO,WAAW,SAAS;AAAA,MAC7B;AAEA,eAAS,SAAU,QAAQ;AACzB,YAAI,CAAC,OAAO,SAAS;AACnB,qBAAW,QAAQ,wBAAwB;AAC3C,iBAAO,YAAY;AACnB,iBAAO,QAAQ,EAAE;AACjB;AAAA,QACF;AAEA,YAAI,OAAO,QAAQ;AACjB,cAAI,OAAO,YAAY,UAAU;AAC/B,mBAAO,UAAU,OAAO,OAAO,UAAU;AACzC,mBAAO,UAAU;AACjB,mBAAO,QAAQ,EAAE;AACjB;AAAA,UACF;AACA,mBAAS,QAAQ,YAAY,OAAO,MAAM;AAC1C,iBAAO,SAAS;AAAA,QAClB;AAIA,YAAI,IAAI,OAAO,KAAK;AACpB,YAAI,UAAU,OAAO;AACrB,YAAI,CAAC,OAAO,QAAQ;AAClB,oBAAU,QAAQ,OAAO,SAAS,EAAE;AAAA,QACtC;AACA,YAAI,UAAU;AACd,eAAO,KAAK;AACV,cAAI,QAAQ,OAAO,KAAK,CAAC;AACzB,cAAI,MAAM,SAAS,SAAS;AAE1B,uBAAW,QAAQ,sBAAsB;AAAA,UAC3C,OAAO;AACL;AAAA,UACF;AAAA,QACF;AAGA,YAAI,IAAI,GAAG;AACT,qBAAW,QAAQ,4BAA4B,OAAO,OAAO;AAC7D,iBAAO,YAAY,OAAO,OAAO,UAAU;AAC3C,iBAAO,QAAQ,EAAE;AACjB;AAAA,QACF;AACA,eAAO,UAAU;AACjB,YAAIA,KAAI,OAAO,KAAK;AACpB,eAAOA,OAAM,GAAG;AACd,cAAI,MAAM,OAAO,MAAM,OAAO,KAAK,IAAI;AACvC,iBAAO,UAAU,OAAO,IAAI;AAC5B,mBAAS,QAAQ,cAAc,OAAO,OAAO;AAE7C,cAAI,IAAI,CAAC;AACT,mBAAS,KAAK,IAAI,IAAI;AACpB,cAAE,CAAC,IAAI,IAAI,GAAG,CAAC;AAAA,UACjB;AAEA,cAAI,SAAS,OAAO,KAAK,OAAO,KAAK,SAAS,CAAC,KAAK;AACpD,cAAI,OAAO,IAAI,SAAS,IAAI,OAAO,OAAO,IAAI;AAE5C,mBAAO,KAAK,IAAI,EAAE,EAAE,QAAQ,SAAU,GAAG;AACvC,kBAAI,IAAI,IAAI,GAAG,CAAC;AAChB,uBAAS,QAAQ,oBAAoB,EAAE,QAAQ,GAAG,KAAK,EAAE,CAAC;AAAA,YAC5D,CAAC;AAAA,UACH;AAAA,QACF;AACA,YAAI,MAAM,EAAG,QAAO,aAAa;AACjC,eAAO,UAAU,OAAO,cAAc,OAAO,aAAa;AAC1D,eAAO,WAAW,SAAS;AAC3B,eAAO,QAAQ,EAAE;AAAA,MACnB;AAEA,eAAS,YAAa,QAAQ;AAC5B,YAAI,SAAS,OAAO;AACpB,YAAI,WAAW,OAAO,YAAY;AAClC,YAAI;AACJ,YAAI,SAAS;AAEb,YAAI,OAAO,SAAS,MAAM,GAAG;AAC3B,iBAAO,OAAO,SAAS,MAAM;AAAA,QAC/B;AACA,YAAI,OAAO,SAAS,QAAQ,GAAG;AAC7B,iBAAO,OAAO,SAAS,QAAQ;AAAA,QACjC;AACA,iBAAS;AACT,YAAI,OAAO,OAAO,CAAC,MAAM,KAAK;AAC5B,cAAI,OAAO,OAAO,CAAC,MAAM,KAAK;AAC5B,qBAAS,OAAO,MAAM,CAAC;AACvB,kBAAM,SAAS,QAAQ,EAAE;AACzB,qBAAS,IAAI,SAAS,EAAE;AAAA,UAC1B,OAAO;AACL,qBAAS,OAAO,MAAM,CAAC;AACvB,kBAAM,SAAS,QAAQ,EAAE;AACzB,qBAAS,IAAI,SAAS,EAAE;AAAA,UAC1B;AAAA,QACF;AACA,iBAAS,OAAO,QAAQ,OAAO,EAAE;AACjC,YAAI,MAAM,GAAG,KAAK,OAAO,YAAY,MAAM,QAAQ;AACjD,qBAAW,QAAQ,0BAA0B;AAC7C,iBAAO,MAAM,OAAO,SAAS;AAAA,QAC/B;AAEA,eAAO,OAAO,cAAc,GAAG;AAAA,MACjC;AAEA,eAAS,gBAAiB,QAAQ,GAAG;AACnC,YAAI,MAAM,KAAK;AACb,iBAAO,QAAQ,EAAE;AACjB,iBAAO,mBAAmB,OAAO;AAAA,QACnC,WAAW,CAAC,aAAa,CAAC,GAAG;AAG3B,qBAAW,QAAQ,kCAAkC;AACrD,iBAAO,WAAW;AAClB,iBAAO,QAAQ,EAAE;AAAA,QACnB;AAAA,MACF;AAEA,eAAS,OAAQ,OAAO,GAAG;AACzB,YAAI,SAAS;AACb,YAAI,IAAI,MAAM,QAAQ;AACpB,mBAAS,MAAM,OAAO,CAAC;AAAA,QACzB;AACA,eAAO;AAAA,MACT;AAEA,eAAS,MAAO,OAAO;AACrB,YAAI,SAAS;AACb,YAAI,KAAK,OAAO;AACd,gBAAM,KAAK;AAAA,QACb;AACA,YAAI,OAAO,QAAQ;AACjB,iBAAO;AAAA,YAAM;AAAA,YACX;AAAA,UAAsD;AAAA,QAC1D;AACA,YAAI,UAAU,MAAM;AAClB,iBAAO,IAAI,MAAM;AAAA,QACnB;AACA,YAAI,OAAO,UAAU,UAAU;AAC7B,kBAAQ,MAAM,SAAS;AAAA,QACzB;AACA,YAAI,IAAI;AACR,YAAI,IAAI;AACR,eAAO,MAAM;AACX,cAAI,OAAO,OAAO,GAAG;AACrB,iBAAO,IAAI;AAEX,cAAI,CAAC,GAAG;AACN;AAAA,UACF;AAEA,cAAI,OAAO,eAAe;AACxB,mBAAO;AACP,gBAAI,MAAM,MAAM;AACd,qBAAO;AACP,qBAAO,SAAS;AAAA,YAClB,OAAO;AACL,qBAAO;AAAA,YACT;AAAA,UACF;AAEA,kBAAQ,OAAO,OAAO;AAAA,YACpB,KAAK,EAAE;AACL,qBAAO,QAAQ,EAAE;AACjB,kBAAI,MAAM,UAAU;AAClB;AAAA,cACF;AACA,8BAAgB,QAAQ,CAAC;AACzB;AAAA,YAEF,KAAK,EAAE;AACL,8BAAgB,QAAQ,CAAC;AACzB;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,OAAO,WAAW,CAAC,OAAO,YAAY;AACxC,oBAAI,SAAS,IAAI;AACjB,uBAAO,KAAK,MAAM,OAAO,MAAM,KAAK;AAClC,sBAAI,OAAO,OAAO,GAAG;AACrB,sBAAI,KAAK,OAAO,eAAe;AAC7B,2BAAO;AACP,wBAAI,MAAM,MAAM;AACd,6BAAO;AACP,6BAAO,SAAS;AAAA,oBAClB,OAAO;AACL,6BAAO;AAAA,oBACT;AAAA,kBACF;AAAA,gBACF;AACA,uBAAO,YAAY,MAAM,UAAU,QAAQ,IAAI,CAAC;AAAA,cAClD;AACA,kBAAI,MAAM,OAAO,EAAE,OAAO,WAAW,OAAO,cAAc,CAAC,OAAO,SAAS;AACzE,uBAAO,QAAQ,EAAE;AACjB,uBAAO,mBAAmB,OAAO;AAAA,cACnC,OAAO;AACL,oBAAI,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,WAAW,OAAO,aAAa;AAC9D,6BAAW,QAAQ,iCAAiC;AAAA,gBACtD;AACA,oBAAI,MAAM,KAAK;AACb,yBAAO,QAAQ,EAAE;AAAA,gBACnB,OAAO;AACL,yBAAO,YAAY;AAAA,gBACrB;AAAA,cACF;AACA;AAAA,YAEF,KAAK,EAAE;AAEL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,UAAU;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,UAAU,MAAM;AACvB,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AAEL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AACjB,uBAAO,WAAW;AAAA,cACpB,WAAW,aAAa,CAAC,GAAG;AAAA,cAE5B,WAAW,QAAQ,WAAW,CAAC,GAAG;AAChC,uBAAO,QAAQ,EAAE;AACjB,uBAAO,UAAU;AAAA,cACnB,WAAW,MAAM,KAAK;AACpB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,UAAU;AAAA,cACnB,WAAW,MAAM,KAAK;AACpB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,eAAe,OAAO,eAAe;AAAA,cAC9C,OAAO;AACL,2BAAW,QAAQ,aAAa;AAEhC,oBAAI,OAAO,mBAAmB,IAAI,OAAO,UAAU;AACjD,sBAAI,MAAM,OAAO,WAAW,OAAO;AACnC,sBAAI,IAAI,MAAM,GAAG,EAAE,KAAK,GAAG,IAAI;AAAA,gBACjC;AACA,uBAAO,YAAY,MAAM;AACzB,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,mBAAK,OAAO,WAAW,GAAG,YAAY,MAAM,OAAO;AACjD,yBAAS,QAAQ,aAAa;AAC9B,uBAAO,QAAQ,EAAE;AACjB,uBAAO,WAAW;AAClB,uBAAO,QAAQ;AAAA,cACjB,WAAW,OAAO,WAAW,MAAM,MAAM;AACvC,uBAAO,QAAQ,EAAE;AACjB,uBAAO,UAAU;AACjB,uBAAO,WAAW;AAAA,cACpB,YAAY,OAAO,WAAW,GAAG,YAAY,MAAM,SAAS;AAC1D,uBAAO,QAAQ,EAAE;AACjB,oBAAI,OAAO,WAAW,OAAO,SAAS;AACpC;AAAA,oBAAW;AAAA,oBACT;AAAA,kBAA6C;AAAA,gBACjD;AACA,uBAAO,UAAU;AACjB,uBAAO,WAAW;AAAA,cACpB,WAAW,MAAM,KAAK;AACpB,yBAAS,QAAQ,qBAAqB,OAAO,QAAQ;AACrD,uBAAO,WAAW;AAClB,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,QAAQ,CAAC,GAAG;AACrB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,YAAY;AAAA,cACrB,OAAO;AACL,uBAAO,YAAY;AAAA,cACrB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,OAAO,GAAG;AAClB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,IAAI;AAAA,cACb;AACA,qBAAO,YAAY;AACnB;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AACjB,yBAAS,QAAQ,aAAa,OAAO,OAAO;AAC5C,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,uBAAO,WAAW;AAClB,oBAAI,MAAM,KAAK;AACb,yBAAO,QAAQ,EAAE;AAAA,gBACnB,WAAW,QAAQ,CAAC,GAAG;AACrB,yBAAO,QAAQ,EAAE;AACjB,yBAAO,IAAI;AAAA,gBACb;AAAA,cACF;AACA;AAAA,YAEF,KAAK,EAAE;AACL,qBAAO,WAAW;AAClB,kBAAI,MAAM,OAAO,GAAG;AAClB,uBAAO,IAAI;AACX,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,qBAAO,WAAW;AAClB,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,QAAQ,CAAC,GAAG;AACrB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,IAAI;AAAA,cACb;AACA;AAAA,YAEF,KAAK,EAAE;AACL,qBAAO,WAAW;AAClB,kBAAI,MAAM,OAAO,GAAG;AAClB,uBAAO,QAAQ,EAAE;AACjB,uBAAO,IAAI;AAAA,cACb;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,WAAW;AAAA,cACpB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AACjB,uBAAO,UAAU,SAAS,OAAO,KAAK,OAAO,OAAO;AACpD,oBAAI,OAAO,SAAS;AAClB,2BAAS,QAAQ,aAAa,OAAO,OAAO;AAAA,gBAC9C;AACA,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,uBAAO,WAAW,MAAM;AACxB,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,2BAAW,QAAQ,mBAAmB;AAGtC,uBAAO,WAAW,OAAO;AACzB,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,SAAS;AAAA,cAClB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,SAAS,MAAM;AACtB,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,oBAAI,OAAO,OAAO;AAChB,2BAAS,QAAQ,WAAW,OAAO,KAAK;AAAA,gBAC1C;AACA,yBAAS,QAAQ,cAAc;AAC/B,uBAAO,QAAQ;AACf,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,MAAM,KAAK;AACpB,uBAAO,SAAS;AAAA,cAClB,OAAO;AACL,uBAAO,SAAS,OAAO;AACvB,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,aAAa,CAAC,GAAG;AAC1B,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,gBAAgB;AAAA,cACzB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,CAAC,OAAO,gBAAgB,aAAa,CAAC,GAAG;AAC3C;AAAA,cACF,WAAW,MAAM,KAAK;AACpB,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,gBAAgB;AAAA,cACzB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,yBAAS,QAAQ,2BAA2B;AAAA,kBAC1C,MAAM,OAAO;AAAA,kBACb,MAAM,OAAO;AAAA,gBACf,CAAC;AACD,uBAAO,eAAe,OAAO,eAAe;AAC5C,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,uBAAO,gBAAgB,MAAM;AAC7B,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,QAAQ,UAAU,CAAC,GAAG;AACxB,uBAAO,WAAW;AAAA,cACpB,OAAO;AACL,uBAAO,MAAM;AACb,oBAAI,MAAM,KAAK;AACb,0BAAQ,MAAM;AAAA,gBAChB,WAAW,MAAM,KAAK;AACpB,yBAAO,QAAQ,EAAE;AAAA,gBACnB,OAAO;AACL,sBAAI,CAAC,aAAa,CAAC,GAAG;AACpB,+BAAW,QAAQ,+BAA+B;AAAA,kBACpD;AACA,yBAAO,QAAQ,EAAE;AAAA,gBACnB;AAAA,cACF;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,wBAAQ,QAAQ,IAAI;AACpB,yBAAS,MAAM;AAAA,cACjB,OAAO;AACL,2BAAW,QAAQ,gDAAgD;AACnE,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AAEL,kBAAI,aAAa,CAAC,GAAG;AACnB;AAAA,cACF,WAAW,MAAM,KAAK;AACpB,wBAAQ,MAAM;AAAA,cAChB,WAAW,MAAM,KAAK;AACpB,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,QAAQ,WAAW,CAAC,GAAG;AAChC,uBAAO,aAAa;AACpB,uBAAO,cAAc;AACrB,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,2BAAW,QAAQ,wBAAwB;AAAA,cAC7C;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,MAAM,KAAK;AACpB,2BAAW,QAAQ,yBAAyB;AAC5C,uBAAO,cAAc,OAAO;AAC5B,uBAAO,MAAM;AACb,wBAAQ,MAAM;AAAA,cAChB,WAAW,aAAa,CAAC,GAAG;AAC1B,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,QAAQ,UAAU,CAAC,GAAG;AAC/B,uBAAO,cAAc;AAAA,cACvB,OAAO;AACL,2BAAW,QAAQ,wBAAwB;AAAA,cAC7C;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,KAAK;AACb,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,aAAa,CAAC,GAAG;AAC1B;AAAA,cACF,OAAO;AACL,2BAAW,QAAQ,yBAAyB;AAC5C,uBAAO,IAAI,WAAW,OAAO,UAAU,IAAI;AAC3C,uBAAO,cAAc;AACrB,yBAAS,QAAQ,eAAe;AAAA,kBAC9B,MAAM,OAAO;AAAA,kBACb,OAAO;AAAA,gBACT,CAAC;AACD,uBAAO,aAAa;AACpB,oBAAI,MAAM,KAAK;AACb,0BAAQ,MAAM;AAAA,gBAChB,WAAW,QAAQ,WAAW,CAAC,GAAG;AAChC,yBAAO,aAAa;AACpB,yBAAO,QAAQ,EAAE;AAAA,gBACnB,OAAO;AACL,6BAAW,QAAQ,wBAAwB;AAC3C,yBAAO,QAAQ,EAAE;AAAA,gBACnB;AAAA,cACF;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,aAAa,CAAC,GAAG;AACnB;AAAA,cACF,WAAW,QAAQ,CAAC,GAAG;AACrB,uBAAO,IAAI;AACX,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,2BAAW,QAAQ,0BAA0B;AAC7C,uBAAO,QAAQ,EAAE;AACjB,uBAAO,cAAc;AAAA,cACvB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,MAAM,OAAO,GAAG;AAClB,oBAAI,MAAM,KAAK;AACb,yBAAO,QAAQ,EAAE;AAAA,gBACnB,OAAO;AACL,yBAAO,eAAe;AAAA,gBACxB;AACA;AAAA,cACF;AACA,qBAAO,MAAM;AACb,qBAAO,IAAI;AACX,qBAAO,QAAQ,EAAE;AACjB;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,aAAa,CAAC,GAAG;AACnB,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,MAAM,KAAK;AACpB,wBAAQ,MAAM;AAAA,cAChB,WAAW,MAAM,KAAK;AACpB,uBAAO,QAAQ,EAAE;AAAA,cACnB,WAAW,QAAQ,WAAW,CAAC,GAAG;AAChC,2BAAW,QAAQ,kCAAkC;AACrD,uBAAO,aAAa;AACpB,uBAAO,cAAc;AACrB,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,2BAAW,QAAQ,wBAAwB;AAAA,cAC7C;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,CAAC,YAAY,CAAC,GAAG;AACnB,oBAAI,MAAM,KAAK;AACb,yBAAO,QAAQ,EAAE;AAAA,gBACnB,OAAO;AACL,yBAAO,eAAe;AAAA,gBACxB;AACA;AAAA,cACF;AACA,qBAAO,MAAM;AACb,kBAAI,MAAM,KAAK;AACb,wBAAQ,MAAM;AAAA,cAChB,OAAO;AACL,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,CAAC,OAAO,SAAS;AACnB,oBAAI,aAAa,CAAC,GAAG;AACnB;AAAA,gBACF,WAAW,SAAS,WAAW,CAAC,GAAG;AACjC,sBAAI,OAAO,QAAQ;AACjB,2BAAO,UAAU,OAAO;AACxB,2BAAO,QAAQ,EAAE;AAAA,kBACnB,OAAO;AACL,+BAAW,QAAQ,iCAAiC;AAAA,kBACtD;AAAA,gBACF,OAAO;AACL,yBAAO,UAAU;AAAA,gBACnB;AAAA,cACF,WAAW,MAAM,KAAK;AACpB,yBAAS,MAAM;AAAA,cACjB,WAAW,QAAQ,UAAU,CAAC,GAAG;AAC/B,uBAAO,WAAW;AAAA,cACpB,WAAW,OAAO,QAAQ;AACxB,uBAAO,UAAU,OAAO,OAAO;AAC/B,uBAAO,UAAU;AACjB,uBAAO,QAAQ,EAAE;AAAA,cACnB,OAAO;AACL,oBAAI,CAAC,aAAa,CAAC,GAAG;AACpB,6BAAW,QAAQ,gCAAgC;AAAA,gBACrD;AACA,uBAAO,QAAQ,EAAE;AAAA,cACnB;AACA;AAAA,YAEF,KAAK,EAAE;AACL,kBAAI,aAAa,CAAC,GAAG;AACnB;AAAA,cACF;AACA,kBAAI,MAAM,KAAK;AACb,yBAAS,MAAM;AAAA,cACjB,OAAO;AACL,2BAAW,QAAQ,mCAAmC;AAAA,cACxD;AACA;AAAA,YAEF,KAAK,EAAE;AAAA,YACP,KAAK,EAAE;AAAA,YACP,KAAK,EAAE;AACL,kBAAI;AACJ,kBAAI;AACJ,sBAAQ,OAAO,OAAO;AAAA,gBACpB,KAAK,EAAE;AACL,gCAAc,EAAE;AAChB,2BAAS;AACT;AAAA,gBAEF,KAAK,EAAE;AACL,gCAAc,EAAE;AAChB,2BAAS;AACT;AAAA,gBAEF,KAAK,EAAE;AACL,gCAAc,EAAE;AAChB,2BAAS;AACT;AAAA,cACJ;AAEA,kBAAI,MAAM,KAAK;AACb,oBAAI,OAAO,IAAI,kBAAkB;AAC/B,sBAAI,eAAe,YAAY,MAAM;AACrC,yBAAO,SAAS;AAChB,yBAAO,QAAQ;AACf,yBAAO,MAAM,YAAY;AAAA,gBAC3B,OAAO;AACL,yBAAO,MAAM,KAAK,YAAY,MAAM;AACpC,yBAAO,SAAS;AAChB,yBAAO,QAAQ;AAAA,gBACjB;AAAA,cACF,WAAW,QAAQ,OAAO,OAAO,SAAS,aAAa,aAAa,CAAC,GAAG;AACtE,uBAAO,UAAU;AAAA,cACnB,OAAO;AACL,2BAAW,QAAQ,kCAAkC;AACrD,uBAAO,MAAM,KAAK,MAAM,OAAO,SAAS;AACxC,uBAAO,SAAS;AAChB,uBAAO,QAAQ;AAAA,cACjB;AAEA;AAAA,YAEF,SAAoC;AAClC,oBAAM,IAAI,MAAM,QAAQ,oBAAoB,OAAO,KAAK;AAAA,YAC1D;AAAA,UACF;AAAA,QACF;AAEA,YAAI,OAAO,YAAY,OAAO,qBAAqB;AACjD,4BAAkB,MAAM;AAAA,QAC1B;AACA,eAAO;AAAA,MACT;AAIA,UAAI,CAAC,OAAO,eAAe;AACzB,SAAC,WAAY;AACX,cAAI,qBAAqB,OAAO;AAChC,cAAI,QAAQ,KAAK;AACjB,cAAI,gBAAgB,WAAY;AAC9B,gBAAI,WAAW;AACf,gBAAI,YAAY,CAAC;AACjB,gBAAI;AACJ,gBAAI;AACJ,gBAAI,QAAQ;AACZ,gBAAI,SAAS,UAAU;AACvB,gBAAI,CAAC,QAAQ;AACX,qBAAO;AAAA,YACT;AACA,gBAAI,SAAS;AACb,mBAAO,EAAE,QAAQ,QAAQ;AACvB,kBAAI,YAAY,OAAO,UAAU,KAAK,CAAC;AACvC,kBACE,CAAC,SAAS,SAAS;AAAA,cACnB,YAAY;AAAA,cACZ,YAAY;AAAA,cACZ,MAAM,SAAS,MAAM,WACrB;AACA,sBAAM,WAAW,yBAAyB,SAAS;AAAA,cACrD;AACA,kBAAI,aAAa,OAAQ;AACvB,0BAAU,KAAK,SAAS;AAAA,cAC1B,OAAO;AAEL,6BAAa;AACb,iCAAiB,aAAa,MAAM;AACpC,+BAAgB,YAAY,OAAS;AACrC,0BAAU,KAAK,eAAe,YAAY;AAAA,cAC5C;AACA,kBAAI,QAAQ,MAAM,UAAU,UAAU,SAAS,UAAU;AACvD,0BAAU,mBAAmB,MAAM,MAAM,SAAS;AAClD,0BAAU,SAAS;AAAA,cACrB;AAAA,YACF;AACA,mBAAO;AAAA,UACT;AAEA,cAAI,OAAO,gBAAgB;AACzB,mBAAO,eAAe,QAAQ,iBAAiB;AAAA,cAC7C,OAAO;AAAA,cACP,cAAc;AAAA,cACd,UAAU;AAAA,YACZ,CAAC;AAAA,UACH,OAAO;AACL,mBAAO,gBAAgB;AAAA,UACzB;AAAA,QACF,GAAE;AAAA,MACJ;AAAA,IACF,GAAG,OAAO,YAAY,cAAc,QAAK,MAAM,CAAC,IAAI,OAAO;AAAA;AAAA;;;ACriD3D;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,kBAAkB,QAAQ,SAAS;AAC3C,YAAQ,SAAS,EAAE,OAAO,WAAY;AAAA,IAAE,EAAE;AAC1C,aAAS,gBAAgB,GAAG;AACxB,cAAQ,OAAO,QAAQ;AAAA,IAC3B;AACA,YAAQ,kBAAkB;AAAA;AAAA;;;ACP1B;AAAA;AAAA;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,WAAW,QAAQ,WAAW;AACtC,QAAI,QAAQ,gBAAgB,aAAc;AAC1C,QAAI,UAAU;AACd,QAAI,WAAW,SAAU,aAAa;AAClC,UAAI,SAAS,MAAM,QAAQ,OAAO,MAAM;AAAA;AAAA,QAEpC,MAAM;AAAA,QACN,WAAW;AAAA,MACf,CAAC;AACD,UAAI;AACJ,UAAI,UAAU;AACd,UAAI,iBAAiB;AACrB,aAAO,IAAI,QAAQ,SAAU,SAAS,QAAQ;AAC1C,eAAO,YAAY,SAAU,MAAM;AAC/B,cAAI,UAAU;AAAA,YACV,SAAS,WAAW;AAAA,YACpB,WAAW,CAAC;AAAA,YACZ,YAAY;AAAA,YACZ,MAAM,KAAK;AAAA,YACX,QAAQ,KAAK;AAAA,UACjB;AACA,cAAI,WAAW;AACX,oBAAQ,UAAU,KAAK,OAAO;AAAA;AAE9B,uBAAW;AACf,oBAAU;AACV,4BAAkB;AAAA,QACtB;AACA,eAAO,aAAa,WAAY;AAC5B,oBAAU,WAAW,OAAO,QAAQ,UAAU;AAAA,QAClD;AACA,eAAO,SAAS,SAAU,MAAM;AAC5B,cAAI,WAAW;AACX;AACJ,kBAAQ,UAAU,KAAK;AAAA,YACnB,SAAS;AAAA,YACT,WAAW,CAAC;AAAA,YACZ,YAAY;AAAA,YACZ,OAAO;AAAA,UACX,CAAC;AAAA,QACL;AACA,eAAO,QAAQ,WAAY;AACvB,kBAAQ,OAAO,MAAM,2BAA2B,OAAO,cAAc,CAAC;AACtE,kBAAQ,QAAQ;AAAA,QACpB;AACA,eAAO,UAAU,SAAU,KAAK;AAC5B,iBAAO,GAAG;AAAA,QACd;AACA,eAAO,MAAM,WAAW;AACxB,eAAO,IAAI;AAAA,MACf,CAAC;AAAA,IACL;AACA,YAAQ,WAAW;AACnB,aAAS,SAAS,MAAM,SAAS,QAAQ;AACrC,UAAI,WAAW,QAAQ;AAAE,iBAAS;AAAA,MAAI;AACtC,UAAI,MAAM,OAAO,SACX,KACA;AACN,UAAI,aAAa,CAAC,OAAO,KAAK,KAAK,OAAO,CAAC;AAC3C,UAAI,KAAK;AACL,mBAAW,KAAK,OAAO,KAAK,aAAa,KAAK,OAAO,OAAO,CAAC,CAAC;AAAA,WAC7D;AACD,YAAI,UAAU;AACd,YAAI,cAAc,KAAK;AACvB,eAAO,KAAK,WAAW,EAAE,QAAQ,SAAU,KAAK;AAC5C,qBAAW,IAAI,OAAO,KAAK,IAAK,EAAE,OAAO,aAAa,YAAY,GAAG,CAAC,GAAG,GAAI;AAAA,QACjF,CAAC;AACD,YAAI,eAAe,KAAK,UAAU,SAAS;AAC3C,YAAI,SAAS,eAAe,KAAK;AACjC,mBAAW,KAAK,OAAO,KAAK,KAAK,OAAO,QAAQ,GAAG,EAAE,OAAO,KAAK,IAAI,EAAE,OAAO,OAAO,EAAE,OAAO,QAAQ,GAAG,CAAC,CAAC;AAC3G,YAAI,qBAAqB;AACzB,aAAK,UAAU,QAAQ,SAAU,OAAO;AACpC,qBAAW,KAAK,SAAS,OAAO,SAAS,GAAG,OAAO,QAAQ,IAAI,CAAC,CAAC;AACjE,+BAAqB,CAAC,MAAM;AAAA,QAChC,CAAC;AACD,YAAI,cAAc;AACd,cAAI,UAAU,qBAAqB,KAAK,OAAO,MAAM,IAAI;AACzD,qBAAW,KAAK,OAAO,KAAK,GAAG,OAAO,SAAS,IAAI,EAAE,OAAO,KAAK,MAAM,GAAG,CAAC,CAAC;AAAA,QAChF;AAAA,MACJ;AACA,aAAO,OAAO,OAAO,UAAU;AAAA,IACnC;AACA,YAAQ,WAAW;AACnB,QAAI,eAAe,SAAU,KAAK,SAAS;AACvC,UAAI,MAAM;AACV,UAAI,WAAW,IAAI,MAAM,QAAQ,mBAAmB;AACpD,UAAI,WAAW;AACf,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,YAAI,mBAAmB,SAAS,CAAC;AACjC,YAAI,CAAC,UAAU;AACX,6BAAmB,iBAAiB,QAAQ,MAAM,OAAO;AACzD,6BAAmB,iBAAiB,QAAQ,MAAM,MAAM;AACxD,6BAAmB,iBAAiB,QAAQ,MAAM,MAAM;AAAA,QAC5D;AACA,eAAO;AACP,mBAAW,CAAC;AAAA,MAChB;AACA,aAAO;AAAA,IACX;AACA,QAAI,eAAe,SAAU,MAAM;AAC/B,UAAI,MAAM,OAAO,SAAS,WAAW,OAAO,KAAK;AACjD,YAAM,IAAI,QAAQ,MAAM,OAAO;AAC/B,YAAM,IAAI,QAAQ,MAAM,MAAM;AAC9B,YAAM,IAAI,QAAQ,MAAM,MAAM;AAC9B,YAAM,IAAI,QAAQ,MAAM,QAAQ;AAChC,YAAM,IAAI,QAAQ,MAAM,QAAQ;AAChC,aAAO;AAAA,IACX;AAAA;AAAA;;;AChHA;AAAA;AAAA;AACA,QAAI,YAAa,WAAQ,QAAK,aAAe,2BAAY;AACrD,UAAI,gBAAgB,SAAU,GAAG,GAAG;AAChC,wBAAgB,OAAO,kBAClB,EAAE,WAAW,CAAC,EAAE,aAAa,SAAS,SAAUC,IAAGC,IAAG;AAAE,UAAAD,GAAE,YAAYC;AAAA,QAAG,KAC1E,SAAUD,IAAGC,IAAG;AAAE,mBAAS,KAAKA,GAAG,KAAI,OAAO,UAAU,eAAe,KAAKA,IAAG,CAAC,EAAG,CAAAD,GAAE,CAAC,IAAIC,GAAE,CAAC;AAAA,QAAG;AACpG,eAAO,cAAc,GAAG,CAAC;AAAA,MAC7B;AACA,aAAO,SAAU,GAAG,GAAG;AACnB,YAAI,OAAO,MAAM,cAAc,MAAM;AACjC,gBAAM,IAAI,UAAU,yBAAyB,OAAO,CAAC,IAAI,+BAA+B;AAC5F,sBAAc,GAAG,CAAC;AAClB,iBAAS,KAAK;AAAE,eAAK,cAAc;AAAA,QAAG;AACtC,UAAE,YAAY,MAAM,OAAO,OAAO,OAAO,CAAC,KAAK,GAAG,YAAY,EAAE,WAAW,IAAI,GAAG;AAAA,MACtF;AAAA,IACJ,EAAG;AACH,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,2BAA2B,QAAQ,sCAAsC,QAAQ,qBAAqB,QAAQ,gBAAgB,QAAQ,aAAa,QAAQ,wBAAwB,QAAQ,sBAAsB,QAAQ,qBAAqB,QAAQ,2BAA2B,QAAQ,4BAA4B,QAAQ,UAAU;AAC/U,aAAS,QAAQ,KAAK;AAClB,aAAQ,eAAe,SAClB,OAAO,QAAQ,YAAY,CAAC,CAAC,OAAO,UAAU,OAAO,aAAa;AAAA,IAC3E;AACA,YAAQ,UAAU;AAIlB,QAAI;AAAA;AAAA,MAA2C,SAAU,QAAQ;AAC7D,kBAAUC,4BAA2B,MAAM;AAC3C,iBAASA,2BAA0B,SAAS;AACxC,cAAI,QAAQ,OAAO,KAAK,MAAM,qBAAqB,OAAO,SAAS,gDAAgD,CAAC,KAAK;AACzH,iBAAO,eAAe,OAAOA,2BAA0B,SAAS;AAChE,gBAAM,UAAU;AAChB,iBAAO;AAAA,QACX;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,4BAA4B;AAIpC,QAAI;AAAA;AAAA,MAA0C,SAAU,QAAQ;AAC5D,kBAAUC,2BAA0B,MAAM;AAC1C,iBAASA,0BAAyB,SAAS,QAAQ;AAC/C,cAAI,QAAQ,OAAO,KAAK,MAAM,sBAAsB,OAAO,SAAS,gBAAgB,CAAC,KAAK;AAC1F,iBAAO,eAAe,OAAOA,0BAAyB,SAAS;AAC/D,gBAAM,UAAU;AAChB,gBAAM,SAAS;AACf,iBAAO;AAAA,QACX;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,2BAA2B;AACnC,QAAI;AAAA;AAAA,MAAoC,SAAU,QAAQ;AACtD,kBAAUC,qBAAoB,MAAM;AACpC,iBAASA,oBAAmB,SAAS;AACjC,cAAI,QAAQ,OAAO,KAAK,MAAM,2BAA2B,OAAO,OAAO,CAAC,KAAK;AAC7E,iBAAO,eAAe,OAAOA,oBAAmB,SAAS;AACzD,gBAAM,UAAU;AAChB,iBAAO;AAAA,QACX;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,qBAAqB;AAC7B,QAAI;AAAA;AAAA,MAAqC,SAAU,QAAQ;AACvD,kBAAUC,sBAAqB,MAAM;AACrC,iBAASA,qBAAoB,KAAK,SAAS;AACvC,cAAI,QAAQ,OAAO,KAAK,MAAM,GAAG,OAAO,KAAK,IAAI,EAAE,OAAO,OAAO,CAAC,KAAK;AACvE,iBAAO,eAAe,OAAOA,qBAAoB,SAAS;AAC1D,gBAAM,UAAU;AAChB,iBAAO;AAAA,QACX;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,sBAAsB;AAC9B,QAAI;AAAA;AAAA,MAAuC,SAAU,QAAQ;AACzD,kBAAUC,wBAAuB,MAAM;AACvC,iBAASA,uBAAsB,KAAK,SAAS;AACzC,cAAI,QAAQ,OAAO,KAAK,MAAM,4BAA4B,OAAO,SAAS,KAAK,EAAE,OAAO,IAAI,MAAM,IAAI,EAAE,OAAO,IAAI,OAAO,CAAC,KAAK;AAChI,iBAAO,eAAe,OAAOA,uBAAsB,SAAS;AAC5D,gBAAM,UAAU;AAChB,gBAAM,MAAM;AACZ,iBAAO;AAAA,QACX;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,wBAAwB;AAChC,QAAI;AAAA;AAAA,MAA4B,SAAU,QAAQ;AAC9C,kBAAUC,aAAY,MAAM;AAC5B,iBAASA,cAAa;AAClB,iBAAO,WAAW,QAAQ,OAAO,MAAM,MAAM,SAAS,KAAK;AAAA,QAC/D;AACA,eAAOA;AAAA,MACX,EAAE,qBAAqB;AAAA;AACvB,YAAQ,aAAa;AACrB,QAAI;AAAA;AAAA,MAA+B,SAAU,QAAQ;AACjD,kBAAUC,gBAAe,MAAM;AAC/B,iBAASA,eAAc,KAAK;AACxB,iBAAO,OAAO,KAAK,MAAM,mBAAmB,OAAO,GAAG,CAAC,KAAK;AAAA,QAChE;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,gBAAgB;AACxB,QAAI;AAAA;AAAA,MAAoC,SAAU,QAAQ;AACtD,kBAAUC,qBAAoB,MAAM;AACpC,iBAASA,sBAAqB;AAC1B,iBAAO,WAAW,QAAQ,OAAO,MAAM,MAAM,SAAS,KAAK;AAAA,QAC/D;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,qBAAqB;AAC7B,QAAI;AAAA;AAAA,MAAqD,SAAU,QAAQ;AACvE,kBAAUC,sCAAqC,MAAM;AACrD,iBAASA,uCAAsC;AAC3C,iBAAO,OAAO,KAAK,MAAM,iGAAiG,KAAK;AAAA,QACnI;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,sCAAsC;AAC9C,QAAI;AAAA;AAAA,MAA0C,SAAU,QAAQ;AAC5D,kBAAUC,2BAA0B,MAAM;AAC1C,iBAASA,0BAAyB,MAAM;AACpC,iBAAO,OAAO,KAAK,MAAM,+BAA+B,OAAO,KAAK,SAAS,kEAAkE,CAAC,KAAK;AAAA,QACzJ;AACA,eAAOA;AAAA,MACX,EAAE,KAAK;AAAA;AACP,YAAQ,2BAA2B;AAAA;AAAA;;;AC7HnC;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,UAAU,QAAQ,kBAAkB,QAAQ,aAAa,QAAQ,WAAW,QAAQ,cAAc,QAAQ,iBAAiB,QAAQ,yBAAyB,QAAQ,iBAAiB,QAAQ,2BAA2B;AAChO,QAAI,WAAW;AACf,QAAI,UAAU;AAId,QAAI,2BAA2B,SAAU,MAAM;AAC3C,UAAI,KAAK,YAAY;AACjB,eAAO;AAAA,UACH,WAAW,CAAC;AAAA,UACZ,YAAY;AAAA,UACZ,OAAO,KAAK;AAAA,QAChB;AAAA,MACJ;AACA,aAAO;AAAA,QACH,WAAW,CAAC;AAAA,QACZ,YAAY;AAAA,QACZ,MAAM,KAAK;AAAA,QACX,QAAQ,KAAK;AAAA,MACjB;AAAA,IACJ;AACA,YAAQ,2BAA2B;AACnC,QAAI,iBAAiB,SAAU,MAAM;AACjC,UAAI,SAAS,KAAK;AAClB,UAAI,UAAU;AACV,eAAO;AACX,UAAI,WAAW,OAAO;AACtB,UAAI,MAAM,SAAS,QAAQ,IAAI;AAC/B,UAAI,MAAM,KAAK,OAAO,SAAS,SAAS;AACpC,eAAO;AACX,aAAO,SAAS,MAAM,CAAC;AAAA,IAC3B;AACA,YAAQ,iBAAiB;AACzB,QAAI,yBAAyB,SAAU,UAAU;AAC7C,UAAI,QAAQ,SAAS;AACrB,UAAI,EAAE,SAAS,CAAC,MAAM,cAAc,MAAM,SAAS,QAAQ;AACvD,cAAM,IAAI,SAAS,mBAAmB,iDAAiD;AAAA,MAC3F;AACA,UAAI,cAAc,MAAM;AACxB,UAAI,eAAe;AACf,cAAM,IAAI,SAAS,mBAAmB,+CAA+C;AACzF,UAAI,MAAM,YAAY,UAAU,QAAQ,KAAK;AAC7C,UAAI,MAAM;AACN,cAAM,IAAI,SAAS,mBAAmB,uBAAuB;AACjE,UAAI,WAAW,yBAAyB,KAAK;AAC7C,eAAS,UAAU;AACnB,UAAIC,eAAc;AAAA,QACd,SAAS;AAAA,QACT,WAAW,CAAC;AAAA,QACZ,YAAY;AAAA,QACZ,OAAO;AAAA,MACX;AACA,eAAS,YAAY,CAACA,YAAW;AACjC,kBAAY,UAAU,OAAO,MAAM,GAAG,GAAG,QAAQ;AACjD,aAAOA;AAAA,IACX;AACA,YAAQ,yBAAyB;AACjC,QAAI,iBAAiB,SAAU,KAAK,OAAO,UAAU;AACjD,UAAI,UAAU,QAAQ;AAAE,gBAAQ,CAAC;AAAA,MAAG;AACpC,UAAI,aAAa,QAAQ;AAAE,mBAAW,CAAC;AAAA,MAAG;AAC1C,UAAI,OAAO;AAAA,QACP,YAAY;AAAA,QACZ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,WAAW;AAAA,MACf;AACA,WAAK,UAAU,QAAQ,SAAU,OAAO;AACpC,cAAM,UAAU;AAAA,MACpB,CAAC;AACD,aAAO;AAAA,IACX;AACA,YAAQ,iBAAiB;AACzB,QAAI,cAAc,SAAU,MAAM;AAC9B,UAAI,OAAO,EAAE,WAAW,CAAC,GAAG,YAAY,MAAM,OAAO,KAAK;AAC1D,aAAO;AAAA,IACX;AACA,YAAQ,cAAc;AACtB,QAAI,WAAW,SAAU,QAAQ,OAAO;AACpC,aAAO,UAAU,KAAK,KAAK;AAC3B,YAAM,UAAU;AAChB,aAAO;AAAA,IACX;AACA,YAAQ,WAAW;AAInB,QAAI,aAAa,SAAU,KAAK;AAC5B,UAAI,CAAC,IAAI,MAAM;AACX,eAAO;AACX,aAAO,IAAI,MAAM,IAAI,MAAM,SAAS,CAAC;AAAA,IACzC;AACA,YAAQ,aAAa;AACrB,QAAI,kBAAkB,SAAU,KAAK;AACjC,UAAI,UAAU,WAAW,GAAG;AAC5B,aAAO,WAAW,QAAQ,QAAQ,MAAM;AAAA,IAC5C;AACA,YAAQ,kBAAkB;AAC1B,QAAI,UAAU,SAAU,OAAO;AAC3B,UAAI,CAAC,MAAM;AACP;AACJ,UAAI,QAAQ,MAAM,SAAS;AAC3B,UAAI,KAAK,MAAM,KAAK,GAAG,UAAU,GAAG,SAAS,MAAM,GAAG,KAAK,WAAW,GAAG,UAAU,OAAO,GAAG;AAC7F,UAAI,SAAS,OAAO,IAAI,MAAM,IAAI;AAClC,cAAQ,OAAO,MAAM,GAAG,OAAO,OAAO,OAAO,OAAO,QAAQ,IACxD,MAAM,OAAO,OAAO,GAAG,EAAE,OAAO,OAAO,IACvC,GAAG,OAAO,QAAQ,GAAG,EAAE,OAAO,SAAS,MAAM,CAAC;AAAA,IACtD;AACA,YAAQ,UAAU;AAAA;AAAA;;;AC7GlB;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,QAAI,gBAAgB;AAIpB,QAAI,qBAAqB,SAAU,UAAU,WAAW;AACpD,UAAI,OAAO;AACX,UAAI,OAAO;AACX,UAAI,WAAW;AACf,UAAI,eAAe;AACnB,UAAI,iBAAiB,GAAG,OAAO,UAAU,CAAC,GAAG,UAAU,EAAE,OAAO,UAAU,CAAC,CAAC;AAC5E,aAAO,QAAQ,MAAM;AAEjB,YAAI,CAAC,KAAK,cAAc,KAAK,SAAS,OAAO;AACzC,eAAK,OAAO,WAAW,IAAI;AAAA,QAC/B;AAEA,YAAI,CAAC,KAAK,cAAc,KAAK,SAAS,SAAS,UAAU;AACrD,mBAAS,SAAS;AAAA,QACtB;AAEA,YAAI,KAAK,cACL,KAAK,WACL,CAAC,KAAK,QAAQ,cACd,KAAK,QAAQ,SAAS,OAAO;AAC7B,cAAI,YAAY;AACZ,uBAAW;AACf,cAAI,SAAS,KAAK;AAClB,eAAK,QAAQ;AACb,mBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACpC,gBAAI,IAAI,OAAO,CAAC;AAEhB,gBAAI,mBAAmB,OAAO,UAAU,CAAC,IAAI,UAAU,CAAC;AAExD,gBAAI,MAAM,iBAAiB,YAAY,GAAG;AACtC,8BAAgB;AAIhB,kBAAI,iBAAiB,iBAAiB,QAAQ;AAC1C,uBAAO,CAAC;AACR,oBAAI,cAAc,SAAS;AAC3B,oBAAI,QAAQ,SAAS,MAAM,QAAQ;AAC/B,8BAAY,GAAG,cAAc,wBAAwB,QAAQ;AAC7D,sBAAI;AACA,2BAAO;AAAA,gBACf;AACA,yBAAS,SAAS;AAClB,oBAAI,CAAC,QAAQ,IAAI,OAAO,SAAS,GAAG;AAChC,8BAAY,GAAG,cAAc,wBAAwB,QAAQ;AAC7D,sBAAI;AACA,2BAAO;AAAA,gBACf;AACA,+BAAe;AACf,oBAAI,CAAC;AACD,6BAAW;AAAA,cACnB;AAAA,YAEJ,WACS,cAAc;AACnB,uBAAS,SAAS,iBAAiB,MAAM,GAAG,YAAY;AACxD,6BAAe;AACf,kBAAI,CAAC;AACD,2BAAW;AACf,uBAAS,SAAS;AAAA,YAEtB,OACK;AACD,uBAAS,SAAS;AAAA,YACtB;AAAA,UACJ;AAEA,cAAI,CAAC,QAAQ,CAAC;AACV,uBAAW;AAGf,cAAI,OAAO,UAAU,CAAC,KAAK,MAAM;AAC7B,iBAAK,QAAQ;AAAA,QACrB;AAEA,YAAI,KAAK,UAAU;AACf,iBAAO,KAAK,UAAU,CAAC;AAAA,aACtB;AACD,cAAI,SAAS;AACb,iBAAO,KAAK,WAAW,MAAM;AACzB,gBAAI,aAAa,KAAK;AACtB,gBAAI,eAAe,GAAG,cAAc,gBAAgB,IAAI;AACxD,gBAAI,aAAa;AACb,uBAAS;AACT,qBAAO;AACP;AAAA,YACJ;AACA,mBAAO;AAAA,UACX;AACA,cAAI,CAAC;AACD,mBAAO;AAAA,QACf;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAIA,YAAQ,UAAU;AAAA;AAAA;;;ACxGlB;AAAA;AAAA,WAAO,UAAU,OAAO,OAAO,IAAI,MAAM,CAAC,GAAG;AAAA,MAC3C,IAAI,GAAG,KAAK;AACV,YACE,QAAQ,gBACR,QAAQ,eACR,QAAQ,iBACR,QAAQ,UACR;AACA,kBAAQ,KAAK,kFAAkF,GAAG,mIAAmI;AAAA,QACvO;AAAA,MACF;AAAA,IACF,CAAC,CAAC;AAAA;AAAA;;;ACXF;AAAA;AAAA;AACA,QAAI,WAAY,WAAQ,QAAK,YAAa,WAAY;AAClD,iBAAW,OAAO,UAAU,SAAS,GAAG;AACpC,iBAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,cAAI,UAAU,CAAC;AACf,mBAAS,KAAK,EAAG,KAAI,OAAO,UAAU,eAAe,KAAK,GAAG,CAAC;AAC1D,cAAE,CAAC,IAAI,EAAE,CAAC;AAAA,QAClB;AACA,eAAO;AAAA,MACX;AACA,aAAO,SAAS,MAAM,MAAM,SAAS;AAAA,IACzC;AACA,QAAI,YAAa,WAAQ,QAAK,aAAc,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,eAAS,MAAM,OAAO;AAAE,eAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,kBAAQ,KAAK;AAAA,QAAG,CAAC;AAAA,MAAG;AAC3G,aAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,iBAAS,UAAU,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,KAAK,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC1F,iBAAS,SAAS,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC7F,iBAAS,KAAK,QAAQ;AAAE,iBAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,QAAG;AAC7G,cAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,MACxE,CAAC;AAAA,IACL;AACA,QAAI,cAAe,WAAQ,QAAK,eAAgB,SAAU,SAAS,MAAM;AACrE,UAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,YAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,eAAO,EAAE,CAAC;AAAA,MAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,aAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,eAAO;AAAA,MAAM,IAAI;AACvJ,eAAS,KAAK,GAAG;AAAE,eAAO,SAAU,GAAG;AAAE,iBAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,QAAG;AAAA,MAAG;AACjE,eAAS,KAAK,IAAI;AACd,YAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,eAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,cAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,cAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,kBAAQ,GAAG,CAAC,GAAG;AAAA,YACX,KAAK;AAAA,YAAG,KAAK;AAAG,kBAAI;AAAI;AAAA,YACxB,KAAK;AAAG,gBAAE;AAAS,qBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,YACtD,KAAK;AAAG,gBAAE;AAAS,kBAAI,GAAG,CAAC;AAAG,mBAAK,CAAC,CAAC;AAAG;AAAA,YACxC,KAAK;AAAG,mBAAK,EAAE,IAAI,IAAI;AAAG,gBAAE,KAAK,IAAI;AAAG;AAAA,YACxC;AACI,kBAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,oBAAI;AAAG;AAAA,cAAU;AAC3G,kBAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,kBAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,cAAO;AACrF,kBAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,oBAAI;AAAI;AAAA,cAAO;AACpE,kBAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,kBAAE,IAAI,KAAK,EAAE;AAAG;AAAA,cAAO;AAClE,kBAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,gBAAE,KAAK,IAAI;AAAG;AAAA,UACtB;AACA,eAAK,KAAK,KAAK,SAAS,CAAC;AAAA,QAC7B,SAAS,GAAG;AAAE,eAAK,CAAC,GAAG,CAAC;AAAG,cAAI;AAAA,QAAG,UAAE;AAAU,cAAI,IAAI;AAAA,QAAG;AACzD,YAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,eAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,MACnF;AAAA,IACJ;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,qBAAqB;AAC7B,QAAI,OAAO,gBAAgB,YAAa;AACxC,QAAI,gBAAgB;AACpB,QAAI,WAAW;AACf,QAAI,UAAU;AAMd,aAAS,mBAAmB,MAAM,MAAM,KAAK;AACzC,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,SAAS,SAAS,SAAS,QAAQ,MAAM,SAAS,QAAQ,OAAO,GAAG;AACxE,YAAI;AACJ,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,wBAAU,SAAS,SAAS,SAAS,SAAS,CAAC,GAAI,IAAI,aAAa,CAAC,CAAE,GAAG,EAAE,UAAU,MAAM,YAAY,OAAU,CAAC,GAAG,IAAI,GAAG,IAAI,QAAQ,mBAAmB;AAC5J,yBAAW,GAAG,cAAc,YAAY,GAAG;AAC3C,kBAAI;AACA,wBAAQ,OAAO,QAAQ;AAC3B,qBAAO,KAAK,IAAI,IAAI,EAAE,QAAQ,SAAU,SAAS;AAC7C,wBAAQ,IAAI,OAAO,OAAO,CAAC,IAAI,IAAI,KAAK,OAAO;AAAA,cACnD,CAAC;AACD,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,iBAAG,KAAK,KAAK,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC;AACzB,kBAAI,CAAC,IAAI,QAAQ,MAAO,QAAO,CAAC,GAAa,CAAC;AAC9C,qBAAO,IAAI,QAAQ,MAAM,EAAE,SAAkB,IAAS,CAAC;AACvD,wBAAU,KAAK;AACf,qBAAO,CAAC,GAAa,KAAK,MAAM;AAAA,YACpC,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,kBAAI,CAAC,IAAI,QAAQ,UAAW,QAAO,CAAC,GAAa,CAAC;AAClD,wBAAU;AACV,wBAAU,IAAI,SAAS,uCAAuC;AAC9D,qBAAO,CAAC,GAAa,QAAQ,KAAK,OAAO,CAAC;AAAA,YAC9C,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,uBAAS,IAAI,KAAK,QAAQ,QAAQ,KAAK,QAAQ,cAAc,QAAQ,OAAO,SAAS,KAAK,EAAE;AAC5F,wBAAU,KAAK,QAAQ,cAAc,OAAO;AAC5C,qBAAO,CAAC,GAAa,OAAO,aAAa,OAAO,CAAC;AAAA,YACrD,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAG,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC/B,KAAK;AACD,sBAAQ,GAAG,KAAK;AAChB,mBAAK,GAAG,SAAS,SAAS,KAAK,IAAI,QAAQ,IAAI,MAAM,GAAG,OAAO,KAAK,CAAC;AACrE,kBAAI,EAAE,IAAI,QAAQ,gBAAgB,MAAO,QAAO,CAAC,GAAa,EAAE;AAChE,wBAAU;AACV,qBAAO,CAAC,GAAa,IAAI,QAAQ,aAAa,GAAG,IAAI,CAAC;AAAA,YAC1D,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AAAI,oBAAM,IAAI,SAAS,sBAAsB,GAAG,IAAI;AAAA,YACzD,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AACD,kBAAI,EAAE,IAAI,QAAQ,iBAAiB,UAAU,MAAO,QAAO,CAAC,GAAa,EAAE;AAC3E,qBAAO,IAAI,SAAS,0BAA0B,IAAI;AAClD,kBAAI,EAAE,IAAI,QAAQ,gBAAgB,MAAO,QAAO,CAAC,GAAa,EAAE;AAChE,qBAAO,CAAC,GAAa,IAAI,QAAQ,aAAa,MAAM,IAAI,CAAC;AAAA,YAC7D,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AAAI,oBAAM;AAAA,YACf,KAAK;AAED,kBAAI,YAAY,SAAS,SAAS,CAAC,GAAG,OAAO,GAAG,EAAE,UAAU,QAAW,YAAY,OAAU,CAAC;AAC9F,sBAAQ,OAAO,MAAM,sBAAsB,MAAM;AACjD,qBAAO,CAAC,GAAc,MAAM;AAAA,UACpC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,qBAAqB;AAAA;AAAA;;;ACnI7B;AAAA;AAAA;AAGA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,oBAAoB,QAAQ,kBAAkB;AACtD,YAAQ,kBAAkB;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AACA,YAAQ,oBAAoB;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA;AAAA;;;ACzBA;AAAA;AAAA;AACA,QAAI,WAAY,WAAQ,QAAK,YAAa,WAAY;AAClD,iBAAW,OAAO,UAAU,SAAS,GAAG;AACpC,iBAAS,GAAG,IAAI,GAAG,IAAI,UAAU,QAAQ,IAAI,GAAG,KAAK;AACjD,cAAI,UAAU,CAAC;AACf,mBAAS,KAAK,EAAG,KAAI,OAAO,UAAU,eAAe,KAAK,GAAG,CAAC;AAC1D,cAAE,CAAC,IAAI,EAAE,CAAC;AAAA,QAClB;AACA,eAAO;AAAA,MACX;AACA,aAAO,SAAS,MAAM,MAAM,SAAS;AAAA,IACzC;AACA,QAAI,YAAa,WAAQ,QAAK,aAAc,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,eAAS,MAAM,OAAO;AAAE,eAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,kBAAQ,KAAK;AAAA,QAAG,CAAC;AAAA,MAAG;AAC3G,aAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,iBAAS,UAAU,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,KAAK,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC1F,iBAAS,SAAS,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC7F,iBAAS,KAAK,QAAQ;AAAE,iBAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,QAAG;AAC7G,cAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,MACxE,CAAC;AAAA,IACL;AACA,QAAI,cAAe,WAAQ,QAAK,eAAgB,SAAU,SAAS,MAAM;AACrE,UAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,YAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,eAAO,EAAE,CAAC;AAAA,MAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,aAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,eAAO;AAAA,MAAM,IAAI;AACvJ,eAAS,KAAK,GAAG;AAAE,eAAO,SAAU,GAAG;AAAE,iBAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,QAAG;AAAA,MAAG;AACjE,eAAS,KAAK,IAAI;AACd,YAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,eAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,cAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,cAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,kBAAQ,GAAG,CAAC,GAAG;AAAA,YACX,KAAK;AAAA,YAAG,KAAK;AAAG,kBAAI;AAAI;AAAA,YACxB,KAAK;AAAG,gBAAE;AAAS,qBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,YACtD,KAAK;AAAG,gBAAE;AAAS,kBAAI,GAAG,CAAC;AAAG,mBAAK,CAAC,CAAC;AAAG;AAAA,YACxC,KAAK;AAAG,mBAAK,EAAE,IAAI,IAAI;AAAG,gBAAE,KAAK,IAAI;AAAG;AAAA,YACxC;AACI,kBAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,oBAAI;AAAG;AAAA,cAAU;AAC3G,kBAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,kBAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,cAAO;AACrF,kBAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,oBAAI;AAAI;AAAA,cAAO;AACpE,kBAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,kBAAE,IAAI,KAAK,EAAE;AAAG;AAAA,cAAO;AAClE,kBAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,gBAAE,KAAK,IAAI;AAAG;AAAA,UACtB;AACA,eAAK,KAAK,KAAK,SAAS,CAAC;AAAA,QAC7B,SAAS,GAAG;AAAE,eAAK,CAAC,GAAG,CAAC;AAAG,cAAI;AAAA,QAAG,UAAE;AAAU,cAAI,IAAI;AAAA,QAAG;AACzD,YAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,eAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,MACnF;AAAA,IACJ;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,eAAe,QAAQ,aAAa,QAAQ,eAAe,QAAQ,mBAAmB,QAAQ,kBAAkB,QAAQ,eAAe,QAAQ,aAAa;AACpK,QAAI,gBAAgB;AACpB,QAAI,cAAc;AAClB,QAAI,UAAU;AACd,QAAI,WAAW;AACf,QAAI,UAAU;AACd,aAAS,WAAW,SAAS,0BAA0B;AACnD,UAAI,6BAA6B,QAAQ;AAAE,mCAA2B;AAAA,MAAG;AACzE,aAAO;AAAA,QACH,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,OAAO;AAAA,QACP,MAAM;AAAA,QACN,KAAK;AAAA,QACL,YAAY;AAAA,QACZ,SAAS;AAAA,UACL,OAAO,EAAE,MAAM,IAAI,MAAM,IAAI,eAAe,MAAM;AAAA,UAClD,QAAQ,EAAE,MAAM,IAAI,MAAM,IAAI,eAAe,MAAM;AAAA,UACnD,QAAQ,EAAE,MAAM,IAAI,MAAM,IAAI,eAAe,MAAM;AAAA,QACvD;AAAA,QACA;AAAA,QACA,QAAQ,CAAC;AAAA,QACT,QAAQ;AAAA,QACR,OAAO,CAAC;AAAA,QACR,QAAQ;AAAA,QACR,OAAO,CAAC;AAAA,QACR,MAAM,CAAC;AAAA,QACP,OAAO,CAAC;AAAA,QACR,OAAO;AAAA,QACP,YAAY,CAAC;AAAA,QACb;AAAA;AAAA,QAEA,aAAa,oBAAI,IAAI;AAAA,QACrB,cAAc,oBAAI,IAAI;AAAA,MAC1B;AAAA,IACJ;AACA,YAAQ,aAAa;AAErB,aAAS,aAAa,UAAU,SAAS;AACrC,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,KAAK,QAAQ,QAAQ,UAAU,aAAa;AAChD,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,oBAAM,WAAW,OAAO;AAExB,kBAAI,aAAa;AACjB,uBAAS;AACT,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,MAAO,QAAO,CAAC,GAAa,CAAC;AAEjC,kBAAI,OAAO,UAAU;AACjB,yBAAS,OAAO,UAAU,CAAC;AAAA,mBAC1B;AACD,yBAAS;AACT,uBAAO,OAAO,WAAW,MAAM;AAC3B,6BAAW,OAAO;AAClB,iCAAe,GAAG,cAAc,gBAAgB,MAAM;AACtD,sBAAI,aAAa;AACb,6BAAS;AACT,6BAAS;AACT;AAAA,kBACJ;AACA,2BAAS;AAAA,gBACb;AACA,oBAAI,CAAC;AACD,yBAAO,CAAC,GAAa,CAAC;AAAA,cAC9B;AACA,kBAAI,CAAC;AACD,uBAAO,CAAC,GAAa,CAAC;AAC1B,yBAAW,OAAO;AAClB,kBAAI,EAAE,OAAO,cACT,YACA,CAAC,SAAS,cACV,SAAS,SAAS,OAAQ,QAAO,CAAC,GAAa,CAAC;AACpD,qBAAO,CAAC,GAAa,YAAY,MAAM,QAAQ,KAAK,UAAU,CAAC;AAAA,YACnE,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,IAAI,SAAS;AACb,uBAAO,CAAC,GAAa,CAAC;AAC1B,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AAAG,qBAAO,CAAC,GAAc,IAAI,KAAK;AAAA,UAC3C;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,eAAe;AACvB,aAAS,gBAAgB,MAAM,UAAU,KAAK;AAC1C,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,iBAAO,CAAC,GAAc,aAAa,MAAM,UAAU,KAAK,UAAU,CAAC;AAAA,QACvE,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,kBAAkB;AAC1B,aAAS,iBAAiB,SAAS;AAC/B,UAAI,UAAU,CAAC;AACf,UAAI,SAAS,SAAU,GAAG;AACtB,iBAAS,KAAK,GAAG,KAAK,EAAE,WAAW,KAAK,GAAG,QAAQ,MAAM;AACrD,cAAI,IAAI,GAAG,EAAE;AACb,cAAI,MAAM,EAAE,aAAa,OAAO,EAAE;AAClC,cAAI,OAAO;AACP;AACJ,cAAI,QAAQ,YAAY;AACpB,gBAAI,EAAE;AACF;AACJ,gBAAI,MAAM,EAAE,OAAO;AACnB,gBAAI,OAAO,QAAQ;AACf;AACJ,gBAAI,KAAK,OAAO,SAAS,KAAK,EAAE;AAChC,gBAAI,OAAO,cAAc,EAAE;AACvB,sBAAQ,KAAK,EAAE;AAAA,UACvB;AACA,cAAI,EAAE,UAAU,SAAS;AACrB,mBAAO,CAAC;AAAA,QAChB;AAAA,MACJ;AACA,aAAO,OAAO;AACd,UAAI,QAAQ,SAAS;AACjB,eAAO,KAAK,IAAI,MAAM,MAAM,OAAO;AACvC,aAAO;AAAA,IACX;AACA,YAAQ,mBAAmB;AAC3B,QAAI,iBAAiB,SAAU,MAAM;AACjC,aAAO,KAAK,UAAU,KAAK,aACrB;AAAA,QACE,SAAS,KAAK;AAAA,QACd,YAAY,KAAK;AAAA,QACjB,OAAO,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AAAA,MAC5D,IACE;AAAA,QACE,SAAS,KAAK;AAAA,QACd,YAAY,KAAK;AAAA,QACjB,MAAM,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AAAA,QACvD,QAAQ,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK;AAAA,MAC7D,CAAC;AAAA,IACT;AACA,QAAI,sBAAsB,SAAU,MAAM;AACtC,UAAI,aAAa,KAAK;AACtB,UAAI,aAAa;AACjB,aAAO,cAAc,QAAQ,cAAc,MAAM;AAC7C,YAAI,gBAAgB,WAAW,aAAa,OAAO,WAAW;AAC9D,YAAI,kBAAkB,OAAO;AAEzB,cAAI,kBAAkB,WAAW,WAAW,OAAO,WAAW,QAAQ,UAAU;AAChF,cAAI,mBAAmB,QACnB,CAAC,gBAAgB,cACjB,gBAAgB,SAAS,QAAQ;AACjC,yBAAa;AAAA,UACjB,OACK;AACD,yBAAa;AAAA,UACjB;AAAA,QACJ;AACA,qBAAa,WAAW;AAAA,MAC5B;AACA,aAAO;AAAA,IACX;AACA,aAAS,aAAa,MAAM,UAAU,KAAK,WAAW;AAClD,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,KAAK,QAAQ,SAAS,MAAM,WAAW,QAAQ,WAAW,qBAAqB,SAAS,aAAa,UAAU,KAAK,aAAa,SAAS,eAAe,SAAS,cAAc,UAAU,UAAU,UAAU,UAAU,UAAU,KAAK,SAAS,YAAY,UAAU,QAAQ,KAAK,gBAAgB;AACvS,YAAI;AACJ,YAAI;AACJ,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,qBAAO,GAAG,cAAc,0BAA0B,QAAQ;AAC1D,uBAAS;AACT,wBAAU;AACV,0BAAY;AACZ,uBAAS,CAAC;AACV,0BAAY;AACZ,sCAAwB,KAAK,IAAI,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,wBAAwB;AAC1G,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,MAAO,QAAO,CAAC,GAAa,CAAC;AACjC,yBAAW,GAAG,cAAc,YAAY,GAAG;AAC3C,4BAAc;AAId,kBAAI,IAAI,OAAO;AACX,oBAAI,CAAC;AACD,wBAAM,IAAI,SAAS,cAAc,+BAA+B;AAEpE,wBAAQ,OAAO,MAAM,oBAAoB,OAAO,QAAQ,cAAc,KAAK,GAAG,eAAe,QAAQ,OAAO,CAAC;AAC7G,4BAAY,IAAI,QAAQ,QAAQ;AAChC,yBAAS,QAAQ;AACjB,oBAAI,QAAQ,QAAQ;AACpB,oBAAI,QAAQ;AACZ,uBAAO;AAAA,cAEX,WACS,OAAO,UAAU,UAAU,SAAS,MAAM;AAC/C,yBAAS,OAAO,UAAU,CAAC;AAC3B,oBAAI,SAAS;AACb,uBAAO;AAAA,cAEX,WACU,eAAe,GAAG,cAAc,gBAAgB,MAAM,GAAI;AAChE,yBAAS;AACT,uBAAO;AAAA,cAEX,OACK;AACD,2BAAW,OAAO;AAClB,oBAAI,YAAY,MAAM;AAClB,0BAAQ,OAAO,MAAM,sCAAsC,OAAO,WAAW,WAAW,CAAC;AACzF,yBAAO,CAAC,GAAa,CAAC;AAAA,gBAC1B,WACS,YAAY,qBAAqB;AAEtC,0BAAQ,OAAO,MAAM,sCAAsC,OAAO,WAAW,qCAAqC,GAAG,eAAe,QAAQ,CAAC;AAC7I,wBAAM,IAAI,SAAS,cAAc,wEAAwE;AAAA,gBAC7G;AACA,yBAAS;AACT,oBAAI,SAAS;AACb,uBAAO;AAAA,cACX;AACA,sBAAQ,OAAO,MAAM,cAAc,OAAO,MAAM,UAAU,EAAE,OAAO,IAAI,OAAO,GAAG,GAAG,eAAe,MAAM,CAAC;AAM1G,kBAAI,SAAS,QAAQ;AACjB,sBAAM,QAAQ,aAAa,OAAO,QAAQ;AAC1C,8BAAc;AAEd,qBAAK,QAAQ,SACT,QAAQ,WACR,QAAQ,UACR,QAAQ,YACP,GAAG,cAAc,iBAAiB,GAAG,GAAG;AACzC,gCAAc;AAAA,gBAGlB,WACS,QAAQ,SAAS,QAAQ,UAAU,QAAQ,QAAQ;AACxD,4BAAU,IAAI,QAAQ,GAAG;AACzB,gCACI,QAAQ,SAAS,MAAM,QAAQ,SAAS,MAAM,CAAC,QAAQ;AAG3D,sBAAI,QAAQ,UAAU,aAAa;AAC/B,kCACI,OAAO,UAAU,OAAO,SAAU,OAAO;AAAE,6BAAO,CAAC,MAAM,cAAc,MAAM,SAAS;AAAA,oBAAQ,CAAC,EAAE,WAAW;AAAA,kBACpH;AAGA,sBAAI,QAAQ,UAAU,aAAa;AAC/B,kCAAc,EAAE,QAAQ,UAAU,OAAO,SAAU,OAAO;AAAE,6BAAO,CAAC,MAAM,cAAc,MAAM,SAAS;AAAA,oBAAS,CAAC,EAAE,SAAS;AAAA,kBAChI;AAAA,gBACJ;AAGA,oBAAI,eAAe,QAAQ,WAAW,MAAM;AACxC,0BAAQ,QAAQ,UAAU,IAAI;AAAA,gBAClC;AAAA,cACJ;AAGA,kBAAI,SAAS,MAAM;AAEf,qBAAK,GAAG,cAAc,iBAAiB,GAAG,KACtC,WACA,WAAW,QAAQ,QAAQ,SAAS;AACpC,0BAAQ,UAAU;AAClB,0BAAQ,gBAAgB;AACxB,0BAAQ,OAAO,MAAM,iBAAiB,OAAO,QAAQ,SAAS,aAAa,IAAI,eAAe,MAAM,CAAC;AAAA,gBACzG;AACA,gCAAgB,QAAQ;AACxB,oBAAI,iBAAiB;AACjB,wBAAM,IAAI,SAAS,cAAc,qBAAqB;AAE1D,0BAAU;AAGV,oBAAI,IAAI,oBACJ,CAAC,QAAQ,cACT,QAAQ,SAAS,OAAO;AACxB,4BAAU,IAAI,iBAAiB;AAC/B,iCAAe,IAAI,iBAAiB;AACpC,6BAAW,QAAQ;AACnB,sBAAI,UAAU;AACV,4BAAQ,UAAU;AAClB,6BAAS,UAAU,IAAI;AACvB,6BAAS,UAAU,KAAK,OAAO;AAC/B,wBAAI,cAAc;AACd,uBAAC,KAAK,SAAS,WAAW,KAAK,MAAM,IAAI,YAAY;AAAA,oBACzD;AAEA,wBAAI,QAAQ,KAAK,EAAE,gBAAgB;AACnC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AACpC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AAAA,kBACxC;AACA,yBAAO,IAAI;AAAA,gBACf;AAGA,oBAAI,IAAI,mBACJ,CAAC,QAAQ,cACT,QAAQ,SAAS,OAAO;AACxB,6BAAW,IAAI;AACf,6BAAW,QAAQ;AACnB,sBAAI,UAAU;AACV,6BAAS,UAAU;AACnB,6BAAS,UAAU,IAAI;AACvB,6BAAS,UAAU,KAAK,QAAQ;AAEhC,wBAAI,QAAQ,KAAK,EAAE,gBAAgB;AACnC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AACpC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AAAA,kBACxC;AACA,yBAAO,IAAI;AAAA,gBACf;AAGA,oBAAI,IAAI,mBACJ,CAAC,QAAQ,cACT,QAAQ,SAAS,OAAO;AACxB,6BAAW,IAAI;AACf,6BAAW,QAAQ;AACnB,sBAAI,UAAU;AACV,6BAAS,UAAU;AACnB,6BAAS,UAAU,IAAI;AACvB,6BAAS,UAAU,KAAK,QAAQ;AAEhC,wBAAI,QAAQ,KAAK,EAAE,gBAAgB;AACnC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AACpC,wBAAI,QAAQ,MAAM,EAAE,gBAAgB;AAAA,kBACxC;AACA,yBAAO,IAAI;AAAA,gBACf;AAGA,oBAAI,CAAC,QAAQ,cACT,QAAQ,SAAS,UACjB,CAAC,QAAQ,UAAU,OAAO,SAAU,GAAG;AAAE,yBAAO,CAAC,EAAE,eAAe,EAAE,SAAS,SAAS,EAAE,SAAS;AAAA,gBAAe,CAAC,EAAE,QAAQ;AAC3H,0BAAQ,UAAU,KAAK;AAAA,oBACnB,SAAS;AAAA,oBACT,WAAW,CAAC;AAAA,oBACZ,YAAY;AAAA,oBACZ,MAAM;AAAA,oBACN,QAAQ,CAAC;AAAA,kBACb,CAAC;AAAA,gBACL;AAEA,oBAAI,CAAC,QAAQ,cAAc,QAAQ,SAAS,SAAS;AACjD,sBAAI,mBAAmB;AAAA,gBAC3B;AACA,oBAAI,CAAC,OAAO,cAAc,OAAO,SAAS,OAAO;AAC7C,yBAAO,IAAI;AAAA,gBACf;AAAA,cACJ;AACA,kBAAI,EAAE,SAAS,UAAU,SAAS,QAAS,QAAO,CAAC,GAAa,CAAC;AAEjE,kBAAI,SAAS,QAAQ;AACjB,oBAAI,QAAQ,WAAW;AACnB,wBAAM,IAAI,SAAS,cAAc,qBAAqB;AAC1D,0BAAU,QAAQ;AAAA,cACtB;AACA,oBAAM,OAAO,aAAa,OAAO,OAAO;AACxC,kBAAI,QAAQ,SAAS,QAAQ,UAAU,QAAQ,QAAQ;AACnD,oBAAI,QAAQ,GAAG,IAAI,EAAE,MAAM,IAAI,MAAM,IAAI,eAAe,MAAM;AAAA,cAClE;AACA,yBAAW,GAAG,cAAc,0BAA0B,MAAM;AAC5D,sBAAQ,UAAU;AAClB,sBAAQ,UAAU,KAAK,OAAO;AAC9B,2BAAa,QAAQ;AACrB,kBAAI,EAAE,GAAG,cAAc,iBAAiB,GAAG,MACtC,eAAe,cAAc,eAAe,YAAY;AACzD,wBAAQ,OAAO,MAAM,iBAAiB,eAAe,OAAO,CAAC;AAC7D,yBAAS,SAAS,GAAG;AAAA,cACzB;AACA,yBAAW,OAAO;AAClB,kBAAI,EAAE,OAAO,cACT,YACA,CAAC,SAAS,cACV,SAAS,SAAS,OAAQ,QAAO,CAAC,GAAa,CAAC;AACpD,qBAAO,CAAC,GAAa,YAAY,MAAM,QAAQ,KAAK,SAAS,CAAC;AAAA,YAClE,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,kBAAI,OAAO,WAAW,UAAU;AAE5B,wBAAQ,QAAQ;AAChB,wBAAQ,OAAO,MAAM,6DACjB,eAAe,OAAO,CAAC;AAAA,cAC/B,OACK;AACD,uBAAO,KAAK,MAAM,QAAQ,MAAM;AAAA,cACpC;AACA,iBAAG,QAAQ;AAAA,YACf,KAAK;AAED,wBAAU;AACV,iBAAG,QAAQ;AAAA,YACf,KAAK;AAGD,kBAAI,SAAS,QAAQ;AACjB,uBAAO,YAAY,GAAG;AAClB,sBAAI,QAAQ,WAAW;AACnB,0BAAM,IAAI,SAAS,cAAc,qBAAqB;AAC1D,4BAAU,QAAQ;AAClB,+BAAa;AAAA,gBACjB;AAAA,cACJ;AACA;AACA,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,kBAAI,IAAI,WAAW,IAAI,WAAW;AAC9B,sBAAM,IAAI,SAAS,oCAAoC;AACvD,oBAAI,IAAI,QAAQ,UAAU;AACtB,wBAAM;AAAA,gBACV,OACK;AACD,yBAAO,KAAK,GAAG;AAAA,gBACnB;AAAA,cACJ;AACA,kBAAI,IAAI,MAAM,OAAO,SAAU,GAAG;AAAE,uBAAO,CAAC,EAAE;AAAA,cAAM,CAAC,EAAE,SAAS,GAAG;AAC/D,iCAAiB,IAAI,MAAM,IAAI,MAAM,SAAS,CAAC;AAC/C,sBAAM,IAAI,SAAS,yBAAyB,cAAc;AAC1D,oBAAI,IAAI,QAAQ,UAAU;AACtB,wBAAM;AAAA,gBACV,OACK;AACD,yBAAO,KAAK,GAAG;AAAA,gBACnB;AAAA,cACJ;AACA,kBAAI,OAAO,SAAS;AAChB,uBAAO,CAAC,GAAc;AAAA,kBACd,QAAQ;AAAA,kBACR;AAAA,gBACJ,CAAC;AACT,qBAAO,CAAC,GAAc;AAAA,gBACd,QAAQ;AAAA,gBACR,QAAQ;AAAA,gBACR,QAAQ,IAAI;AAAA,gBACZ,OAAO,IAAI;AAAA,gBACX,OAAO,IAAI;AAAA,cACf,CAAC;AAAA,UACb;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,eAAe;AACvB,QAAI,cAAc,SAAU,MAAM,MAAM,KAAK,WAAW;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC3G,YAAI,IAAI,cAAc,UAAU,MAAM,UAAU,SAAS,QAAQ,KAAK,SAAS;AAC/E,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,mBAAK,IAAI,SAAS,eAAe,GAAG,cAAc,WAAW,GAAG;AAChE,qBAAO,KAAK;AACZ,kBAAI,QAAQ,QAAQ,SAAS;AACzB,uBAAO,CAAC,GAAc,EAAE;AAC5B,yBAAW,KACN,MAAM,aAAa,CAAC,CAAC,EACrB,IAAI,SAAU,GAAG;AAAE,uBAAO,EAAE,MAAM,aAAa,CAAC,CAAC;AAAA,cAAG,CAAC,EACrD,OAAO,SAAU,GAAG,GAAG;AAAE,uBAAO,EAAE,OAAO,CAAC;AAAA,cAAG,CAAC;AACnD,wBAAU;AACV,uBAAS,CAAC;AACV,oBAAM;AACN,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,EAAE,MAAM,SAAS,QAAS,QAAO,CAAC,GAAa,CAAC;AAEpD,kBAAI,MAAM;AACN,uCAAuB,aAAa,CAAC,GAAG,KAAK,EAAE,MAAM,KAAK,CAAC;AAC/D,wBAAU,SAAS,GAAG;AAEtB,kBAAI,IAAI;AACJ,oBAAI,OAAO;AAAA,uBACN,EAAE,GAAG,cAAc,iBAAiB,GAAG;AAC5C,2BAAW;AACf,qCAAuB,SAAS,KAAK,EAAE,MAAM,IAAI,KAAK,CAAC;AACvD,kBAAI,EAAE,MAAM,SAAS,SAAS,GAAI,QAAO,CAAC,GAAa,CAAC;AACxD,kBAAI,CAAC,IAAI,KAAM,QAAO,CAAC,GAAa,CAAC;AACrC,qBAAO,CAAC,GAAa,UAAU,MAAM,MAAM,GAAG,CAAC;AAAA,YACnD,KAAK;AACD,8BAAgB,GAAG,KAAK;AACxB,kBAAI,iBAAiB,MAAM;AACvB,oBAAI,OAAO,kBAAkB,UAAU;AACnC,6BAAW;AACX,yCAAuB,eAAe,KAAK;AAAA,oBACvC,MAAM;AAAA,oBACN,eAAe;AAAA,kBACnB,CAAC;AAAA,gBACL,OACK;AACD,sBAAI;AACA,0BAAM;AACV,yBAAO,KAAK,aAAa;AAAA,gBAC7B;AAAA,cACJ;AACA,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,OAAO,CAAC,IAAI;AAChB,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD;AACA,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,kBAAI,OAAO,SAAS;AAChB,uBAAO,CAAC,GAAc,MAAM;AAChC,qBAAO,CAAC,GAAc,OAAO;AAAA,UACrC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AAIJ,QAAI,aAAa,SAAU,MAAM,MAAM,KAAK;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC/F,YAAI,KAAK,IAAI,SAAS,SAAS,YAAY,WAAW,SAAS,QAAQ,MAAM,KAAK,qBAAqB,kBAAkB,YAAY,aAAa,eAAe,KAAK,MAAM,MAAM;AAClL,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,oBAAM,WAAW,IAAI,KAAK,IAAI,YAAY,IAAI,QAAQ,cAAc;AACpE,kBAAI,MAAM;AACV,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,iBAAG,KAAK,KAAK,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC;AAC1B,mBAAK,aAAa,GAAG,GAAG,UAAU,GAAG,SAAS,UAAU,GAAG;AAC3D,kBAAI,YAAY;AACZ,wBAAQ,OAAO,MAAM,mBAAmB,OAAO,GAAG,CAAC;AAEvD,kBAAI,IAAI,YAAY;AAChB,oBAAI,YAAY;AACZ,sBAAI,QAAQ;AAChB,uBAAO;AAAA,kBAAC;AAAA;AAAA,gBAAY;AAAA,cACxB;AACA,kBAAI,EAAE,YAAY,WAAW,YAAY,YAAa,QAAO,CAAC,GAAa,CAAC;AAC5E,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AACD,kBAAI,EAAE,YAAY,SAAU,QAAO,CAAC,GAAa,CAAC;AAClD,2BAAa,gBAAgB,KAAK,OAAO;AACzC,kBAAI,CAAC;AACD,sBAAM,IAAI,SAAS,oBAAoB,yBAAyB,GAAG;AACvE,0BAAY,WAAW,CAAC;AACxB,wBAAU,WAAW,CAAC;AACtB,kBAAI,WAAW,SAAS,IAAI;AAC5B,sBAAQ,OAAO,MAAM,kBAAkB,OAAO,WAAW,SAAS,EAAE,OAAO,OAAO,CAAC;AACnF,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AACD,kBAAI,EAAE,YAAY,SAAS,YAAY,MAAO,QAAO,CAAC,GAAa,CAAC;AACpE,qBAAO,CAAC,GAAa,aAAa,MAAM,MAAM,KAAK,KAAK,SAAS,OAAO,CAAC;AAAA,YAC7E,KAAK;AACD,iBAAG,KAAK;AACR,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AACD,kBAAI,EAAE,YAAY,aAAa,YAAY,UAAW,QAAO,CAAC,GAAa,CAAC;AAC5E,8BAAgB,MAAM,KAAK,KAAK,SAAS,OAAO;AAChD,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AACD,kBAAI,EAAE,YAAY,OAAQ,QAAO,CAAC,GAAa,EAAE;AACjD,kBAAI,CAAC,EAAE,GAAG,cAAc,iBAAiB,GAAG,EAAG,QAAO,CAAC,GAAa,EAAE;AACtE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,kBAAI,UAAU,MAAM;AAChB,uBAAO,CAAC,GAAc,EAAE;AAAA,cAC5B;AACA,kBAAI,EAAE,OAAO,WAAW,YAAY,CAAC,MAAM,QAAQ,MAAM,GAAI,QAAO,CAAC,GAAa,EAAE;AACpF,qBAAO,IAAI,SAAS,yBAAyB,SAAS,MAAM;AAC5D,kBAAI,EAAE,IAAI,QAAQ,gBAAgB,MAAO,QAAO,CAAC,GAAa,CAAC;AAC/D,qBAAO,CAAC,GAAa,IAAI,QAAQ,aAAa,MAAM,OAAO,CAAC;AAAA,YAChE,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AAAG,oBAAM;AAAA,YACd,KAAK;AACD,oBAAM,OAAO,MAAM;AACnB,kBAAI,IAAI,QAAQ,mBAAmB;AAC/B,sCAAsB,IAAI,QAAQ;AAClC,oBAAI,IAAI,QAAQ,4BAA4B;AACxC,qCAAmB,IAAI,MAAM,IAAI;AACjC,+BAAa,GAAG,OAAO,qBAAqB,SAAS,EAAE,OAAO,mBAAmB;AACjF,gCAAc,GAAG,OAAO,qBAAqB,QAAQ,EAAE,OAAO,mBAAmB;AACjF,kCAAgB,GAAG,OAAO,qBAAqB,4BAA8B,EAAE,OAAO,mBAAmB;AACzG,wBAAM,iBAAiB,KAAK,GAAG,OAAO,WAAW,EAAE,OAAO,UAAU,EAAE,OAAO,aAAa,CAAC;AAAA,gBAC/F,OACK;AACD,wBAAM,IAAI,QAAQ,OAAO,GAAG,OAAO,qBAAqB,SAAS,EAAE,OAAO,mBAAmB,CAAC;AAAA,gBAClG;AAAA,cACJ;AACA,qBAAO,CAAC,GAAc,GAAG;AAAA,YAC7B,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AACD,kBAAI,EAAE,YAAY,QAAS,QAAO,CAAC,GAAa,EAAE;AAClD,kBAAI,CAAC,EAAE,GAAG,cAAc,iBAAiB,GAAG,EAAG,QAAO,CAAC,GAAa,EAAE;AACtE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AACD,kBAAI,EAAE,YAAY,SAAU,QAAO,CAAC,GAAa,EAAE;AACnD,kBAAI,CAAC,EAAE,GAAG,cAAc,iBAAiB,GAAG,EAAG,QAAO,CAAC,GAAa,EAAE;AACtE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,oBAAM,GAAG,KAAK;AACd,kBAAI,OAAO,MAAM;AACb,oBAAI;AACA,+BAAa,KAAK,GAAG;AAAA,gBACzB,SACO,GAAG;AACN,sBAAI,EAAE,GAAG,SAAS,SAAS,CAAC;AACxB,0BAAM;AACV,wBAAM,IAAI,SAAS,WAAW,GAAG,GAAG;AAAA,gBACxC;AAAA,cACJ;AACA,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AACD,kBAAI,EAAE,YAAY,QAAS,QAAO,CAAC,GAAa,EAAE;AAClD,kBAAI,CAAC,EAAE,GAAG,cAAc,iBAAiB,GAAG,EAAG,QAAO,CAAC,GAAa,EAAE;AACtE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,kBAAI,EAAE,QAAQ,MAAO,QAAO,CAAC,GAAa,EAAE;AAC5C,qBAAO,CAAC,GAAa,YAAY,KAAK,IAAI,CAAC;AAAA,YAC/C,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AACD,kBAAI,EAAE,YAAY,QAAS,QAAO,CAAC,GAAa,EAAE;AAClD,kBAAI,CAAC,EAAE,GAAG,cAAc,iBAAiB,GAAG,EAAG,QAAO,CAAC,GAAa,EAAE;AACtE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,kBAAI,EAAE,QAAQ,MAAO,QAAO,CAAC,GAAa,EAAE;AAC5C,qBAAO,CAAC,GAAa,YAAY,KAAK,IAAI,CAAC;AAAA,YAC/C,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAI,qBAAO,CAAC,GAAa,EAAE;AAAA,YAChC,KAAK;AAAI,oBAAM,IAAI,SAAS,mBAAmB,GAAG;AAAA,YAClD,KAAK;AAAI,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,YAC7B,KAAK;AACD,sBAAQ,GAAG,KAAK;AAChB,kBAAI,EAAE,GAAG,SAAS,SAAS,KAAK;AAC5B,sBAAM;AACV,kBAAI,IAAI,QAAQ,gBAAgB,MAAM;AAClC,uBAAO,CAAC,GAAc,IAAI,QAAQ,aAAa,KAAK,CAAC;AAAA,cACzD;AACA,qBAAO,CAAC,GAAc,KAAK;AAAA,YAC/B,KAAK;AAAI,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UACjC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,iBAAiB,QAAQ,kBAAkB,IAAI,SAAU,MAAM;AAAE,aAAO,IAAI,OAAO,IAAI,OAAO,MAAM,KAAK,CAAC;AAAA,IAAG,CAAC;AAClH,QAAI,cAAc,SAAU,KAAK;AAC7B,aAAO,CAAC,eAAe,KAAK,SAAU,GAAG;AAAE,eAAO,EAAE,KAAK,IAAI,YAAY,CAAC;AAAA,MAAG,CAAC;AAAA,IAClF;AACA,aAAS,WAAW,SAAS,YAAY,gBAAgB;AAErD,UAAI,MAAM,QAAQ,KAAK;AACvB,UAAI,IAAI,CAAC,MAAM,KAAK;AAChB,YAAI,YAAY,IAAI,MAAM,CAAC,EAAE,KAAK;AAClC,YAAI,CAAC,WAAW,SAAS;AACrB,gBAAM,IAAI,SAAS,oBAAoB,iBAAiB,GAAG;AAC/D,cAAM,WAAW,SAAS;AAC1B,gBAAQ,OAAO,MAAM,cAAc,OAAO,GAAG,CAAC;AAAA,MAClD,WACS,IAAI,CAAC,MAAM,KAAK;AACrB,cAAM,OAAO,OAAO,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC;AAAA,MAC3C,WACS,IAAI,CAAC,MAAM,KAAK;AACrB,cAAM,QAAQ,OAAO,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC;AAAA,MAC5C,WACS,YAAY,GAAG,GAAG;AACvB,cAAM,OAAO,OAAO,IAAI,KAAK,CAAC;AAAA,MAClC;AAEA,UAAI,gBAAgB;AAChB,cAAM,IACD,QAAQ,yBAAyB,GAAG,EACpC,QAAQ,yBAAyB,GAAG;AAAA,MAC7C;AACA,aAAO,IAAI,KAAK;AAAA,IACpB;AACA,YAAQ,aAAa;AACrB,aAAS,aAAa,KAAK;AAEvB,UAAI,eAAe,YAAY,KAAK,GAAG;AACvC,UAAI;AACJ,UAAI,UAAU;AACd,UAAI,gBAAgB,MAAM;AACtB,kBAAU,aAAa,CAAC,EAAE,YAAY;AACtC,kBAAU,IAAI,MAAM,QAAQ,MAAM,EAAE,KAAK;AAAA,MAC7C;AACA,aAAO,EAAE,SAAkB,QAAiB;AAAA,IAChD;AACA,YAAQ,eAAe;AAIvB,QAAI,eAAe,SAAU,MAAM,MAAM,KAAK,KAAK,SAAS,SAAS;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AACxH,YAAI,MAAM,UAAU,SAAS,SAAS,iBAAiB,oBAAoB,iBAAiB,oBAAoB,UAAU;AAC1H,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,qBAAO,YAAY;AACnB,yBAAW;AACX,wBAAU;AACV,kBAAI,MAAM;AACN,oBAAI,CAAC,KAAK,SAAS;AACf,uBAAK,UAAU,QAAQ,OAAO,IAAI,MAAM;AACxC,sBAAI,UAAU;AAAA,gBAClB;AACA,0BAAU,KAAK;AAAA,cACnB,OACK;AACD,2BAAW,sBAAsB,KAAK,OAAO;AAC7C,oBAAI,CAAC;AACD,wBAAM,IAAI,SAAS,oBAAoB,uBAAuB,GAAG;AACrE,0BAAU,SAAS,CAAC;AAAA,cACxB;AACA,yBAAW,GAAG,cAAc,YAAY,GAAG;AAC3C,kBAAI,CAAC,EAAE,WAAW,QAAQ,YAAY,SAAU,QAAO,CAAC,GAAa,CAAC;AAEtE,kBAAI,MAAM;AACN,kCAAkB,oBAAoB,IAAI;AAC1C,qCAAqB,mBAAmB,OAClC,gBAAgB,aACZ,OACA,gBAAgB,OACpB;AACN,oBAAI,mBAAmB,MAAM;AACzB,sBAAI,uBAAuB,OAAO;AAC9B,wBAAI,IAAI,YAAY,IAAI,eAAe,KACnC,IAAI,YAAY,IAAI,eAAe,MAAM;AACzC,4BAAM,IAAI,SAAS,oBAAoB,sEAAsE,GAAG;AAAA;AAEhH,0BAAI,YAAY,IAAI,iBAAiB,GAAG;AAAA,kBAChD,WACS,uBAAuB,QAAQ;AACpC,wBAAI,IAAI,aAAa,IAAI,eAAe,KACpC,IAAI,aAAa,IAAI,eAAe,MAAM;AAC1C,4BAAM,IAAI,SAAS,oBAAoB,2EAA2E,GAAG;AAAA;AAErH,0BAAI,aAAa,IAAI,iBAAiB,GAAG;AAAA,kBACjD;AAAA,gBACJ;AAAA,cACJ;AACA,gCAAkB,IAAI,MAAM,SAAS;AACrC,mCAAqB,mBAAmB,KAAK,IAAI,MAAM,eAAe,EAAE,QAAQ;AAChF,yBAAW;AACX,kBAAI,CAAC,mBAAoB,QAAO,CAAC,GAAa,CAAC;AAC/C,yBAAW,CAAC;AACZ,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,kBAAI,CAAC,KAAM,QAAO,CAAC,GAAa,CAAC;AACjC,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,GAAG,CAAC;AAAA,YAChF,KAAK;AACD,0BAAY,CAAC,CAAE,GAAG,KAAK;AACvB,yBAAW,YAAY,CAAC,CAAC,IAAI,CAAC;AAC9B,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,kBAAI,CAAC;AACD,sBAAM,IAAI,SAAS,oBAAoB,uBAAuB,GAAG;AACrE,qBAAO,CAAC,IAAc,GAAG,YAAY,oBAAoB,MAAM,SAAS,CAAC,GAAG,GAAG,CAAC;AAAA,YACpF,KAAK;AACD,yBAAW,GAAG,KAAK;AACnB,kBAAI,CAAC,MAAM,QAAQ,QAAQ;AACvB,sBAAM,IAAI,SAAS,oBAAoB,qDAAqD,GAAG;AACnG,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,MAAM,KAAK;AAAA,gBACX,SAAS;AAAA,gBACT,cAAc,IAAI;AAAA,gBAClB;AAAA,gBACA;AAAA,gBACA;AAAA;AAAA;AAAA,gBAGA,KAAK;AAAA,cACT,CAAC;AACD,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,eAAC,GAAG,cAAc,SAAS,IAAI,KAAK;AACpC,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UAC5B;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,kBAAkB,SAAU,MAAM,KAAK,KAAK,SAAS,SAAS;AAC9D,UAAI,OAAO,YAAY;AACvB,UAAI,WAAW,GAAG,cAAc,YAAY,GAAG;AAC/C,UAAI,CAAC;AACD,cAAM,IAAI,SAAS,oBAAoB,cAAc,OAAO,SAAS,cAAc,EAAE,OAAO,OAAO,iBAAiB,YAAY,UAAU,GAAG,GAAG;AAEpJ,UAAI,kBAAkB,oBAAoB,IAAI;AAC9C,UAAI,qBAAqB,mBAAmB,OACtC,gBAAgB,aACZ,OACA,gBAAgB,OACpB;AACN,UAAI,uBAAuB,OAAO;AAC9B,YAAI,YAAY,OAAO,eAAe;AAAA,MAC1C,WACS,uBAAuB,QAAQ;AACpC,YAAI,aAAa,OAAO,eAAe;AAAA,MAC3C;AAGA,UAAI,QAAQ,CAAC,KAAK,SAAS;AACvB,aAAK,UAAU,QAAQ;AACvB,YAAI,aAAa;AAAA,MACrB;AAMA,UAAI,UAAU,OAAO,KAAK,UAAU;AACpC,UAAI,QAAQ,YAAY,SAAS;AAC7B,YAAI,IAAI,MAAM,KAAK,SAAU,GAAG;AAAE,iBAAO,EAAE,YAAY;AAAA,QAAS,CAAC,KAAK,MAAM;AACxE,kBAAQ,OAAO,MAAM,YAAY,OAAO,KAAK,IAAI,EAAE,OAAO,SAAS,wBAAwB,EAAE,OAAO,QAAQ,SAAS,GAAG,CAAC;AACzH;AAAA,QACJ;AACA,cAAM,IAAI,SAAS,oBAAoB,mBAAmB,GAAG;AAAA,MACjE;AAEA,UAAI,UAAU,QAAQ,MAAM;AAC5B,UAAI,WAAW,QAAQ,SAAS,OAAO;AACvC,UAAI,YAAY,MAAM;AAElB,YAAI,KAAK,OAAO,IAAI;AACpB,YAAI,QAAQ;AACZ,gBAAQ,MAAM;AAAA,MAClB,OACK;AAED,YAAI,MAAM,IAAI;AAAA,MAClB;AAAA,IACJ;AACA,QAAI,iBAAiB,SAAU,KAAK,KAAK;AACrC,oBAAc,GAAG;AACjB,UAAI,4BAA4B;AAChC,UAAI,KAAK,OAAO,IAAI,wBAAwB;AAC5C,UAAI,QAAQ,MAAM,OAAO,EAAE;AAC3B,UAAI,OAAO,KAAK,IAAI;AACpB,aAAO;AAAA,IACX;AACA,aAAS,cAAc,KAAK;AACxB,UAAI,EAAE,IAAI,gBAAgB,cACtB,IAAI,gBAAgB,eACpB,OAAO,IAAI,SAAS,WAAW;AAC/B,cAAM,IAAI,MAAM,mHAAmH;AAAA,MACvI;AACA,UAAI,CAAC,QAAQ,gBAAgB,SAAS,IAAI,SAAS,GAAG;AAClD,cAAM,IAAI,MAAM,wBAAwB,OAAO,QAAQ,iBAAiB,gEAAgE,CAAC;AAAA,MAC7I;AAAA,IACJ;AACA,aAAS,kBAAkB,MAAM;AAC7B,UAAI,CAAC,OAAO,SAAS,KAAK,KAAK;AAC3B,cAAM,IAAI,MAAM,wBAAwB,OAAO,KAAK,OAAO,UAAU,CAAC;AAC1E,UAAI,CAAC,OAAO,SAAS,KAAK,MAAM;AAC5B,cAAM,IAAI,MAAM,yBAAyB,OAAO,KAAK,QAAQ,UAAU,CAAC;AAC5E,oBAAc,IAAI;AAClB,UAAI,KAAK;AACL,sBAAc,KAAK,SAAS;AAAA,IACpC;AACA,QAAI,eAAe,SAAU,KAAK,WAAW;AACzC,UAAI;AACJ,wBAAkB,SAAS;AAC3B,UAAI,MAAM,UAAU,QAAQ,MAAO,QAAQ,CAAC;AAC5C,UAAI,MAAM,UAAU,SAAS,MAAO,QAAQ,CAAC;AAC7C,UAAI,WAAW,eAAe,KAAK,aAAa,SAAS,CAAC;AAC1D,UAAI,KAAK,OAAO,IAAI,wBAAwB;AAC5C,UAAI,MAAM,UAAU,OAAO;AAC3B,UAAI,OAAO,cAAc;AACzB,UAAI,WAAW,CAAC;AAChB,eAAS,KAAK,KAAK,SAAS,EAAE,KAAK,yCAAyC,GAAG;AAAA,QAC3E,KAAK,mBAAmB;AAAA,UACpB,aAAa;AAAA,UACb,KAAK;AAAA,QACT,CAAC;AAAA,MACL,CAAC,CAAC;AAGF,UAAI,MAAM,UAAU,YACb,UAAU,WAAW,KAAM,SAAS,IACrC;AACN,UAAI,IAAI,OAAO,QAAQ,EAAE,cAAc,QAAQ;AAG3C,YAAI,aAAa,KAAK,UAAU,eAAe,QAAQ,OAAO,SAAS,KAAK;AAAA,UACxE,MAAM;AAAA,UACN,WAAW;AAAA,QACf;AACA,YAAI,aAAa,eAAe,KAAK,SAAS;AAC9C,iBAAS,KAAK,KAAK,SAAS,EAAE,KAAK,yCAAyC,GAAG;AAAA,UAC3E,KAAK,gBAAgB;AAAA,YACjB,cAAc;AAAA,YACd,WAAW;AAAA,UACf,CAAC;AAAA,QACL,CAAC,CAAC;AAEF,mBAAW;AAAA,MACf;AACA,UAAI,MAAM,KAAK,WAAW,EAAE,aAAa,2DAA2D,GAAG;AAAA,QACnG,KAAK,eAAe,CAAC,GAAG;AAAA,UACpB,KAAK,aAAa,EAAE,IAAI,KAAK,MAAM,WAAW,OAAO,EAAE,GAAG,OAAO,IAAI,CAAC;AAAA,UACtE,KAAK,gBAAgB,CAAC,GAAG;AAAA,YACrB,KAAK,cAAc,EAAE,gBAAgB,KAAK,oBAAoB,IAAI,CAAC;AAAA,UACvE,CAAC;AAAA,QACL,CAAC;AAAA,QACD,KAAK,gBAAgB,CAAC,GAAG;AAAA,UACrB,KAAK,UAAU,EAAE,WAAW,UAAU,QAAQ,QAAQ,GAAG;AAAA,YACrD,KAAK,YAAY,CAAC,GAAG,QAAQ;AAAA,UACjC,CAAC;AAAA,UACD,KAAK,WAAW;AAAA,UAChB,KAAK,aAAa,CAAC,GAAG,CAAC,KAAK,YAAY,CAAC,CAAC;AAAA,QAC9C,CAAC;AAAA,QACD,KAAK,YAAY,EAAE,QAAQ,OAAO,GAAG;AAAA,UACjC,KAAK,UAAU,MAAM,EAAE,IAAS,IAAI,CAAC,GAAG;AAAA,YACpC,KAAK,SAAS,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC;AAAA,YAChC,KAAK,SAAS,EAAE,IAAQ,GAAO,CAAC;AAAA,UACpC,CAAC;AAAA,UACD,KAAK,cAAc,EAAE,MAAM,OAAO,GAAG,CAAC,KAAK,SAAS,CAAC,CAAC;AAAA,UACtD,KAAK,UAAU;AAAA,UACf,KAAK,QAAQ,CAAC,GAAG,CAAC,KAAK,UAAU,CAAC,CAAC;AAAA,QACvC,CAAC;AAAA,MACL,CAAC;AACD,UAAI,UAAU,KAAK,aAAa,CAAC,GAAG;AAAA,QAChC,KAAK,aAAa,EAAE,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,IAAI,GAAG;AAAA,UAClE,KAAK,aAAa,EAAE,IAAQ,GAAO,CAAC;AAAA,UACpC,KAAK,YAAY,EAAE,IAAQ,MAAM,WAAW,OAAO,EAAE,GAAG,OAAO,IAAI,CAAC;AAAA,UACpE,KAAK,wBAAwB,CAAC,GAAG;AAAA,YAC7B,KAAK,uBAAuB;AAAA,cACxB,WAAW;AAAA,cACX,gBAAgB;AAAA,YACpB,CAAC;AAAA,UACL,CAAC;AAAA,UACD,KAAK,aAAa,EAAE,WAAW,wDAAwD,GAAG;AAAA,YACtF,KAAK,iBAAiB,EAAE,KAAK,2DAA2D,GAAG,CAAC,GAAG,CAAC;AAAA,UACpG,CAAC;AAAA,QACL,CAAC;AAAA,MACL,CAAC;AACD,UAAI,mBAAmB,EAAE,OAAO,QAAQ;AACxC,UAAI,UAAU,SAAS;AACnB,YAAI,iBAAiB,UAAU;AAAA,UAC3B,KAAK,MAAM;AAAA,UACX,KAAK,OAAO,CAAC,GAAG,EAAE,GAAG,cAAc,aAAa,UAAU,OAAO,CAAC,CAAC;AAAA,QACvE;AAAA,MACJ;AAAA,IACJ;AACA,aAAS,aAAa,WAAW;AAC7B,UAAI,OAAO,UAAU,MAAM,YAAY,UAAU;AACjD,UAAI,CAAC,WAAW;AACZ,cAAM,IAAI,MAAM,wEAAwE;AAAA,MAC5F;AACA,aAAO,EAAE,WAAsB,KAAW;AAAA,IAC9C;AACA,QAAI,cAAc,SAAU,KAAK,UAAU;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC9F,YAAI,KAAK,IAAI,OAAO,IAAI,OAAO,MAAM,kBAAkB;AACvD,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,gBAAM,SAAS,KAAK,KAAK,SAAS,OAAO,QAAQ,OAAO,SAAS,MAAM;AACvE,cAAI,UAAU;AACd,eAAK,OAAO,IAAI,MAAM;AACtB,kBAAQ,OAAO,OAAO,EAAE;AACxB,cAAI,MAAM,KAAK,IAAI,EAAE,IAAS;AAC9B,iBAAO,cAAc;AACrB,6BAAmB,IAAI;AACvB,iBAAO,KAAK,eAAe,EAAE,QAAQ,OAAO,aAAa,IAAI,GAAG;AAAA,YAC5D,KAAK,OAAO,CAAC,GAAG;AAAA,cACZ,oBACI,KAAK,SAAS,CAAC,GAAG,CAAC,KAAK,OAAO,EAAE,SAAS,SAAS,CAAC,CAAC,CAAC;AAAA,cAC1D,KAAK,OAAO,CAAC,GAAG,EAAE,GAAG,cAAc,aAAa,KAAK,CAAC,CAAC;AAAA,YAC3D,CAAC;AAAA,UACL,CAAC;AACD,cAAI,kBAAkB;AACtB,iBAAO;AAAA,YAAC;AAAA;AAAA,UAAY;AAAA,QACxB,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,cAAc,SAAU,KAAK,MAAM;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC1F,YAAI,IAAI,OAAO,MAAM;AACrB,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,cAAI,UAAU;AACd,eAAK,OAAO,IAAI,MAAM;AACtB,kBAAQ,OAAO,OAAO,EAAE;AACxB,cAAI,MAAM,KAAK,IAAI;AACnB,iBAAO,cAAc;AACrB,iBAAO,KAAK,cAAc,EAAE,QAAQ,MAAM,CAAC;AAC3C,cAAI,kBAAkB;AACtB,iBAAO;AAAA,YAAC;AAAA;AAAA,UAAY;AAAA,QACxB,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AAIJ,QAAI,aAAa,CAAC,OAAO,QAAQ,MAAM;AACvC,QAAI,yBAAyB,SAAU,MAAM,KAAK,SAAS;AACvD,UAAI,IAAI;AACJ;AACJ,UAAI,OAAO,QAAQ,MAAM,gBAAgB,QAAQ;AACjD,UAAI,OAAO,OAAO,SAAS;AAC3B,iBAAW,QAAQ,SAAU,KAAK;AAC9B,YAAI,MAAM,IAAI,QAAQ,GAAG;AACzB,YAAI,IAAI,KAAK;AACb,YAAI;AACA,cAAI,gBAAgB;AAAA,MAC5B,CAAC;AAAA,IACL;AACA,aAAS,SAAS,SAAS,KAAK;AAC5B,UAAI,4BAA4B;AAChC,UAAI,KAAK,OAAO,IAAI,wBAAwB;AAC5C,cAAQ,SAAS,SAAS,SAAS,CAAC,GAAG,QAAQ,MAAM,GAAG,EAAE,IAAI,GAAG,OAAO,EAAE,EAAE,CAAC;AAAA,IACjF;AAAA;AAAA;;;ACtiCA;AAAA;AAAA;AACA,QAAI,YAAa,WAAQ,QAAK,aAAc,SAAU,SAAS,YAAY,GAAG,WAAW;AACrF,eAAS,MAAM,OAAO;AAAE,eAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,SAAS;AAAE,kBAAQ,KAAK;AAAA,QAAG,CAAC;AAAA,MAAG;AAC3G,aAAO,KAAK,MAAM,IAAI,UAAU,SAAU,SAAS,QAAQ;AACvD,iBAAS,UAAU,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,KAAK,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC1F,iBAAS,SAAS,OAAO;AAAE,cAAI;AAAE,iBAAK,UAAU,OAAO,EAAE,KAAK,CAAC;AAAA,UAAG,SAAS,GAAG;AAAE,mBAAO,CAAC;AAAA,UAAG;AAAA,QAAE;AAC7F,iBAAS,KAAK,QAAQ;AAAE,iBAAO,OAAO,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,KAAK,WAAW,QAAQ;AAAA,QAAG;AAC7G,cAAM,YAAY,UAAU,MAAM,SAAS,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC;AAAA,MACxE,CAAC;AAAA,IACL;AACA,QAAI,cAAe,WAAQ,QAAK,eAAgB,SAAU,SAAS,MAAM;AACrE,UAAI,IAAI,EAAE,OAAO,GAAG,MAAM,WAAW;AAAE,YAAI,EAAE,CAAC,IAAI,EAAG,OAAM,EAAE,CAAC;AAAG,eAAO,EAAE,CAAC;AAAA,MAAG,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG;AAC/G,aAAO,IAAI,EAAE,MAAM,KAAK,CAAC,GAAG,SAAS,KAAK,CAAC,GAAG,UAAU,KAAK,CAAC,EAAE,GAAG,OAAO,WAAW,eAAe,EAAE,OAAO,QAAQ,IAAI,WAAW;AAAE,eAAO;AAAA,MAAM,IAAI;AACvJ,eAAS,KAAK,GAAG;AAAE,eAAO,SAAU,GAAG;AAAE,iBAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,QAAG;AAAA,MAAG;AACjE,eAAS,KAAK,IAAI;AACd,YAAI,EAAG,OAAM,IAAI,UAAU,iCAAiC;AAC5D,eAAO,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,IAAI,KAAK,EAAG,KAAI;AAC1C,cAAI,IAAI,GAAG,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,QAAQ,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,OAAO,IAAI,EAAE,QAAQ,MAAM,EAAE,KAAK,CAAC,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,KAAM,QAAO;AAC3J,cAAI,IAAI,GAAG,EAAG,MAAK,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,KAAK;AACtC,kBAAQ,GAAG,CAAC,GAAG;AAAA,YACX,KAAK;AAAA,YAAG,KAAK;AAAG,kBAAI;AAAI;AAAA,YACxB,KAAK;AAAG,gBAAE;AAAS,qBAAO,EAAE,OAAO,GAAG,CAAC,GAAG,MAAM,MAAM;AAAA,YACtD,KAAK;AAAG,gBAAE;AAAS,kBAAI,GAAG,CAAC;AAAG,mBAAK,CAAC,CAAC;AAAG;AAAA,YACxC,KAAK;AAAG,mBAAK,EAAE,IAAI,IAAI;AAAG,gBAAE,KAAK,IAAI;AAAG;AAAA,YACxC;AACI,kBAAI,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,SAAS,KAAK,EAAE,EAAE,SAAS,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,IAAI;AAAE,oBAAI;AAAG;AAAA,cAAU;AAC3G,kBAAI,GAAG,CAAC,MAAM,MAAM,CAAC,KAAM,GAAG,CAAC,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAK;AAAE,kBAAE,QAAQ,GAAG,CAAC;AAAG;AAAA,cAAO;AACrF,kBAAI,GAAG,CAAC,MAAM,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,oBAAI;AAAI;AAAA,cAAO;AACpE,kBAAI,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG;AAAE,kBAAE,QAAQ,EAAE,CAAC;AAAG,kBAAE,IAAI,KAAK,EAAE;AAAG;AAAA,cAAO;AAClE,kBAAI,EAAE,CAAC,EAAG,GAAE,IAAI,IAAI;AACpB,gBAAE,KAAK,IAAI;AAAG;AAAA,UACtB;AACA,eAAK,KAAK,KAAK,SAAS,CAAC;AAAA,QAC7B,SAAS,GAAG;AAAE,eAAK,CAAC,GAAG,CAAC;AAAG,cAAI;AAAA,QAAG,UAAE;AAAU,cAAI,IAAI;AAAA,QAAG;AACzD,YAAI,GAAG,CAAC,IAAI,EAAG,OAAM,GAAG,CAAC;AAAG,eAAO,EAAE,OAAO,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,MAAM,KAAK;AAAA,MACnF;AAAA,IACJ;AACA,QAAI,gBAAiB,WAAQ,QAAK,iBAAkB,SAAU,IAAI,MAAM,MAAM;AAC1E,UAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,YAAI,MAAM,EAAE,KAAK,OAAO;AACpB,cAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,aAAG,CAAC,IAAI,KAAK,CAAC;AAAA,QAClB;AAAA,MACJ;AACA,aAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AAAA,IAC3D;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,aAAa,QAAQ,mBAAmB,QAAQ,cAAc,QAAQ,eAAe,QAAQ,gBAAgB;AACrH,QAAI,QAAQ;AACZ,QAAI,QAAQ;AACZ,QAAI,uBAAuB,gBAAgB,4BAA+B;AAC1E,QAAI,oBAAoB;AACxB,QAAI,gBAAgB;AACpB,QAAI,WAAW;AACf,QAAI,UAAU;AACd,QAAI,wBAAwB;AAC5B,QAAI,gCAAgC;AACpC,QAAI,qBAAqB;AACzB,QAAI,gBAAgB;AACpB,QAAI,iBAAiB,IAAI,OAAO,GAAG,OAAO,eAAe,kBAAkB,CAAC;AAC5E,aAAS,cAAc,UAAU;AAC7B,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,KAAK,cAAc,cAAc,oBAAoB,aAAa,KAAK,aAAa,YAAY;AACpG,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,sBAAQ,OAAO,MAAM,cAAc;AACnC,qBAAO,CAAC,IAAc,GAAG,MAAM,SAAS,QAAQ,CAAC;AAAA,YACrD,KAAK;AACD,oBAAM,GAAG,KAAK;AAEd,sBAAQ,OAAO,MAAM,gDAAgD;AACrE,qBAAO,CAAC,GAAa,iBAAiB,GAAG,CAAC;AAAA,YAC9C,KAAK;AACD,6BAAe,GAAG,KAAK;AACvB,6BAAe,WAAW,YAAY;AACtC,mCAAqB,GAAG,OAAO,eAAe,GAAG,EAAE,OAAO,YAAY;AACtE,sBAAQ,OAAO,MAAM,WAAW,OAAO,oBAAoB,KAAK,CAAC;AACjE,qBAAO,CAAC,IAAc,GAAG,MAAM,YAAY,KAAK,kBAAkB,CAAC;AAAA,YACvE,KAAK;AACD,4BAAc,GAAG,KAAK;AACtB,kBAAI,eAAe;AACf,sBAAM,IAAI,SAAS,mBAAmB,GAAG,OAAO,cAAc,qBAAqB,CAAC;AACxF,sBAAQ,OAAO,MAAM,GAAG,OAAO,oBAAoB,gBAAgB,EAAE,OAAO,YAAY,MAAM,CAAC;AAC/F,sBAAQ,OAAO,MAAM,WAAW,OAAO,oBAAoB,SAAS,CAAC;AACrE,qBAAM,oBAAI,KAAK,GAAE,QAAQ;AACzB,qBAAO,CAAC,IAAc,GAAG,MAAM,UAAU,WAAW,CAAC;AAAA,YACzD,KAAK;AACD,4BAAc,GAAG,KAAK;AACtB,2BAAa;AACb,qBAAM,oBAAI,KAAK,GAAE,QAAQ;AACzB,sBAAQ,OAAO,MAAM,GAAG,OAAO,oBAAoB,aAAa,EAAE,OAAO,MAAM,KAAK,KAAK,CAAC;AAC1F,qBAAO,CAAC,GAAc,EAAE,YAAwB,cAA4B,KAAU,aAA2B,CAAC;AAAA,UAC1H;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,gBAAgB;AACxB,aAAS,kBAAkB,KAAK,eAAe,SAAS;AACpD,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,qBAAqB,qBAAqB,IAAI,uBAAuB,GAAG,KAAK,KAAK;AACtF,YAAI,QAAQ;AACZ,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,oCAAsB,CAAC;AACvB,kBAAI,QAAQ,SAAU,UAAU;AAAE,uBAAO,UAAU,OAAO,QAAQ,QAAQ,WAAY;AAClF,yBAAO,YAAY,MAAM,SAAUC,KAAI;AACnC,wBAAI,eAAe,KAAK,QAAQ,KAC5B,aAAa,GAAG,OAAO,eAAe,GAAG,EAAE,OAAO,aAAa,KAC/D,SAAS,QAAQ,GAAG,OAAO,eAAe,WAAW,CAAC,MAAM,GAAG;AAC/D,0CAAoB,KAAK,QAAQ;AAAA,oBACrC;AACA,2BAAO;AAAA,sBAAC;AAAA;AAAA,oBAAY;AAAA,kBACxB,CAAC;AAAA,gBACL,CAAC;AAAA,cAAG,CAAC;AAEL,kCAAoB,KAAK;AACzB,oCAAsB,CAAC;AACvB,mBAAK,GAAG,wBAAwB;AAChC,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,EAAE,KAAK,sBAAsB,QAAS,QAAO,CAAC,GAAa,CAAC;AAChE,kBAAI,sBAAsB,EAAE;AAC5B,sBAAQ,OAAO,MAAM,WAAW,OAAO,GAAG,KAAK,CAAC;AAChD,qBAAO,CAAC,IAAc,GAAG,MAAM,YAAY,KAAK,CAAC,CAAC;AAAA,YACtD,KAAK;AACD,oBAAM,GAAG,KAAK;AACd,kBAAI,OAAO;AACP,sBAAM,IAAI,SAAS,mBAAmB,GAAG,OAAO,GAAG,oBAAoB,CAAC;AAC5E,sBAAQ,OAAO,MAAM,GAAG,OAAO,GAAG,gBAAgB,EAAE,OAAO,IAAI,MAAM,CAAC;AACtE,sBAAQ,OAAO,MAAM,WAAW,OAAO,GAAG,SAAS,CAAC;AACpD,qBAAO,CAAC,IAAc,GAAG,MAAM,UAAU,GAAG,CAAC;AAAA,YACjD,KAAK;AACD,oBAAM,GAAG,KAAK;AACd,oBAAM,GAAG,qBAAqB,SAAS,KAAK,QAAQ,YAAY;AAChE,kCAAoB,KAAK,CAAC,IAAI,CAAC,CAAC;AAChC,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD;AACA,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AAAG,qBAAO,CAAC,GAAc,mBAAmB;AAAA,UACrD;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,aAAS,aAAa,SAAS,QAAQ;AACnC,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,UAAU,MAAM,WAAW,qBAAqB,eAAe,YAAY,IAAI,YAAY,cAAc,KAAK,cAAc,kBAAkB,aAAa,OAAO,qBAAqB,gBAAgB,KAAK,QAAQ,SAAS,SAAS,QAAQ,QAAQ,WAAW,WAAW,UAAU,IAAI,uBAAuB,IAAI,IAAI,UAAU,UAAU,SAAS,SAAS,QAAQ,QAAQ,KAAK,UAAU,mBAAmB,mBAAmB,sBAAsB;AAC9b,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,sBAAQ,OAAO,MAAM,mBAAmB,EAAE,QAAQ,QAAQ,CAAC;AAC3D,yBAAW,QAAQ,UAAU,OAAO,QAAQ,MAAM,YAAY,QAAQ;AACtE,oCAAsB,QAAQ,uBAAuB;AACrD,8BAAgB;AAAA,gBACZ,cAAc,gBAAgB,QAAQ,YAAY;AAAA,gBAClD;AAAA,gBACA,mBAAmB,QAAQ,qBAAqB,OAAO,QAAQ,oBAAoB;AAAA,gBACnF,WAAW,QAAQ,aAAa;AAAA,gBAChC,OAAO,QAAQ;AAAA,gBACf,qBAAqB,QAAQ,uBAAuB,CAAC;AAAA,gBACrD,UAAU,QAAQ,YAAY,OAAO,OAAO,QAAQ;AAAA,gBACpD,eAAe,QAAQ,iBAAiB,OAAO,QAAQ,QAAQ;AAAA,gBAC/D,cAAc,OAAO,QAAQ,iBAAiB,aAAa,QAAQ,eAAe;AAAA,gBAClF,gBAAgB,QAAQ,kBAAkB,OAAO,QAAQ,QAAQ;AAAA,gBACjE,4BAA4B,QAAQ,8BAA8B,OAC5D,QACA,QAAQ;AAAA,gBACd,qBAAqB,QAAQ;AAAA,cACjC;AACA,2BAAa,EAAE,oBAAyC;AACxD,qBAAO,CAAC,GAAa,cAAc,QAAQ,CAAC;AAAA,YAChD,KAAK;AACD,mBAAK,GAAG,KAAK,GAAG,aAAa,GAAG,YAAY,eAAe,GAAG,cAAc,MAAM,GAAG,KAAK,eAAe,GAAG;AAC5G,sBAAQ,OAAO,MAAM,2BAA2B;AAChD,kCAAoB,GAAG,qBAAqB,SAAS,YAAY,cAAc,YAAY;AAC3F,4BAAc;AACd,kBAAI,EAAE,OAAO,SAAS,YAAa,QAAO,CAAC,GAAa,CAAC;AACzD,sBAAQ,OAAO,MAAM,0CAA0C;AAC/D,qBAAO,CAAC,IAAc,GAAG,kBAAkB,cAAc,kBAAkB,aAAa,CAAC;AAAA,YAC7F,KAAK;AACD,sBAAQ,GAAG,KAAK;AAChB,sBAAQ,OAAO,MAAM,UAAU,OAAO,SAAS,gBAAgB,CAAC;AAChE,qBAAO,CAAC,GAAa,KAAK,OAAO,SAAS,CAAC;AAAA,YAC/C,KAAK;AACD,4BAAc,GAAG,KAAK;AACtB,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AACD,4BAAc;AACd,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAG,qBAAO,CAAC,GAAa,kBAAkB,KAAK,cAAc,aAAa,CAAC;AAAA,YAChF,KAAK;AACD,oCAAsB,GAAG,KAAK;AAC9B,+BAAiB,KAAK,IAAI,MAAM,MAAM,cAAc,cAAc,CAAC,GAAG,oBAAoB,IAAI,SAAUA,KAAI;AACxG,oBAAI,IAAIA,IAAG,CAAC,GAAG,IAAIA,IAAG,CAAC;AACvB,wBAAQ,GAAG,kBAAkB,kBAAkB,CAAC;AAAA,cACpD,CAAC,GAAG,KAAK,GAAG,EAAE,GAAG,kBAAkB,kBAAkB,gBAAgB,CAAC,GAAG,KAAK,CAAC;AAK/E,sBAAQ,OAAO,MAAM,sBAAsB;AAC3C,qBAAO,GAAG,kBAAkB,YAAY,eAAe,cAAc;AACrE,qBAAO,CAAC,IAAc,GAAG,kBAAkB,iBAAiB,aAAa,kBAAkB,GAAG,CAAC;AAAA,YACnG,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,kBAAI,OAAO,WAAW,UAAU;AAC5B,sBAAM,OAAO;AAAA,cACjB;AACA,wBAAU,OAAO,QAAQ,UAAU,OAAO,QAAQ,SAAS,OAAO,OAAO,SAAS,OAAO;AACzF,kBAAI,WAAW;AACX,uBAAO,CAAC,GAAc,OAAO;AACjC,sBAAQ,OAAO,MAAM,6BAA6B;AAClD,2BAAa,GAAG,MAAM,UAAU,SAAS,UAAU;AACnD,kBAAI,WAAW;AACX,uBAAO,CAAC,GAAc,UAAU,SAAS,OAAO,CAAC;AACrD,sBAAQ,OAAO,MAAM,mBAAmB;AACxC,eAAC,GAAG,MAAM,YAAY,KAAK,GAAG,OAAO,eAAe,GAAG,EAAE,OAAO,YAAY,GAAG,SAAS;AACxF,0BAAY,OAAO,KAAK,OAAO,EAAE;AACjC,yBAAW,OAAO,KAAK,MAAM,EAAE;AAC/B,qBAAO,CAAC,GAAa,cAAc,SAAS,cAAc,GAAG,CAAC;AAAA,YAClE,KAAK;AACD,iBAAG,KAAK;AACR,qBAAO,CAAC,GAAa,aAAa,QAAQ,cAAc,GAAG,CAAC;AAAA,YAChE,KAAK;AACD,iBAAG,KAAK;AACR,qBAAO,CAAC,GAAa,aAAa,QAAQ,cAAc,GAAG,CAAC;AAAA,YAChE,KAAK;AACD,iBAAG,KAAK;AACR,mBAAK,GAAG,wBAAwB;AAChC,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,EAAE,KAAK,sBAAsB,QAAS,QAAO,CAAC,GAAa,EAAE;AACjE,mBAAK,sBAAsB,EAAE,GAAG,KAAK,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC;AAG3D,qBAAO,GAAG,kBAAkB,YAAY,eAAe,IAAI,wBAAwB;AACnF,qBAAO,CAAC,IAAc,GAAG,kBAAkB,iBAAiB,aAAa,IAAI,GAAG,CAAC;AAAA,YACrF,KAAK;AACD,yBAAW,GAAG,KAAK;AACnB,kBAAI,SAAS,WAAW,UAAU;AAC9B,sBAAM,SAAS;AAAA,cACnB;AACA,wBAAU,SAAS,QAAQ,UAAU,SAAS,QAAQ,SAAS,SAAS,OAAO,SAAS,SAAS;AACjG,qBAAO,GAAG,MAAM,UAAU,SAAS,UAAU;AAC7C,eAAC,GAAG,MAAM,YAAY,KAAK,UAAU,GAAG;AACxC,2BAAa,OAAO,KAAK,OAAO,EAAE;AAClC,0BAAY,OAAO,KAAK,MAAM,EAAE;AAChC,yBAAW,SAAS,MAAM,GAAG;AAC7B,kCAAoB,SAAS,SAAS,SAAS,CAAC;AAChD,qBAAO,CAAC,GAAa,cAAc,SAAS,mBAAmB,GAAG,CAAC;AAAA,YACvE,KAAK;AACD,iBAAG,KAAK;AACR,qBAAO,CAAC,GAAa,aAAa,QAAQ,cAAc,GAAG,CAAC;AAAA,YAChE,KAAK;AACD,iBAAG,KAAK;AACR,qBAAO,CAAC,GAAa,aAAa,QAAQ,cAAc,GAAG,CAAC;AAAA,YAChE,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD;AACA,qBAAO,CAAC,GAAa,EAAE;AAAA,YAC3B,KAAK;AAED,kBAAI,aAAa,UAAU;AACvB,wBAAQ,OAAO,MAAM,mCAAmC;AACxD,wBAAQ,OAAO,MAAM,iBAAiB,EAAE,QAAQ,aAAa,CAAC;AAC9D,oCAAoB,SAAU,WAAW,aAAa;AAClD,sBAAI,WAAW,aAAa;AAC5B,sBAAI,SAAS,OAAO,SAAU,GAAG;AAC7B,wBAAIA;AACJ,2BAAO,CAAC,EAAE,gBACJA,MAAK,EAAE,OAAO,eAAe,QAAQA,QAAO,SAAS,SAASA,IAAG,YAAY,QAAQ,cAAc,QAAQ,cAAc,SAAS,SAAS,UAAU,YAAY;AAAA,kBAC3K,CAAC,EAAE,QAAQ;AACP;AAAA,kBACJ;AACA,mBAAC,GAAG,cAAc,UAAU,eAAe,GAAG,cAAc,gBAAgB,WAAW;AAAA,oBACnF,WAAW;AAAA,oBACX,aAAa;AAAA,kBACjB,CAAC,CAAC;AAAA,gBACN;AACA,oBAAI,WAAW;AACX,0BAAQ,OAAO,MAAM,8CAA8C;AACnE,oCAAkB,OAAO,WAAW;AACpC,oCAAkB,OAAO,YAAY;AACrC,oCAAkB,QAAQ,YAAY;AACtC,oCAAkB,OAAO,WAAW;AACpC,oCAAkB,OAAO,WAAW;AACpC,oCAAkB,OAAO,eAAe;AAAA,gBAC5C;AACA,oBAAI,UAAU;AACV,0BAAQ,OAAO,MAAM,4CAA4C;AACjE,oCAAkB,QAAQ,WAAW;AAAA,gBACzC;AACA,wCAAwB,GAAG,MAAM,UAAU,cAAc,UAAU;AACnE,iBAAC,GAAG,MAAM,YAAY,KAAK,oBAAoB,oBAAoB;AAAA,cACvE;AACA,sBAAQ,OAAO,MAAM,YAAY;AACjC,qBAAO,CAAC,IAAc,GAAG,MAAM,SAAS,GAAG,CAAC;AAAA,YAChD,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAc,MAAM;AAAA,UACpC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AAkBA,aAAS,aAAa,UAAU,WAAW;AACvC,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,MAAM,IAAI,YAAY,cAAc,KAAK,aAAa,MAAM,UAAU,IAAI,QAAQ,IAAI,SAAS;AACnG,YAAI,QAAQ;AACZ,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,qBAAO;AAAA,gBACH,cAAc,gBAAgB,SAAS;AAAA;AAAA,gBAEvC,qBAAqB;AAAA,gBACrB,mBAAmB;AAAA,gBACnB,WAAW;AAAA,gBACX,qBAAqB,CAAC;AAAA,gBACtB,UAAU;AAAA,gBACV,eAAe;AAAA,gBACf,cAAc;AAAA,gBACd,gBAAgB;AAAA,gBAChB,4BAA4B;AAAA,cAChC;AACA,qBAAO,CAAC,GAAa,cAAc,QAAQ,CAAC;AAAA,YAChD,KAAK;AACD,mBAAK,GAAG,KAAK,GAAG,aAAa,GAAG,YAAY,eAAe,GAAG,cAAc,MAAM,GAAG;AACrF,qBAAO,CAAC,GAAa,kBAAkB,KAAK,cAAc,IAAI,CAAC;AAAA,YACnE,KAAK;AACD,4BAAc,GAAG,KAAK;AACtB,qBAAO,cAAc,CAAC,UAAU,GAAG,YAAY,IAAI,SAAUA,KAAI;AAC7D,oBAAIC,MAAKD,IAAG,CAAC,GAAG,OAAOA,IAAG,CAAC;AAC3B,uBAAOC;AAAA,cACX,CAAC,GAAG,IAAI;AACR,yBAAW,CAAC;AACZ,mBAAK,GAAG,SAAS;AACjB,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD,kBAAI,EAAE,KAAK,OAAO,QAAS,QAAO,CAAC,GAAa,CAAC;AACjD,mBAAK,OAAO,EAAE;AACd,yBAAW,GAAG,qBAAqB,SAAS,IAAI,KAAK,YAAY;AACjE,qBAAO,GAAG,kBAAkB,YAAY,IAAI;AAC5C,qBAAO,CAAC,IAAc,GAAG,kBAAkB,cAAc,QAAW,SAAS,KAAK,SAAU,MAAM,MAAMC,MAAK;AAAE,uBAAO,UAAU,OAAO,QAAQ,QAAQ,WAAY;AAC3J,sBAAI,KAAKF,KAAI,SAAS,MAAM;AAC5B,yBAAO,YAAY,MAAM,SAAUG,KAAI;AACnC,2BAAO,GAAG,kBAAkB,YAAYD,KAAI,KAAKA,KAAI,YAAYA,KAAI,QAAQ,cAAc;AAC3F,oBAAAA,KAAI,MAAM;AACV,oBAAAF,OAAM,GAAG,kBAAkB,cAAc,GAAG,GAAG,UAAUA,IAAG,SAAS,OAAOA,IAAG;AAC/E,2BAAO;AACP,wBAAI,QAAQ,QAAQ,SAAS,YAAY;AACrC,+BAAS,KAAK;AAAA,wBACV;AAAA,wBACA;AAAA,wBACA;AAAA,sBACJ,CAAC;AAAA,oBACL;AACA,2BAAO,CAAC,GAAc,MAAS;AAAA,kBACnC,CAAC;AAAA,gBACL,CAAC;AAAA,cAAG,CAAC,CAAC;AAAA,YACd,KAAK;AACD,iBAAG,KAAK;AACR,iBAAG,QAAQ;AAAA,YACf,KAAK;AACD;AACA,qBAAO,CAAC,GAAa,CAAC;AAAA,YAC1B,KAAK;AAAG,qBAAO,CAAC,GAAc,QAAQ;AAAA,UAC1C;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,eAAe;AAKvB,aAAS,YAAY,UAAU;AAC3B,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAE/C,iBAAS,QAAQ,GAAG;AAChB,cAAI,EAAE,UAAU,WAAW;AACvB,mBAAO;AACX,cAAI,IAAI,EAAE,UAAU,CAAC;AACrB,cAAI,EAAE;AACF,mBAAO,EAAE;AACb,gBAAM,IAAI,MAAM,iBAAiB;AAAA,QACrC;AACA,iBAAS,aAAa,GAAG,KAAK;AAC1B,mBAAS,KAAK,GAAG,KAAK,EAAE,WAAW,KAAK,GAAG,QAAQ,MAAM;AACrD,gBAAI,IAAI,GAAG,EAAE;AACb,gBAAI,EAAE;AACF;AACJ,gBAAI,EAAE,SAAS;AACX,qBAAO,QAAQ,CAAC;AAAA,UACxB;AACA;AAAA,QACJ;AACA,YAAI,cAAc,eAAe,KAAK,QAAQ,SAAS;AACvD,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,6BAAe;AACf,8BAAgB;AAChB,qBAAO,CAAC,IAAc,GAAG,MAAM,SAAS,QAAQ,CAAC;AAAA,YACrD,KAAK;AACD,oBAAM,GAAG,KAAK;AACd,qBAAO,CAAC,GAAa,UAAU,KAAK,YAAY,CAAC;AAAA,YACrD,KAAK;AACD,uBAAS,GAAG,KAAK;AACjB,qBAAO,CAAC,GAAa,UAAU,KAAK,aAAa,CAAC;AAAA,YACtD,KAAK;AACD,wBAAU,GAAG,KAAK;AAClB,0BAAY,SAAU,GAAG;AACrB,oBAAI,IAAI,OAAO,CAAC;AAChB,oBAAI,OAAO,SAAS,CAAC;AACjB,yBAAO;AACX;AAAA,cACJ;AACA,qBAAO,CAAC,GAAc;AAAA,gBACd,OAAO,UAAU,aAAa,QAAQ,OAAO,CAAC;AAAA,gBAC9C,OAAO,UAAU,aAAa,QAAQ,OAAO,CAAC;AAAA,gBAC9C,YAAY,UAAU,aAAa,QAAQ,YAAY,CAAC;AAAA,gBACxD,OAAO,UAAU,aAAa,QAAQ,OAAO,CAAC;AAAA,gBAC9C,YAAY,UAAU,aAAa,QAAQ,YAAY,CAAC;AAAA,gBACxD,SAAS,aAAa,QAAQ,SAAS;AAAA,gBACvC,UAAU,aAAa,QAAQ,UAAU;AAAA;AAAA,gBAEzC,OAAO,aAAa,SAAS,UAAU;AAAA,gBACvC,SAAS,aAAa,SAAS,YAAY;AAAA,gBAC3C,SAAS,aAAa,SAAS,YAAY;AAAA,gBAC3C,aAAa,aAAa,SAAS,gBAAgB;AAAA,gBACnD,gBAAgB,aAAa,SAAS,mBAAmB;AAAA,gBACzD,UAAU,aAAa,SAAS,aAAa;AAAA,gBAC7C,aAAa,aAAa,SAAS,gBAAgB;AAAA,gBACnD,SAAS,aAAa,SAAS,iBAAiB;AAAA,gBAChD,UAAU,aAAa,SAAS,kBAAkB;AAAA,gBAClD,UAAU,aAAa,SAAS,aAAa;AAAA,cACjD,CAAC;AAAA,UACb;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,cAAc;AACtB,aAAS,UAAU,KAAK,UAAU;AAC9B,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,YAAI,SAAS;AACb,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AAAG,qBAAO,CAAC,IAAc,GAAG,MAAM,YAAY,KAAK,QAAQ,CAAC;AAAA,YACjE,KAAK;AACD,wBAAU,GAAG,KAAK;AAClB,kBAAI,WAAW;AACX,sBAAM,IAAI,SAAS,mBAAmB,GAAG,OAAO,UAAU,oBAAoB,CAAC;AACnF,qBAAO,CAAC,IAAc,GAAG,MAAM,UAAU,OAAO,CAAC;AAAA,YACrD,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,kBAAI,KAAK;AACL,sBAAM,IAAI,SAAS,mBAAmB,GAAG,OAAO,UAAU,6BAA6B,CAAC;AAC5F,qBAAO,CAAC,GAAc,IAAI;AAAA,UAClC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,aAAS,iBAAiB,KAAK;AAC3B,aAAO,UAAU,MAAM,QAAQ,QAAQ,WAAY;AAC/C,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AAAG,qBAAO,CAAC,GAAa,UAAU,KAAK,kBAAkB,CAAC;AAAA,YAC/D,KAAK;AAAG,qBAAO,CAAC,GAAc,GAAG,KAAK,CAAC;AAAA,UAC3C;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IACL;AACA,YAAQ,mBAAmB;AAC3B,aAAS,WAAW,cAAc;AAC9B,UAAI,iBAAiB;AAAA,QACjB;AAAA,QACA;AAAA,MACJ;AACA,eAAS,KAAK,GAAG,KAAK,aAAa,WAAW,KAAK,GAAG,QAAQ,MAAM;AAChE,YAAI,IAAI,GAAG,EAAE;AACb,YAAI,CAAC,EAAE,YAAY;AACf,cAAI,EAAE,OAAO,eAAe,QACxB,eAAe,SAAS,EAAE,OAAO,WAAW,GAAG;AAC/C,gBAAI,OAAO,EAAE,OAAO;AACpB,gBAAI,MAAM;AACN,qBAAO,KAAK,QAAQ,UAAU,EAAE;AAAA,YACpC;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AACA,YAAM,IAAI,SAAS,mBAAmB,uDAAuD,OAAO,kBAAkB,CAAC;AAAA,IAC3H;AACA,YAAQ,aAAa;AACrB,QAAI,gBAAgB,SAAU,QAAQ,mBAAmB,KAAK;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AACjH,YAAI,UAAU,UAAU,MAAM,IAAI,YAAY,SAAS,IAAI,WAAW,SAAS,SAAS,SAAS;AACjG,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,sBAAQ,OAAO,MAAM,yBAAyB,OAAO,mBAAmB,KAAK,CAAC;AAC9E,yBAAW,OAAO,KAAK,MAAM;AAC7B,kBAAI,CAAC,SAAS;AACV,uBAAO;AAAA,kBAAC;AAAA;AAAA,gBAAY;AACxB,sBAAQ,OAAO,MAAM,iCAAiC;AACtD,yBAAW,GAAG,OAAO,eAAe,SAAS,EAAE,OAAO,mBAAmB,OAAO;AAChF,qBAAO,CAAC,GAAa,eAAe,KAAK,QAAQ,CAAC;AAAA,YACtD,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,mBAAK,KAAK,GAAG,aAAa,UAAU,KAAK,WAAW,QAAQ,MAAM;AAC9D,0BAAU,WAAW,EAAE;AACvB,qBAAK,OAAO,OAAO,GAAG,YAAY,GAAG,WAAW,UAAU,GAAG;AAC7D,0BAAU,YAAY,OAAO,mBAAmB,GAAG,EAAE,OAAO,OAAO,EAAE,OAAO,SAAS;AACrF,wBAAQ,OAAO,MAAM,iBAAiB,OAAO,SAAS,IAAI,EAAE,OAAO,SAAS,MAAM,CAAC;AACnF,0BAAU,GAAG,OAAO,eAAe,SAAS,EAAE,OAAO,OAAO;AAC5D,oBAAI,OAAO,YAAY,UAAU;AAC7B,sBAAI,KAAK,SAAS,SAAS,EAAE,QAAQ,KAAK,CAAC;AAAA,gBAC/C,OACK;AACD,sBAAI,KAAK,SAAS,SAAS,EAAE,QAAQ,KAAK,CAAC;AAAA,gBAC/C;AACA,iBAAC,GAAG,cAAc,UAAU,OAAO,GAAG,cAAc,gBAAgB,gBAAgB;AAAA,kBAChF,IAAI;AAAA,kBACJ,MAAM;AAAA,kBACN,QAAQ,SAAS,OAAO,OAAO;AAAA,gBACnC,CAAC,CAAC;AAAA,cACN;AACA,8BAAgB,GAAG,MAAM,UAAU,MAAM;AAAA,gBACrC,qBAAqB;AAAA,cACzB,CAAC;AACD,eAAC,GAAG,MAAM,YAAY,KAAK,UAAU,YAAY;AACjD,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UAC5B;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,eAAe,SAAU,OAAO,mBAAmB,KAAK;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC/G,YAAI,SAAS,UAAU,MAAM,IAAI,WAAW,QAAQ,KAAK;AACzD,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,sBAAQ,OAAO,MAAM,wBAAwB,OAAO,mBAAmB,KAAK,CAAC;AAC7E,wBAAU,OAAO,KAAK,KAAK;AAC3B,kBAAI,CAAC,QAAQ,OAAQ,QAAO,CAAC,GAAa,CAAC;AAC3C,sBAAQ,OAAO,MAAM,iCAAiC;AACtD,yBAAW,GAAG,OAAO,eAAe,SAAS,EAAE,OAAO,mBAAmB,OAAO;AAChF,qBAAO,CAAC,GAAa,eAAe,KAAK,QAAQ,CAAC;AAAA,YACtD,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,mBAAK,KAAK,GAAG,YAAY,SAAS,KAAK,UAAU,QAAQ,MAAM;AAC3D,yBAAS,UAAU,EAAE;AACrB,sBAAM,MAAM,MAAM,EAAE;AACpB,iBAAC,GAAG,cAAc,UAAU,OAAO,GAAG,cAAc,gBAAgB,gBAAgB;AAAA,kBAChF,IAAI;AAAA,kBACJ,MAAM;AAAA,kBACN,QAAQ;AAAA,kBACR,YAAY;AAAA,gBAChB,CAAC,CAAC;AAAA,cACN;AACA,8BAAgB,GAAG,MAAM,UAAU,MAAM;AAAA,gBACrC,qBAAqB;AAAA,cACzB,CAAC;AACD,eAAC,GAAG,MAAM,YAAY,KAAK,UAAU,YAAY;AACjD,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAG,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UAChC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,eAAe,SAAU,OAAO,mBAAmB,KAAK;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AAC/G,YAAI,SAAS,WAAW,UAAU,MAAM,IAAI,WAAW,QAAQ,UAAU,UAAU,UAAU;AAC7F,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AACD,sBAAQ,OAAO,MAAM,wBAAwB,OAAO,mBAAmB,KAAK,CAAC;AAC7E,wBAAU,OAAO,KAAK,KAAK;AAC3B,kBAAI,CAAC,QAAQ,OAAQ,QAAO,CAAC,GAAa,CAAC;AAE3C,sBAAQ,OAAO,MAAM,iCAAiC;AACtD,0BAAY,CAAC;AACb,yBAAW,GAAG,OAAO,eAAe,SAAS,EAAE,OAAO,mBAAmB,OAAO;AAChF,qBAAO,CAAC,GAAa,eAAe,KAAK,QAAQ,CAAC;AAAA,YACtD,KAAK;AACD,qBAAO,GAAG,KAAK;AACf,mBAAK,KAAK,GAAG,YAAY,SAAS,KAAK,UAAU,QAAQ,MAAM;AAC3D,yBAAS,UAAU,EAAE;AACrB,2BAAW,MAAM,MAAM;AACvB,2BAAW,YAAY,OAAO,kBAAkB,QAAQ,OAAO,GAAG,GAAG,GAAG,EAAE,OAAO,QAAQ,OAAO;AAChG,wBAAQ,OAAO,MAAM,gBAAgB,OAAO,QAAQ,IAAI,EAAE,OAAO,UAAU,MAAM,CAAC;AAClF,2BAAW,GAAG,OAAO,eAAe,GAAG,EAAE,OAAO,QAAQ;AACxD,0BAAU,KAAK,IAAI,OAAO,QAAQ,CAAC;AACnC,iBAAC,GAAG,MAAM,YAAY,KAAK,UAAU,OAAO,KAAK,QAAQ,CAAC;AAC1D,iBAAC,GAAG,cAAc,UAAU,OAAO,GAAG,cAAc,gBAAgB,gBAAgB;AAAA,kBAChF,IAAI;AAAA,kBACJ,MAAM;AAAA,kBACN,QAAQ,GAAG,OAAO,QAAQ;AAAA,gBAC9B,CAAC,CAAC;AAAA,cACN;AACA,8BAAgB,GAAG,MAAM,UAAU,MAAM;AAAA,gBACrC,qBAAqB;AAAA,cACzB,CAAC;AACD,eAAC,GAAG,MAAM,YAAY,KAAK,UAAU,YAAY;AACjD,iBAAG,QAAQ;AAAA,YACf,KAAK;AAAG,qBAAO;AAAA,gBAAC;AAAA;AAAA,cAAY;AAAA,UAChC;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,iBAAiB,SAAU,KAAK,UAAU;AAAE,aAAO,UAAU,QAAQ,QAAQ,QAAQ,WAAY;AACjG,YAAI;AACJ,eAAO,YAAY,MAAM,SAAU,IAAI;AACnC,kBAAQ,GAAG,OAAO;AAAA,YACd,KAAK;AAAG,qBAAO,CAAC,IAAc,GAAG,MAAM,YAAY,KAAK,QAAQ,CAAC;AAAA,YACjE,KAAK;AACD,wBAAU,GAAG,KAAK;AAClB,kBAAI,CAAC,SAAS;AACV,0BAAU;AAAA,cACd;AACA,qBAAO,CAAC,IAAe,GAAG,MAAM,UAAU,OAAO,CAAC;AAAA,UAC1D;AAAA,QACJ,CAAC;AAAA,MACL,CAAC;AAAA,IAAG;AACJ,QAAI,kBAAkB,SAAU,WAAW;AACvC,UAAI,CAAC;AACD,eAAO,CAAC,uBAAuB,qBAAqB;AACxD,UAAI,OAAO,cAAc;AACrB,eAAO,CAAC,WAAW,SAAS;AAChC,aAAO;AAAA,IACX;AACA,YAAQ,UAAU;AAAA;AAAA;;;ACxoBlB;AAAA;AACA,QAAI,kBAAmB,WAAQ,QAAK,oBAAqB,OAAO,SAAU,SAAS,GAAG,GAAG,GAAG,IAAI;AAC5F,UAAI,OAAO,OAAW,MAAK;AAC3B,UAAI,OAAO,OAAO,yBAAyB,GAAG,CAAC;AAC/C,UAAI,CAAC,SAAS,SAAS,OAAO,CAAC,EAAE,aAAa,KAAK,YAAY,KAAK,eAAe;AACjF,eAAO,EAAE,YAAY,MAAM,KAAK,WAAW;AAAE,iBAAO,EAAE,CAAC;AAAA,QAAG,EAAE;AAAA,MAC9D;AACA,aAAO,eAAe,GAAG,IAAI,IAAI;AAAA,IACrC,IAAM,SAAS,GAAG,GAAG,GAAG,IAAI;AACxB,UAAI,OAAO,OAAW,MAAK;AAC3B,QAAE,EAAE,IAAI,EAAE,CAAC;AAAA,IACf;AACA,QAAI,eAAgB,WAAQ,QAAK,gBAAiB,SAAS,GAAGI,UAAS;AACnE,eAAS,KAAK,EAAG,KAAI,MAAM,aAAa,CAAC,OAAO,UAAU,eAAe,KAAKA,UAAS,CAAC,EAAG,iBAAgBA,UAAS,GAAG,CAAC;AAAA,IAC5H;AACA,QAAI,kBAAmB,WAAQ,QAAK,mBAAoB,SAAU,KAAK;AACnE,aAAQ,OAAO,IAAI,aAAc,MAAM,EAAE,WAAW,IAAI;AAAA,IAC5D;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,eAAe,QAAQ,cAAc,QAAQ,eAAe;AACpE,QAAI,SAAS,gBAAgB,cAAiB;AAC9C,YAAQ,eAAe,OAAO;AAC9B,QAAI,SAAS;AACb,WAAO,eAAe,SAAS,gBAAgB,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,OAAO;AAAA,IAAc,EAAE,CAAC;AACrH,WAAO,eAAe,SAAS,eAAe,EAAE,YAAY,MAAM,KAAK,WAAY;AAAE,aAAO,OAAO;AAAA,IAAa,EAAE,CAAC;AACnH,iBAAa,kBAAqB,OAAO;AACzC,YAAQ,UAAU,OAAO;AAAA;AAAA;",
  "names": ["Buffer", "Buffer", "s", "d", "b", "NullishCommandResultError", "ObjectCommandResultError", "CommandSyntaxError", "InvalidCommandError", "CommandExecutionError", "ImageError", "InternalError", "TemplateParseError", "IncompleteConditionalStatementError", "UnterminatedForLoopError", "newTextNode", "_a", "js", "ctx", "_b", "exports"]
}
