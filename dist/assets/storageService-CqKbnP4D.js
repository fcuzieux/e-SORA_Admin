import{s as n}from"./index-D2f-Nzmj.js";const a="drone-documents";async function c(e,l,o){try{const r=Date.now(),s=`${l}/${o}/${r}_${e.name}`,{error:t}=await n.storage.from(a).upload(s,e,{cacheControl:"3600",upsert:!1});if(t)return console.error("Erreur lors de l'upload du fichier:",t),null;const{data:{publicUrl:u}}=n.storage.from(a).getPublicUrl(s);return u}catch(r){return console.error("Erreur lors de l'upload du fichier:",r),null}}async function p(e,l,o){const r=e.map(t=>c(t,l,o));return(await Promise.all(r)).filter(t=>t!==null)}async function d(e,l){try{const r=await(await fetch(e)).blob();return new File([r],l,{type:r.type})}catch(o){return console.error("Erreur lors de la conversion URL vers File:",o),null}}export{c as uploadFile,p as uploadMultipleFiles,d as urlToFile};
